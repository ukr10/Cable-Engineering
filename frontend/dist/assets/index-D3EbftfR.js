function b$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l5={exports:{}},bw={},u5={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=Symbol.for("react.element"),E$=Symbol.for("react.portal"),T$=Symbol.for("react.fragment"),A$=Symbol.for("react.strict_mode"),M$=Symbol.for("react.profiler"),C$=Symbol.for("react.provider"),P$=Symbol.for("react.context"),O$=Symbol.for("react.forward_ref"),R$=Symbol.for("react.suspense"),N$=Symbol.for("react.memo"),I$=Symbol.for("react.lazy"),jN=Symbol.iterator;function L$(t){return t===null||typeof t!="object"?null:(t=jN&&t[jN]||t["@@iterator"],typeof t=="function"?t:null)}var c5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f5=Object.assign,h5={};function lp(t,e,n){this.props=t,this.context=e,this.refs=h5,this.updater=n||c5}lp.prototype.isReactComponent={};lp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d5(){}d5.prototype=lp.prototype;function HC(t,e,n){this.props=t,this.context=e,this.refs=h5,this.updater=n||c5}var WC=HC.prototype=new d5;WC.constructor=HC;f5(WC,lp.prototype);WC.isPureReactComponent=!0;var HN=Array.isArray,p5=Object.prototype.hasOwnProperty,GC={current:null},m5={key:!0,ref:!0,__self:!0,__source:!0};function g5(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)p5.call(e,r)&&!m5.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Jg,type:t,key:a,ref:s,props:i,_owner:GC.current}}function D$(t,e){return{$$typeof:Jg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function VC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jg}function k$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WN=/\/+/g;function h2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k$(""+t.key):e.toString(36)}function i1(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Jg:case E$:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+h2(s,0):r,HN(i)?(n="",t!=null&&(n=t.replace(WN,"$&/")+"/"),i1(i,e,n,"",function(u){return u})):i!=null&&(VC(i)&&(i=D$(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(WN,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",HN(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+h2(a,o);s+=i1(a,e,n,l,i)}else if(l=L$(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+h2(a,o++),s+=i1(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ey(t,e,n){if(t==null)return t;var r=[],i=0;return i1(t,r,"","",function(a){return e.call(n,a,i++)}),r}function F$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qi={current:null},a1={transition:null},U$={ReactCurrentDispatcher:Qi,ReactCurrentBatchConfig:a1,ReactCurrentOwner:GC};function v5(){throw Error("act(...) is not supported in production builds of React.")}nn.Children={map:Ey,forEach:function(t,e,n){Ey(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ey(t,function(){e++}),e},toArray:function(t){return Ey(t,function(e){return e})||[]},only:function(t){if(!VC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nn.Component=lp;nn.Fragment=T$;nn.Profiler=M$;nn.PureComponent=HC;nn.StrictMode=A$;nn.Suspense=R$;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U$;nn.act=v5;nn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=f5({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=GC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)p5.call(e,l)&&!m5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Jg,type:t.type,key:i,ref:a,props:r,_owner:s}};nn.createContext=function(t){return t={$$typeof:P$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C$,_context:t},t.Consumer=t};nn.createElement=g5;nn.createFactory=function(t){var e=g5.bind(null,t);return e.type=t,e};nn.createRef=function(){return{current:null}};nn.forwardRef=function(t){return{$$typeof:O$,render:t}};nn.isValidElement=VC;nn.lazy=function(t){return{$$typeof:I$,_payload:{_status:-1,_result:t},_init:F$}};nn.memo=function(t,e){return{$$typeof:N$,type:t,compare:e===void 0?null:e}};nn.startTransition=function(t){var e=a1.transition;a1.transition={};try{t()}finally{a1.transition=e}};nn.unstable_act=v5;nn.useCallback=function(t,e){return Qi.current.useCallback(t,e)};nn.useContext=function(t){return Qi.current.useContext(t)};nn.useDebugValue=function(){};nn.useDeferredValue=function(t){return Qi.current.useDeferredValue(t)};nn.useEffect=function(t,e){return Qi.current.useEffect(t,e)};nn.useId=function(){return Qi.current.useId()};nn.useImperativeHandle=function(t,e,n){return Qi.current.useImperativeHandle(t,e,n)};nn.useInsertionEffect=function(t,e){return Qi.current.useInsertionEffect(t,e)};nn.useLayoutEffect=function(t,e){return Qi.current.useLayoutEffect(t,e)};nn.useMemo=function(t,e){return Qi.current.useMemo(t,e)};nn.useReducer=function(t,e,n){return Qi.current.useReducer(t,e,n)};nn.useRef=function(t){return Qi.current.useRef(t)};nn.useState=function(t){return Qi.current.useState(t)};nn.useSyncExternalStore=function(t,e,n){return Qi.current.useSyncExternalStore(t,e,n)};nn.useTransition=function(){return Qi.current.useTransition()};nn.version="18.3.1";u5.exports=nn;var fe=u5.exports;const Te=Mn(fe),B$=b$({__proto__:null,default:Te},[fe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z$=fe,j$=Symbol.for("react.element"),H$=Symbol.for("react.fragment"),W$=Object.prototype.hasOwnProperty,G$=z$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V$={key:!0,ref:!0,__self:!0,__source:!0};function y5(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)W$.call(e,r)&&!V$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j$,type:t,key:a,ref:s,props:i,_owner:G$.current}}bw.Fragment=H$;bw.jsx=y5;bw.jsxs=y5;l5.exports=bw;var O=l5.exports,yT={},x5={exports:{}},qa={},_5={exports:{}},w5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var X=U.length;U.push(H);e:for(;0<X;){var F=X-1>>>1,N=U[F];if(0<i(N,H))U[F]=H,U[X]=N,X=F;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var H=U[0],X=U.pop();if(X!==H){U[0]=X;e:for(var F=0,N=U.length,V=N>>>1;F<V;){var Y=2*(F+1)-1,q=U[Y],ae=Y+1,pe=U[ae];if(0>i(q,X))ae<N&&0>i(pe,q)?(U[F]=pe,U[ae]=X,F=ae):(U[F]=q,U[Y]=X,F=Y);else if(ae<N&&0>i(pe,X))U[F]=pe,U[ae]=X,F=ae;else break e}}return H}function i(U,H){var X=U.sortIndex-H.sortIndex;return X!==0?X:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=U)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function S(U){if(v=!1,_(U),!g)if(n(l)!==null)g=!0,Z(b);else{var H=n(u);H!==null&&ee(S,H.startTime-U)}}function b(U,H){g=!1,v&&(v=!1,x(P),P=-1),d=!0;var X=h;try{for(_(H),f=n(l);f!==null&&(!(f.expirationTime>H)||U&&!D());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var N=F(f.expirationTime<=H);H=t.unstable_now(),typeof N=="function"?f.callback=N:f===n(l)&&r(l),_(H)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var Y=n(u);Y!==null&&ee(S,Y.startTime-H),V=!1}return V}finally{f=null,h=X,d=!1}}var T=!1,A=null,P=-1,M=5,R=-1;function D(){return!(t.unstable_now()-R<M)}function L(){if(A!==null){var U=t.unstable_now();R=U;var H=!0;try{H=A(!0,U)}finally{H?B():(T=!1,A=null)}}else T=!1}var B;if(typeof w=="function")B=function(){w(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,z=G.port2;G.port1.onmessage=L,B=function(){z.postMessage(null)}}else B=function(){y(L,0)};function Z(U){A=U,T||(T=!0,B())}function ee(U,H){P=y(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,Z(b))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var X=h;h=H;try{return U()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=h;h=U;try{return H()}finally{h=X}},t.unstable_scheduleCallback=function(U,H,X){var F=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?F+X:F):X=F,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=X+N,U={id:c++,callback:H,priorityLevel:U,startTime:X,expirationTime:N,sortIndex:-1},X>F?(U.sortIndex=X,e(u,U),n(l)===null&&U===n(u)&&(v?(x(P),P=-1):v=!0,ee(S,X-F))):(U.sortIndex=N,e(l,U),g||d||(g=!0,Z(b))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var H=h;return function(){var X=h;h=H;try{return U.apply(this,arguments)}finally{h=X}}}})(w5);_5.exports=w5;var $$=_5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X$=fe,$a=$$;function ct(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S5=new Set,Am={};function Pf(t,e){Td(t,e),Td(t+"Capture",e)}function Td(t,e){for(Am[t]=e,t=0;t<e.length;t++)S5.add(e[t])}var wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xT=Object.prototype.hasOwnProperty,Y$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GN={},VN={};function q$(t){return xT.call(VN,t)?!0:xT.call(GN,t)?!1:Y$.test(t)?VN[t]=!0:(GN[t]=!0,!1)}function K$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z$(t,e,n,r){if(e===null||typeof e>"u"||K$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ea(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){di[t]=new ea(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];di[e]=new ea(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){di[t]=new ea(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){di[t]=new ea(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){di[t]=new ea(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){di[t]=new ea(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){di[t]=new ea(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){di[t]=new ea(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){di[t]=new ea(t,5,!1,t.toLowerCase(),null,!1,!1)});var $C=/[\-:]([a-z])/g;function XC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($C,XC);di[e]=new ea(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($C,XC);di[e]=new ea(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($C,XC);di[e]=new ea(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){di[t]=new ea(t,1,!1,t.toLowerCase(),null,!1,!1)});di.xlinkHref=new ea("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){di[t]=new ea(t,1,!1,t.toLowerCase(),null,!0,!0)});function YC(t,e,n,r){var i=di.hasOwnProperty(e)?di[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z$(e,n,i,r)&&(n=null),r||i===null?q$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ll=X$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ty=Symbol.for("react.element"),Wh=Symbol.for("react.portal"),Gh=Symbol.for("react.fragment"),qC=Symbol.for("react.strict_mode"),_T=Symbol.for("react.profiler"),b5=Symbol.for("react.provider"),E5=Symbol.for("react.context"),KC=Symbol.for("react.forward_ref"),wT=Symbol.for("react.suspense"),ST=Symbol.for("react.suspense_list"),ZC=Symbol.for("react.memo"),iu=Symbol.for("react.lazy"),T5=Symbol.for("react.offscreen"),$N=Symbol.iterator;function l0(t){return t===null||typeof t!="object"?null:(t=$N&&t[$N]||t["@@iterator"],typeof t=="function"?t:null)}var er=Object.assign,d2;function j0(t){if(d2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);d2=e&&e[1]||""}return`
`+d2+t}var p2=!1;function m2(t,e){if(!t||p2)return"";p2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{p2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j0(t):""}function J$(t){switch(t.tag){case 5:return j0(t.type);case 16:return j0("Lazy");case 13:return j0("Suspense");case 19:return j0("SuspenseList");case 0:case 2:case 15:return t=m2(t.type,!1),t;case 11:return t=m2(t.type.render,!1),t;case 1:return t=m2(t.type,!0),t;default:return""}}function bT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gh:return"Fragment";case Wh:return"Portal";case _T:return"Profiler";case qC:return"StrictMode";case wT:return"Suspense";case ST:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E5:return(t.displayName||"Context")+".Consumer";case b5:return(t._context.displayName||"Context")+".Provider";case KC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ZC:return e=t.displayName||null,e!==null?e:bT(t.type)||"Memo";case iu:e=t._payload,t=t._init;try{return bT(t(e))}catch{}}return null}function Q$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bT(e);case 8:return e===qC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eX(t){var e=A5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ay(t){t._valueTracker||(t._valueTracker=eX(t))}function M5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function R1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ET(t,e){var n=e.checked;return er({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function XN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C5(t,e){e=e.checked,e!=null&&YC(t,"checked",e,!1)}function TT(t,e){C5(t,e);var n=Nu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?AT(t,e.type,n):e.hasOwnProperty("defaultValue")&&AT(t,e.type,Nu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function AT(t,e,n){(e!=="number"||R1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var H0=Array.isArray;function cd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function MT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ct(91));return er({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ct(92));if(H0(n)){if(1<n.length)throw Error(ct(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nu(n)}}function P5(t,e){var n=Nu(e.value),r=Nu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function KN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function CT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var My,R5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(My=My||document.createElement("div"),My.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=My.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Z0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tX=["Webkit","ms","Moz","O"];Object.keys(Z0).forEach(function(t){tX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Z0[e]=Z0[t]})});function N5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Z0.hasOwnProperty(t)&&Z0[t]?(""+e).trim():e+"px"}function I5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=N5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nX=er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function PT(t,e){if(e){if(nX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ct(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ct(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ct(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ct(62))}}function OT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RT=null;function JC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var NT=null,fd=null,hd=null;function ZN(t){if(t=tv(t)){if(typeof NT!="function")throw Error(ct(280));var e=t.stateNode;e&&(e=Cw(e),NT(t.stateNode,t.type,e))}}function L5(t){fd?hd?hd.push(t):hd=[t]:fd=t}function D5(){if(fd){var t=fd,e=hd;if(hd=fd=null,ZN(t),e)for(t=0;t<e.length;t++)ZN(e[t])}}function k5(t,e){return t(e)}function F5(){}var g2=!1;function U5(t,e,n){if(g2)return t(e,n);g2=!0;try{return k5(t,e,n)}finally{g2=!1,(fd!==null||hd!==null)&&(F5(),D5())}}function Cm(t,e){var n=t.stateNode;if(n===null)return null;var r=Cw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ct(231,e,typeof n));return n}var IT=!1;if(wl)try{var u0={};Object.defineProperty(u0,"passive",{get:function(){IT=!0}}),window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{IT=!1}function rX(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var J0=!1,N1=null,I1=!1,LT=null,iX={onError:function(t){J0=!0,N1=t}};function aX(t,e,n,r,i,a,s,o,l){J0=!1,N1=null,rX.apply(iX,arguments)}function sX(t,e,n,r,i,a,s,o,l){if(aX.apply(this,arguments),J0){if(J0){var u=N1;J0=!1,N1=null}else throw Error(ct(198));I1||(I1=!0,LT=u)}}function Of(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JN(t){if(Of(t)!==t)throw Error(ct(188))}function oX(t){var e=t.alternate;if(!e){if(e=Of(t),e===null)throw Error(ct(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return JN(i),t;if(a===r)return JN(i),e;a=a.sibling}throw Error(ct(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?t:e}function z5(t){return t=oX(t),t!==null?j5(t):null}function j5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j5(t);if(e!==null)return e;t=t.sibling}return null}var H5=$a.unstable_scheduleCallback,QN=$a.unstable_cancelCallback,lX=$a.unstable_shouldYield,uX=$a.unstable_requestPaint,gr=$a.unstable_now,cX=$a.unstable_getCurrentPriorityLevel,QC=$a.unstable_ImmediatePriority,W5=$a.unstable_UserBlockingPriority,L1=$a.unstable_NormalPriority,fX=$a.unstable_LowPriority,G5=$a.unstable_IdlePriority,Ew=null,Ao=null;function hX(t){if(Ao&&typeof Ao.onCommitFiberRoot=="function")try{Ao.onCommitFiberRoot(Ew,t,void 0,(t.current.flags&128)===128)}catch{}}var Js=Math.clz32?Math.clz32:mX,dX=Math.log,pX=Math.LN2;function mX(t){return t>>>=0,t===0?32:31-(dX(t)/pX|0)|0}var Cy=64,Py=4194304;function W0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function D1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=W0(o):(a&=s,a!==0&&(r=W0(a)))}else s=n&~i,s!==0?r=W0(s):a!==0&&(r=W0(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Js(e),i=1<<n,r|=t[n],e&=~i;return r}function gX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vX(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Js(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=gX(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function DT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V5(){var t=Cy;return Cy<<=1,!(Cy&4194240)&&(Cy=64),t}function v2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Js(e),t[e]=n}function yX(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Js(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function eP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Js(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wn=0;function $5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X5,tP,Y5,q5,K5,kT=!1,Oy=[],gu=null,vu=null,yu=null,Pm=new Map,Om=new Map,ou=[],xX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eI(t,e){switch(t){case"focusin":case"focusout":gu=null;break;case"dragenter":case"dragleave":vu=null;break;case"mouseover":case"mouseout":yu=null;break;case"pointerover":case"pointerout":Pm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Om.delete(e.pointerId)}}function c0(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=tv(e),e!==null&&tP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _X(t,e,n,r,i){switch(e){case"focusin":return gu=c0(gu,t,e,n,r,i),!0;case"dragenter":return vu=c0(vu,t,e,n,r,i),!0;case"mouseover":return yu=c0(yu,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pm.set(a,c0(Pm.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Om.set(a,c0(Om.get(a)||null,t,e,n,r,i)),!0}return!1}function Z5(t){var e=Bc(t.target);if(e!==null){var n=Of(e);if(n!==null){if(e=n.tag,e===13){if(e=B5(n),e!==null){t.blockedOn=e,K5(t.priority,function(){Y5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function s1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=FT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);RT=r,n.target.dispatchEvent(r),RT=null}else return e=tv(n),e!==null&&tP(e),t.blockedOn=n,!1;e.shift()}return!0}function tI(t,e,n){s1(t)&&n.delete(e)}function wX(){kT=!1,gu!==null&&s1(gu)&&(gu=null),vu!==null&&s1(vu)&&(vu=null),yu!==null&&s1(yu)&&(yu=null),Pm.forEach(tI),Om.forEach(tI)}function f0(t,e){t.blockedOn===e&&(t.blockedOn=null,kT||(kT=!0,$a.unstable_scheduleCallback($a.unstable_NormalPriority,wX)))}function Rm(t){function e(i){return f0(i,t)}if(0<Oy.length){f0(Oy[0],t);for(var n=1;n<Oy.length;n++){var r=Oy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gu!==null&&f0(gu,t),vu!==null&&f0(vu,t),yu!==null&&f0(yu,t),Pm.forEach(e),Om.forEach(e),n=0;n<ou.length;n++)r=ou[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ou.length&&(n=ou[0],n.blockedOn===null);)Z5(n),n.blockedOn===null&&ou.shift()}var dd=Ll.ReactCurrentBatchConfig,k1=!0;function SX(t,e,n,r){var i=wn,a=dd.transition;dd.transition=null;try{wn=1,nP(t,e,n,r)}finally{wn=i,dd.transition=a}}function bX(t,e,n,r){var i=wn,a=dd.transition;dd.transition=null;try{wn=4,nP(t,e,n,r)}finally{wn=i,dd.transition=a}}function nP(t,e,n,r){if(k1){var i=FT(t,e,n,r);if(i===null)M2(t,e,r,F1,n),eI(t,r);else if(_X(i,t,e,n,r))r.stopPropagation();else if(eI(t,r),e&4&&-1<xX.indexOf(t)){for(;i!==null;){var a=tv(i);if(a!==null&&X5(a),a=FT(t,e,n,r),a===null&&M2(t,e,r,F1,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else M2(t,e,r,null,n)}}var F1=null;function FT(t,e,n,r){if(F1=null,t=JC(r),t=Bc(t),t!==null)if(e=Of(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return F1=t,null}function J5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cX()){case QC:return 1;case W5:return 4;case L1:case fX:return 16;case G5:return 536870912;default:return 16}default:return 16}}var cu=null,rP=null,o1=null;function Q5(){if(o1)return o1;var t,e=rP,n=e.length,r,i="value"in cu?cu.value:cu.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return o1=i.slice(t,1<r?1-r:void 0)}function l1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ry(){return!0}function nI(){return!1}function Ka(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ry:nI,this.isPropagationStopped=nI,this}return er(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ry)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ry)},persist:function(){},isPersistent:Ry}),e}var up={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iP=Ka(up),ev=er({},up,{view:0,detail:0}),EX=Ka(ev),y2,x2,h0,Tw=er({},ev,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==h0&&(h0&&t.type==="mousemove"?(y2=t.screenX-h0.screenX,x2=t.screenY-h0.screenY):x2=y2=0,h0=t),y2)},movementY:function(t){return"movementY"in t?t.movementY:x2}}),rI=Ka(Tw),TX=er({},Tw,{dataTransfer:0}),AX=Ka(TX),MX=er({},ev,{relatedTarget:0}),_2=Ka(MX),CX=er({},up,{animationName:0,elapsedTime:0,pseudoElement:0}),PX=Ka(CX),OX=er({},up,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RX=Ka(OX),NX=er({},up,{data:0}),iI=Ka(NX),IX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DX[t])?!!e[t]:!1}function aP(){return kX}var FX=er({},ev,{key:function(t){if(t.key){var e=IX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=l1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aP,charCode:function(t){return t.type==="keypress"?l1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?l1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UX=Ka(FX),BX=er({},Tw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aI=Ka(BX),zX=er({},ev,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aP}),jX=Ka(zX),HX=er({},up,{propertyName:0,elapsedTime:0,pseudoElement:0}),WX=Ka(HX),GX=er({},Tw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VX=Ka(GX),$X=[9,13,27,32],sP=wl&&"CompositionEvent"in window,Q0=null;wl&&"documentMode"in document&&(Q0=document.documentMode);var XX=wl&&"TextEvent"in window&&!Q0,e6=wl&&(!sP||Q0&&8<Q0&&11>=Q0),sI=" ",oI=!1;function t6(t,e){switch(t){case"keyup":return $X.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vh=!1;function YX(t,e){switch(t){case"compositionend":return n6(e);case"keypress":return e.which!==32?null:(oI=!0,sI);case"textInput":return t=e.data,t===sI&&oI?null:t;default:return null}}function qX(t,e){if(Vh)return t==="compositionend"||!sP&&t6(t,e)?(t=Q5(),o1=rP=cu=null,Vh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e6&&e.locale!=="ko"?null:e.data;default:return null}}var KX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KX[t.type]:e==="textarea"}function r6(t,e,n,r){L5(r),e=U1(e,"onChange"),0<e.length&&(n=new iP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var em=null,Nm=null;function ZX(t){p6(t,0)}function Aw(t){var e=Yh(t);if(M5(e))return t}function JX(t,e){if(t==="change")return e}var i6=!1;if(wl){var w2;if(wl){var S2="oninput"in document;if(!S2){var uI=document.createElement("div");uI.setAttribute("oninput","return;"),S2=typeof uI.oninput=="function"}w2=S2}else w2=!1;i6=w2&&(!document.documentMode||9<document.documentMode)}function cI(){em&&(em.detachEvent("onpropertychange",a6),Nm=em=null)}function a6(t){if(t.propertyName==="value"&&Aw(Nm)){var e=[];r6(e,Nm,t,JC(t)),U5(ZX,e)}}function QX(t,e,n){t==="focusin"?(cI(),em=e,Nm=n,em.attachEvent("onpropertychange",a6)):t==="focusout"&&cI()}function eY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Aw(Nm)}function tY(t,e){if(t==="click")return Aw(e)}function nY(t,e){if(t==="input"||t==="change")return Aw(e)}function rY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var to=typeof Object.is=="function"?Object.is:rY;function Im(t,e){if(to(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xT.call(e,i)||!to(t[i],e[i]))return!1}return!0}function fI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hI(t,e){var n=fI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fI(n)}}function s6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o6(){for(var t=window,e=R1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=R1(t.document)}return e}function oP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iY(t){var e=o6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s6(n.ownerDocument.documentElement,n)){if(r!==null&&oP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=hI(n,a);var s=hI(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aY=wl&&"documentMode"in document&&11>=document.documentMode,$h=null,UT=null,tm=null,BT=!1;function dI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;BT||$h==null||$h!==R1(r)||(r=$h,"selectionStart"in r&&oP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tm&&Im(tm,r)||(tm=r,r=U1(UT,"onSelect"),0<r.length&&(e=new iP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$h)))}function Ny(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xh={animationend:Ny("Animation","AnimationEnd"),animationiteration:Ny("Animation","AnimationIteration"),animationstart:Ny("Animation","AnimationStart"),transitionend:Ny("Transition","TransitionEnd")},b2={},l6={};wl&&(l6=document.createElement("div").style,"AnimationEvent"in window||(delete Xh.animationend.animation,delete Xh.animationiteration.animation,delete Xh.animationstart.animation),"TransitionEvent"in window||delete Xh.transitionend.transition);function Mw(t){if(b2[t])return b2[t];if(!Xh[t])return t;var e=Xh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in l6)return b2[t]=e[n];return t}var u6=Mw("animationend"),c6=Mw("animationiteration"),f6=Mw("animationstart"),h6=Mw("transitionend"),d6=new Map,pI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zu(t,e){d6.set(t,e),Pf(e,[t])}for(var E2=0;E2<pI.length;E2++){var T2=pI[E2],sY=T2.toLowerCase(),oY=T2[0].toUpperCase()+T2.slice(1);zu(sY,"on"+oY)}zu(u6,"onAnimationEnd");zu(c6,"onAnimationIteration");zu(f6,"onAnimationStart");zu("dblclick","onDoubleClick");zu("focusin","onFocus");zu("focusout","onBlur");zu(h6,"onTransitionEnd");Td("onMouseEnter",["mouseout","mouseover"]);Td("onMouseLeave",["mouseout","mouseover"]);Td("onPointerEnter",["pointerout","pointerover"]);Td("onPointerLeave",["pointerout","pointerover"]);Pf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var G0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lY=new Set("cancel close invalid load scroll toggle".split(" ").concat(G0));function mI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sX(r,e,void 0,t),t.currentTarget=null}function p6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;mI(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;mI(i,o,u),a=l}}}if(I1)throw t=LT,I1=!1,LT=null,t}function Un(t,e){var n=e[GT];n===void 0&&(n=e[GT]=new Set);var r=t+"__bubble";n.has(r)||(m6(e,t,2,!1),n.add(r))}function A2(t,e,n){var r=0;e&&(r|=4),m6(n,t,r,e)}var Iy="_reactListening"+Math.random().toString(36).slice(2);function Lm(t){if(!t[Iy]){t[Iy]=!0,S5.forEach(function(n){n!=="selectionchange"&&(lY.has(n)||A2(n,!1,t),A2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iy]||(e[Iy]=!0,A2("selectionchange",!1,e))}}function m6(t,e,n,r){switch(J5(e)){case 1:var i=SX;break;case 4:i=bX;break;default:i=nP}n=i.bind(null,e,n,t),i=void 0,!IT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function M2(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Bc(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}U5(function(){var u=a,c=JC(n),f=[];e:{var h=d6.get(t);if(h!==void 0){var d=iP,g=t;switch(t){case"keypress":if(l1(n)===0)break e;case"keydown":case"keyup":d=UX;break;case"focusin":g="focus",d=_2;break;case"focusout":g="blur",d=_2;break;case"beforeblur":case"afterblur":d=_2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=rI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=AX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=jX;break;case u6:case c6:case f6:d=PX;break;case h6:d=WX;break;case"scroll":d=EX;break;case"wheel":d=VX;break;case"copy":case"cut":case"paste":d=RX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=aI}var v=(e&4)!==0,y=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,x!==null&&(S=Cm(w,x),S!=null&&v.push(Dm(w,S,_)))),y)break;w=w.return}0<v.length&&(h=new d(h,g,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==RT&&(g=n.relatedTarget||n.fromElement)&&(Bc(g)||g[Sl]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=u,g=g?Bc(g):null,g!==null&&(y=Of(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=u),d!==g)){if(v=rI,S="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=aI,S="onPointerLeave",x="onPointerEnter",w="pointer"),y=d==null?h:Yh(d),_=g==null?h:Yh(g),h=new v(S,w+"leave",d,n,c),h.target=y,h.relatedTarget=_,S=null,Bc(c)===u&&(v=new v(x,w+"enter",g,n,c),v.target=_,v.relatedTarget=y,S=v),y=S,d&&g)t:{for(v=d,x=g,w=0,_=v;_;_=oh(_))w++;for(_=0,S=x;S;S=oh(S))_++;for(;0<w-_;)v=oh(v),w--;for(;0<_-w;)x=oh(x),_--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=oh(v),x=oh(x)}v=null}else v=null;d!==null&&gI(f,h,d,v,!1),g!==null&&y!==null&&gI(f,y,g,v,!0)}}e:{if(h=u?Yh(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var b=JX;else if(lI(h))if(i6)b=nY;else{b=eY;var T=QX}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=tY);if(b&&(b=b(t,u))){r6(f,b,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&AT(h,"number",h.value)}switch(T=u?Yh(u):window,t){case"focusin":(lI(T)||T.contentEditable==="true")&&($h=T,UT=u,tm=null);break;case"focusout":tm=UT=$h=null;break;case"mousedown":BT=!0;break;case"contextmenu":case"mouseup":case"dragend":BT=!1,dI(f,n,c);break;case"selectionchange":if(aY)break;case"keydown":case"keyup":dI(f,n,c)}var A;if(sP)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Vh?t6(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(e6&&n.locale!=="ko"&&(Vh||P!=="onCompositionStart"?P==="onCompositionEnd"&&Vh&&(A=Q5()):(cu=c,rP="value"in cu?cu.value:cu.textContent,Vh=!0)),T=U1(u,P),0<T.length&&(P=new iI(P,t,null,n,c),f.push({event:P,listeners:T}),A?P.data=A:(A=n6(n),A!==null&&(P.data=A)))),(A=XX?YX(t,n):qX(t,n))&&(u=U1(u,"onBeforeInput"),0<u.length&&(c=new iI("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=A))}p6(f,e)})}function Dm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function U1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Cm(t,n),a!=null&&r.unshift(Dm(t,a,i)),a=Cm(t,e),a!=null&&r.push(Dm(t,a,i))),t=t.return}return r}function oh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gI(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Cm(n,a),l!=null&&s.unshift(Dm(n,l,o))):i||(l=Cm(n,a),l!=null&&s.push(Dm(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var uY=/\r\n?/g,cY=/\u0000|\uFFFD/g;function vI(t){return(typeof t=="string"?t:""+t).replace(uY,`
`).replace(cY,"")}function Ly(t,e,n){if(e=vI(e),vI(t)!==e&&n)throw Error(ct(425))}function B1(){}var zT=null,jT=null;function HT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var WT=typeof setTimeout=="function"?setTimeout:void 0,fY=typeof clearTimeout=="function"?clearTimeout:void 0,yI=typeof Promise=="function"?Promise:void 0,hY=typeof queueMicrotask=="function"?queueMicrotask:typeof yI<"u"?function(t){return yI.resolve(null).then(t).catch(dY)}:WT;function dY(t){setTimeout(function(){throw t})}function C2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rm(e)}function xu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cp=Math.random().toString(36).slice(2),So="__reactFiber$"+cp,km="__reactProps$"+cp,Sl="__reactContainer$"+cp,GT="__reactEvents$"+cp,pY="__reactListeners$"+cp,mY="__reactHandles$"+cp;function Bc(t){var e=t[So];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sl]||n[So]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xI(t);t!==null;){if(n=t[So])return n;t=xI(t)}return e}t=n,n=t.parentNode}return null}function tv(t){return t=t[So]||t[Sl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ct(33))}function Cw(t){return t[km]||null}var VT=[],qh=-1;function ju(t){return{current:t}}function Hn(t){0>qh||(t.current=VT[qh],VT[qh]=null,qh--)}function kn(t,e){qh++,VT[qh]=t.current,t.current=e}var Iu={},Ii=ju(Iu),pa=ju(!1),cf=Iu;function Ad(t,e){var n=t.type.contextTypes;if(!n)return Iu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ma(t){return t=t.childContextTypes,t!=null}function z1(){Hn(pa),Hn(Ii)}function _I(t,e,n){if(Ii.current!==Iu)throw Error(ct(168));kn(Ii,e),kn(pa,n)}function g6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ct(108,Q$(t)||"Unknown",i));return er({},n,r)}function j1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Iu,cf=Ii.current,kn(Ii,t),kn(pa,pa.current),!0}function wI(t,e,n){var r=t.stateNode;if(!r)throw Error(ct(169));n?(t=g6(t,e,cf),r.__reactInternalMemoizedMergedChildContext=t,Hn(pa),Hn(Ii),kn(Ii,t)):Hn(pa),kn(pa,n)}var il=null,Pw=!1,P2=!1;function v6(t){il===null?il=[t]:il.push(t)}function gY(t){Pw=!0,v6(t)}function Hu(){if(!P2&&il!==null){P2=!0;var t=0,e=wn;try{var n=il;for(wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}il=null,Pw=!1}catch(i){throw il!==null&&(il=il.slice(t+1)),H5(QC,Hu),i}finally{wn=e,P2=!1}}return null}var Kh=[],Zh=0,H1=null,W1=0,ds=[],ps=0,ff=null,ol=1,ll="";function Cc(t,e){Kh[Zh++]=W1,Kh[Zh++]=H1,H1=t,W1=e}function y6(t,e,n){ds[ps++]=ol,ds[ps++]=ll,ds[ps++]=ff,ff=t;var r=ol;t=ll;var i=32-Js(r)-1;r&=~(1<<i),n+=1;var a=32-Js(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ol=1<<32-Js(e)+i|n<<i|r,ll=a+t}else ol=1<<a|n<<i|r,ll=t}function lP(t){t.return!==null&&(Cc(t,1),y6(t,1,0))}function uP(t){for(;t===H1;)H1=Kh[--Zh],Kh[Zh]=null,W1=Kh[--Zh],Kh[Zh]=null;for(;t===ff;)ff=ds[--ps],ds[ps]=null,ll=ds[--ps],ds[ps]=null,ol=ds[--ps],ds[ps]=null}var Ga=null,Wa=null,$n=!1,Gs=null;function x6(t,e){var n=ms(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function SI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ga=t,Wa=xu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ga=t,Wa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ff!==null?{id:ol,overflow:ll}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ms(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ga=t,Wa=null,!0):!1;default:return!1}}function $T(t){return(t.mode&1)!==0&&(t.flags&128)===0}function XT(t){if($n){var e=Wa;if(e){var n=e;if(!SI(t,e)){if($T(t))throw Error(ct(418));e=xu(n.nextSibling);var r=Ga;e&&SI(t,e)?x6(r,n):(t.flags=t.flags&-4097|2,$n=!1,Ga=t)}}else{if($T(t))throw Error(ct(418));t.flags=t.flags&-4097|2,$n=!1,Ga=t}}}function bI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ga=t}function Dy(t){if(t!==Ga)return!1;if(!$n)return bI(t),$n=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!HT(t.type,t.memoizedProps)),e&&(e=Wa)){if($T(t))throw _6(),Error(ct(418));for(;e;)x6(t,e),e=xu(e.nextSibling)}if(bI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ct(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wa=xu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wa=null}}else Wa=Ga?xu(t.stateNode.nextSibling):null;return!0}function _6(){for(var t=Wa;t;)t=xu(t.nextSibling)}function Md(){Wa=Ga=null,$n=!1}function cP(t){Gs===null?Gs=[t]:Gs.push(t)}var vY=Ll.ReactCurrentBatchConfig;function d0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,t))}return t}function ky(t,e){throw t=Object.prototype.toString.call(e),Error(ct(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function EI(t){var e=t._init;return e(t._payload)}function w6(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=bu(x,w),x.index=0,x.sibling=null,x}function a(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,_,S){return w===null||w.tag!==6?(w=k2(_,x.mode,S),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,S){var b=_.type;return b===Gh?c(x,w,_.props.children,S,_.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===iu&&EI(b)===w.type)?(S=i(w,_.props),S.ref=d0(x,w,_),S.return=x,S):(S=m1(_.type,_.key,_.props,null,x.mode,S),S.ref=d0(x,w,_),S.return=x,S)}function u(x,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=F2(_,x.mode,S),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function c(x,w,_,S,b){return w===null||w.tag!==7?(w=Jc(_,x.mode,S,b),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=k2(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ty:return _=m1(w.type,w.key,w.props,null,x.mode,_),_.ref=d0(x,null,w),_.return=x,_;case Wh:return w=F2(w,x.mode,_),w.return=x,w;case iu:var S=w._init;return f(x,S(w._payload),_)}if(H0(w)||l0(w))return w=Jc(w,x.mode,_,null),w.return=x,w;ky(x,w)}return null}function h(x,w,_,S){var b=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:o(x,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ty:return _.key===b?l(x,w,_,S):null;case Wh:return _.key===b?u(x,w,_,S):null;case iu:return b=_._init,h(x,w,b(_._payload),S)}if(H0(_)||l0(_))return b!==null?null:c(x,w,_,S,null);ky(x,_)}return null}function d(x,w,_,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(_)||null,o(w,x,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ty:return x=x.get(S.key===null?_:S.key)||null,l(w,x,S,b);case Wh:return x=x.get(S.key===null?_:S.key)||null,u(w,x,S,b);case iu:var T=S._init;return d(x,w,_,T(S._payload),b)}if(H0(S)||l0(S))return x=x.get(_)||null,c(w,x,S,b,null);ky(w,S)}return null}function g(x,w,_,S){for(var b=null,T=null,A=w,P=w=0,M=null;A!==null&&P<_.length;P++){A.index>P?(M=A,A=null):M=A.sibling;var R=h(x,A,_[P],S);if(R===null){A===null&&(A=M);break}t&&A&&R.alternate===null&&e(x,A),w=a(R,w,P),T===null?b=R:T.sibling=R,T=R,A=M}if(P===_.length)return n(x,A),$n&&Cc(x,P),b;if(A===null){for(;P<_.length;P++)A=f(x,_[P],S),A!==null&&(w=a(A,w,P),T===null?b=A:T.sibling=A,T=A);return $n&&Cc(x,P),b}for(A=r(x,A);P<_.length;P++)M=d(A,x,P,_[P],S),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?P:M.key),w=a(M,w,P),T===null?b=M:T.sibling=M,T=M);return t&&A.forEach(function(D){return e(x,D)}),$n&&Cc(x,P),b}function v(x,w,_,S){var b=l0(_);if(typeof b!="function")throw Error(ct(150));if(_=b.call(_),_==null)throw Error(ct(151));for(var T=b=null,A=w,P=w=0,M=null,R=_.next();A!==null&&!R.done;P++,R=_.next()){A.index>P?(M=A,A=null):M=A.sibling;var D=h(x,A,R.value,S);if(D===null){A===null&&(A=M);break}t&&A&&D.alternate===null&&e(x,A),w=a(D,w,P),T===null?b=D:T.sibling=D,T=D,A=M}if(R.done)return n(x,A),$n&&Cc(x,P),b;if(A===null){for(;!R.done;P++,R=_.next())R=f(x,R.value,S),R!==null&&(w=a(R,w,P),T===null?b=R:T.sibling=R,T=R);return $n&&Cc(x,P),b}for(A=r(x,A);!R.done;P++,R=_.next())R=d(A,x,P,R.value,S),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?P:R.key),w=a(R,w,P),T===null?b=R:T.sibling=R,T=R);return t&&A.forEach(function(L){return e(x,L)}),$n&&Cc(x,P),b}function y(x,w,_,S){if(typeof _=="object"&&_!==null&&_.type===Gh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ty:e:{for(var b=_.key,T=w;T!==null;){if(T.key===b){if(b=_.type,b===Gh){if(T.tag===7){n(x,T.sibling),w=i(T,_.props.children),w.return=x,x=w;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===iu&&EI(b)===T.type){n(x,T.sibling),w=i(T,_.props),w.ref=d0(x,T,_),w.return=x,x=w;break e}n(x,T);break}else e(x,T);T=T.sibling}_.type===Gh?(w=Jc(_.props.children,x.mode,S,_.key),w.return=x,x=w):(S=m1(_.type,_.key,_.props,null,x.mode,S),S.ref=d0(x,w,_),S.return=x,x=S)}return s(x);case Wh:e:{for(T=_.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=F2(_,x.mode,S),w.return=x,x=w}return s(x);case iu:return T=_._init,y(x,w,T(_._payload),S)}if(H0(_))return g(x,w,_,S);if(l0(_))return v(x,w,_,S);ky(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=k2(_,x.mode,S),w.return=x,x=w),s(x)):n(x,w)}return y}var Cd=w6(!0),S6=w6(!1),G1=ju(null),V1=null,Jh=null,fP=null;function hP(){fP=Jh=V1=null}function dP(t){var e=G1.current;Hn(G1),t._currentValue=e}function YT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pd(t,e){V1=t,fP=Jh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ha=!0),t.firstContext=null)}function _s(t){var e=t._currentValue;if(fP!==t)if(t={context:t,memoizedValue:e,next:null},Jh===null){if(V1===null)throw Error(ct(308));Jh=t,V1.dependencies={lanes:0,firstContext:t}}else Jh=Jh.next=t;return e}var zc=null;function pP(t){zc===null?zc=[t]:zc.push(t)}function b6(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pP(e)):(n.next=i.next,i.next=n),e.interleaved=n,bl(t,r)}function bl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var au=!1;function mP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _u(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,on&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bl(t,n)}return i=r.interleaved,i===null?(e.next=e,pP(r)):(e.next=i.next,i.next=e),r.interleaved=e,bl(t,n)}function u1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eP(t,n)}}function TI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $1(t,e,n,r){var i=t.updateQueue;au=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,d=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(h=e,d=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(d,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(d,f,h):g,h==null)break e;f=er({},f,h);break e;case 2:au=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);df|=s,t.lanes=s,t.memoizedState=f}}function AI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ct(191,i));i.call(r)}}}var nv={},Mo=ju(nv),Fm=ju(nv),Um=ju(nv);function jc(t){if(t===nv)throw Error(ct(174));return t}function gP(t,e){switch(kn(Um,e),kn(Fm,t),kn(Mo,nv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:CT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=CT(e,t)}Hn(Mo),kn(Mo,e)}function Pd(){Hn(Mo),Hn(Fm),Hn(Um)}function T6(t){jc(Um.current);var e=jc(Mo.current),n=CT(e,t.type);e!==n&&(kn(Fm,t),kn(Mo,n))}function vP(t){Fm.current===t&&(Hn(Mo),Hn(Fm))}var Kn=ju(0);function X1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var O2=[];function yP(){for(var t=0;t<O2.length;t++)O2[t]._workInProgressVersionPrimary=null;O2.length=0}var c1=Ll.ReactCurrentDispatcher,R2=Ll.ReactCurrentBatchConfig,hf=0,Qn=null,Ur=null,Kr=null,Y1=!1,nm=!1,Bm=0,yY=0;function _i(){throw Error(ct(321))}function xP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!to(t[n],e[n]))return!1;return!0}function _P(t,e,n,r,i,a){if(hf=a,Qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,c1.current=t===null||t.memoizedState===null?SY:bY,t=n(r,i),nm){a=0;do{if(nm=!1,Bm=0,25<=a)throw Error(ct(301));a+=1,Kr=Ur=null,e.updateQueue=null,c1.current=EY,t=n(r,i)}while(nm)}if(c1.current=q1,e=Ur!==null&&Ur.next!==null,hf=0,Kr=Ur=Qn=null,Y1=!1,e)throw Error(ct(300));return t}function wP(){var t=Bm!==0;return Bm=0,t}function wo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Qn.memoizedState=Kr=t:Kr=Kr.next=t,Kr}function ws(){if(Ur===null){var t=Qn.alternate;t=t!==null?t.memoizedState:null}else t=Ur.next;var e=Kr===null?Qn.memoizedState:Kr.next;if(e!==null)Kr=e,Ur=t;else{if(t===null)throw Error(ct(310));Ur=t,t={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Kr===null?Qn.memoizedState=Kr=t:Kr=Kr.next=t}return Kr}function zm(t,e){return typeof e=="function"?e(t):e}function N2(t){var e=ws(),n=e.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=t;var r=Ur,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((hf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Qn.lanes|=c,df|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,to(r,e.memoizedState)||(ha=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Qn.lanes|=a,df|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function I2(t){var e=ws(),n=e.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);to(a,e.memoizedState)||(ha=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function A6(){}function M6(t,e){var n=Qn,r=ws(),i=e(),a=!to(r.memoizedState,i);if(a&&(r.memoizedState=i,ha=!0),r=r.queue,SP(O6.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Kr!==null&&Kr.memoizedState.tag&1){if(n.flags|=2048,jm(9,P6.bind(null,n,r,i,e),void 0,null),ei===null)throw Error(ct(349));hf&30||C6(n,e,i)}return i}function C6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qn.updateQueue,e===null?(e={lastEffect:null,stores:null},Qn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function P6(t,e,n,r){e.value=n,e.getSnapshot=r,R6(e)&&N6(t)}function O6(t,e,n){return n(function(){R6(e)&&N6(t)})}function R6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!to(t,n)}catch{return!0}}function N6(t){var e=bl(t,1);e!==null&&Qs(e,t,1,-1)}function MI(t){var e=wo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:t},e.queue=t,t=t.dispatch=wY.bind(null,Qn,t),[e.memoizedState,t]}function jm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qn.updateQueue,e===null?(e={lastEffect:null,stores:null},Qn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I6(){return ws().memoizedState}function f1(t,e,n,r){var i=wo();Qn.flags|=t,i.memoizedState=jm(1|e,n,void 0,r===void 0?null:r)}function Ow(t,e,n,r){var i=ws();r=r===void 0?null:r;var a=void 0;if(Ur!==null){var s=Ur.memoizedState;if(a=s.destroy,r!==null&&xP(r,s.deps)){i.memoizedState=jm(e,n,a,r);return}}Qn.flags|=t,i.memoizedState=jm(1|e,n,a,r)}function CI(t,e){return f1(8390656,8,t,e)}function SP(t,e){return Ow(2048,8,t,e)}function L6(t,e){return Ow(4,2,t,e)}function D6(t,e){return Ow(4,4,t,e)}function k6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function F6(t,e,n){return n=n!=null?n.concat([t]):null,Ow(4,4,k6.bind(null,e,t),n)}function bP(){}function U6(t,e){var n=ws();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function B6(t,e){var n=ws();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function z6(t,e,n){return hf&21?(to(n,e)||(n=V5(),Qn.lanes|=n,df|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ha=!0),t.memoizedState=n)}function xY(t,e){var n=wn;wn=n!==0&&4>n?n:4,t(!0);var r=R2.transition;R2.transition={};try{t(!1),e()}finally{wn=n,R2.transition=r}}function j6(){return ws().memoizedState}function _Y(t,e,n){var r=Su(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},H6(t))W6(e,n);else if(n=b6(t,e,n,r),n!==null){var i=Ki();Qs(n,t,r,i),G6(n,e,r)}}function wY(t,e,n){var r=Su(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(H6(t))W6(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,to(o,s)){var l=e.interleaved;l===null?(i.next=i,pP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=b6(t,e,i,r),n!==null&&(i=Ki(),Qs(n,t,r,i),G6(n,e,r))}}function H6(t){var e=t.alternate;return t===Qn||e!==null&&e===Qn}function W6(t,e){nm=Y1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function G6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eP(t,n)}}var q1={readContext:_s,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},SY={readContext:_s,useCallback:function(t,e){return wo().memoizedState=[t,e===void 0?null:e],t},useContext:_s,useEffect:CI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,f1(4194308,4,k6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return f1(4194308,4,t,e)},useInsertionEffect:function(t,e){return f1(4,2,t,e)},useMemo:function(t,e){var n=wo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_Y.bind(null,Qn,t),[r.memoizedState,t]},useRef:function(t){var e=wo();return t={current:t},e.memoizedState=t},useState:MI,useDebugValue:bP,useDeferredValue:function(t){return wo().memoizedState=t},useTransition:function(){var t=MI(!1),e=t[0];return t=xY.bind(null,t[1]),wo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qn,i=wo();if($n){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=e(),ei===null)throw Error(ct(349));hf&30||C6(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,CI(O6.bind(null,r,a,t),[t]),r.flags|=2048,jm(9,P6.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=wo(),e=ei.identifierPrefix;if($n){var n=ll,r=ol;n=(r&~(1<<32-Js(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yY++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bY={readContext:_s,useCallback:U6,useContext:_s,useEffect:SP,useImperativeHandle:F6,useInsertionEffect:L6,useLayoutEffect:D6,useMemo:B6,useReducer:N2,useRef:I6,useState:function(){return N2(zm)},useDebugValue:bP,useDeferredValue:function(t){var e=ws();return z6(e,Ur.memoizedState,t)},useTransition:function(){var t=N2(zm)[0],e=ws().memoizedState;return[t,e]},useMutableSource:A6,useSyncExternalStore:M6,useId:j6,unstable_isNewReconciler:!1},EY={readContext:_s,useCallback:U6,useContext:_s,useEffect:SP,useImperativeHandle:F6,useInsertionEffect:L6,useLayoutEffect:D6,useMemo:B6,useReducer:I2,useRef:I6,useState:function(){return I2(zm)},useDebugValue:bP,useDeferredValue:function(t){var e=ws();return Ur===null?e.memoizedState=t:z6(e,Ur.memoizedState,t)},useTransition:function(){var t=I2(zm)[0],e=ws().memoizedState;return[t,e]},useMutableSource:A6,useSyncExternalStore:M6,useId:j6,unstable_isNewReconciler:!1};function Us(t,e){if(t&&t.defaultProps){e=er({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qT(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:er({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rw={isMounted:function(t){return(t=t._reactInternals)?Of(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ki(),i=Su(t),a=dl(r,i);a.payload=e,n!=null&&(a.callback=n),e=_u(t,a,i),e!==null&&(Qs(e,t,i,r),u1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ki(),i=Su(t),a=dl(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=_u(t,a,i),e!==null&&(Qs(e,t,i,r),u1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ki(),r=Su(t),i=dl(n,r);i.tag=2,e!=null&&(i.callback=e),e=_u(t,i,r),e!==null&&(Qs(e,t,r,n),u1(e,t,r))}};function PI(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Im(n,r)||!Im(i,a):!0}function V6(t,e,n){var r=!1,i=Iu,a=e.contextType;return typeof a=="object"&&a!==null?a=_s(a):(i=ma(e)?cf:Ii.current,r=e.contextTypes,a=(r=r!=null)?Ad(t,i):Iu),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function OI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rw.enqueueReplaceState(e,e.state,null)}function KT(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=_s(a):(a=ma(e)?cf:Ii.current,i.context=Ad(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(qT(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rw.enqueueReplaceState(i,i.state,null),$1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Od(t,e){try{var n="",r=e;do n+=J$(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function L2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ZT(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TY=typeof WeakMap=="function"?WeakMap:Map;function $6(t,e,n){n=dl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Z1||(Z1=!0,oA=r),ZT(t,e)},n}function X6(t,e,n){n=dl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ZT(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ZT(t,e),typeof r!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function RI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TY;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BY.bind(null,t,e,n),e.then(t,t))}function NI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function II(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dl(-1,1),e.tag=2,_u(n,e,1))),n.lanes|=1),t)}var AY=Ll.ReactCurrentOwner,ha=!1;function $i(t,e,n,r){e.child=t===null?S6(e,null,n,r):Cd(e,t.child,n,r)}function LI(t,e,n,r,i){n=n.render;var a=e.ref;return pd(e,i),r=_P(t,e,n,r,a,i),n=wP(),t!==null&&!ha?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,El(t,e,i)):($n&&n&&lP(e),e.flags|=1,$i(t,e,r,i),e.child)}function DI(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!RP(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Y6(t,e,a,r,i)):(t=m1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Im,n(s,r)&&t.ref===e.ref)return El(t,e,i)}return e.flags|=1,t=bu(a,r),t.ref=e.ref,t.return=e,e.child=t}function Y6(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Im(a,r)&&t.ref===e.ref)if(ha=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(ha=!0);else return e.lanes=t.lanes,El(t,e,i)}return JT(t,e,n,r,i)}function q6(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(ed,Fa),Fa|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kn(ed,Fa),Fa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,kn(ed,Fa),Fa|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,kn(ed,Fa),Fa|=r;return $i(t,e,i,n),e.child}function K6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function JT(t,e,n,r,i){var a=ma(n)?cf:Ii.current;return a=Ad(e,a),pd(e,i),n=_P(t,e,n,r,a,i),r=wP(),t!==null&&!ha?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,El(t,e,i)):($n&&r&&lP(e),e.flags|=1,$i(t,e,n,i),e.child)}function kI(t,e,n,r,i){if(ma(n)){var a=!0;j1(e)}else a=!1;if(pd(e,i),e.stateNode===null)h1(t,e),V6(e,n,r),KT(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=_s(u):(u=ma(n)?cf:Ii.current,u=Ad(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&OI(e,s,r,u),au=!1;var h=e.memoizedState;s.state=h,$1(e,r,s,i),l=e.memoizedState,o!==r||h!==l||pa.current||au?(typeof c=="function"&&(qT(e,n,c,r),l=e.memoizedState),(o=au||PI(e,n,o,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,E6(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Us(e.type,o),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=_s(l):(l=ma(n)?cf:Ii.current,l=Ad(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&OI(e,s,r,l),au=!1,h=e.memoizedState,s.state=h,$1(e,r,s,i);var g=e.memoizedState;o!==f||h!==g||pa.current||au?(typeof d=="function"&&(qT(e,n,d,r),g=e.memoizedState),(u=au||PI(e,n,u,r,h,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return QT(t,e,n,r,a,i)}function QT(t,e,n,r,i,a){K6(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&wI(e,n,!1),El(t,e,a);r=e.stateNode,AY.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Cd(e,t.child,null,a),e.child=Cd(e,null,o,a)):$i(t,e,o,a),e.memoizedState=r.state,i&&wI(e,n,!0),e.child}function Z6(t){var e=t.stateNode;e.pendingContext?_I(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_I(t,e.context,!1),gP(t,e.containerInfo)}function FI(t,e,n,r,i){return Md(),cP(i),e.flags|=256,$i(t,e,n,r),e.child}var eA={dehydrated:null,treeContext:null,retryLane:0};function tA(t){return{baseLanes:t,cachePool:null,transitions:null}}function J6(t,e,n){var r=e.pendingProps,i=Kn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kn(Kn,i&1),t===null)return XT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Lw(s,r,0,null),t=Jc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=tA(n),e.memoizedState=eA,t):EP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return MY(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=bu(o,a):(a=Jc(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?tA(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=eA,r}return a=t.child,t=a.sibling,r=bu(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function EP(t,e){return e=Lw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fy(t,e,n,r){return r!==null&&cP(r),Cd(e,t.child,null,n),t=EP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MY(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=L2(Error(ct(422))),Fy(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Lw({mode:"visible",children:r.children},i,0,null),a=Jc(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Cd(e,t.child,null,s),e.child.memoizedState=tA(s),e.memoizedState=eA,a);if(!(e.mode&1))return Fy(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ct(419)),r=L2(a,r,void 0),Fy(t,e,s,r)}if(o=(s&t.childLanes)!==0,ha||o){if(r=ei,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,bl(t,i),Qs(r,t,i,-1))}return OP(),r=L2(Error(ct(421))),Fy(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zY.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Wa=xu(i.nextSibling),Ga=e,$n=!0,Gs=null,t!==null&&(ds[ps++]=ol,ds[ps++]=ll,ds[ps++]=ff,ol=t.id,ll=t.overflow,ff=e),e=EP(e,r.children),e.flags|=4096,e)}function UI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),YT(t.return,e,n)}function D2(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Q6(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if($i(t,e,r.children,n),r=Kn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UI(t,n,e);else if(t.tag===19)UI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kn(Kn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&X1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),D2(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&X1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}D2(e,!0,n,null,a);break;case"together":D2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function h1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function El(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),df|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ct(153));if(e.child!==null){for(t=e.child,n=bu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CY(t,e,n){switch(e.tag){case 3:Z6(e),Md();break;case 5:T6(e);break;case 1:ma(e.type)&&j1(e);break;case 4:gP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kn(G1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kn(Kn,Kn.current&1),e.flags|=128,null):n&e.child.childLanes?J6(t,e,n):(kn(Kn,Kn.current&1),t=El(t,e,n),t!==null?t.sibling:null);kn(Kn,Kn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Q6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kn(Kn,Kn.current),r)break;return null;case 22:case 23:return e.lanes=0,q6(t,e,n)}return El(t,e,n)}var e8,nA,t8,n8;e8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nA=function(){};t8=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jc(Mo.current);var a=null;switch(n){case"input":i=ET(t,i),r=ET(t,r),a=[];break;case"select":i=er({},i,{value:void 0}),r=er({},r,{value:void 0}),a=[];break;case"textarea":i=MT(t,i),r=MT(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=B1)}PT(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Am.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Am.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Un("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};n8=function(t,e,n,r){n!==r&&(e.flags|=4)};function p0(t,e){if(!$n)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PY(t,e,n){var r=e.pendingProps;switch(uP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(e),null;case 1:return ma(e.type)&&z1(),wi(e),null;case 3:return r=e.stateNode,Pd(),Hn(pa),Hn(Ii),yP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gs!==null&&(cA(Gs),Gs=null))),nA(t,e),wi(e),null;case 5:vP(e);var i=jc(Um.current);if(n=e.type,t!==null&&e.stateNode!=null)t8(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ct(166));return wi(e),null}if(t=jc(Mo.current),Dy(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[So]=e,r[km]=a,t=(e.mode&1)!==0,n){case"dialog":Un("cancel",r),Un("close",r);break;case"iframe":case"object":case"embed":Un("load",r);break;case"video":case"audio":for(i=0;i<G0.length;i++)Un(G0[i],r);break;case"source":Un("error",r);break;case"img":case"image":case"link":Un("error",r),Un("load",r);break;case"details":Un("toggle",r);break;case"input":XN(r,a),Un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Un("invalid",r);break;case"textarea":qN(r,a),Un("invalid",r)}PT(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ly(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ly(r.textContent,o,t),i=["children",""+o]):Am.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Un("scroll",r)}switch(n){case"input":Ay(r),YN(r,a,!0);break;case"textarea":Ay(r),KN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=B1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[So]=e,t[km]=r,e8(t,e,!1,!1),e.stateNode=t;e:{switch(s=OT(n,r),n){case"dialog":Un("cancel",t),Un("close",t),i=r;break;case"iframe":case"object":case"embed":Un("load",t),i=r;break;case"video":case"audio":for(i=0;i<G0.length;i++)Un(G0[i],t);i=r;break;case"source":Un("error",t),i=r;break;case"img":case"image":case"link":Un("error",t),Un("load",t),i=r;break;case"details":Un("toggle",t),i=r;break;case"input":XN(t,r),i=ET(t,r),Un("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=er({},r,{value:void 0}),Un("invalid",t);break;case"textarea":qN(t,r),i=MT(t,r),Un("invalid",t);break;default:i=r}PT(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?I5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R5(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mm(t,l):typeof l=="number"&&Mm(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Am.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Un("scroll",t):l!=null&&YC(t,a,l,s))}switch(n){case"input":Ay(t),YN(t,r,!1);break;case"textarea":Ay(t),KN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nu(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?cd(t,!!r.multiple,a,!1):r.defaultValue!=null&&cd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=B1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wi(e),null;case 6:if(t&&e.stateNode!=null)n8(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ct(166));if(n=jc(Um.current),jc(Mo.current),Dy(e)){if(r=e.stateNode,n=e.memoizedProps,r[So]=e,(a=r.nodeValue!==n)&&(t=Ga,t!==null))switch(t.tag){case 3:Ly(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ly(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[So]=e,e.stateNode=r}return wi(e),null;case 13:if(Hn(Kn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($n&&Wa!==null&&e.mode&1&&!(e.flags&128))_6(),Md(),e.flags|=98560,a=!1;else if(a=Dy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ct(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ct(317));a[So]=e}else Md(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wi(e),a=!1}else Gs!==null&&(cA(Gs),Gs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kn.current&1?Br===0&&(Br=3):OP())),e.updateQueue!==null&&(e.flags|=4),wi(e),null);case 4:return Pd(),nA(t,e),t===null&&Lm(e.stateNode.containerInfo),wi(e),null;case 10:return dP(e.type._context),wi(e),null;case 17:return ma(e.type)&&z1(),wi(e),null;case 19:if(Hn(Kn),a=e.memoizedState,a===null)return wi(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)p0(a,!1);else{if(Br!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=X1(t),s!==null){for(e.flags|=128,p0(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kn(Kn,Kn.current&1|2),e.child}t=t.sibling}a.tail!==null&&gr()>Rd&&(e.flags|=128,r=!0,p0(a,!1),e.lanes=4194304)}else{if(!r)if(t=X1(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),p0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!$n)return wi(e),null}else 2*gr()-a.renderingStartTime>Rd&&n!==1073741824&&(e.flags|=128,r=!0,p0(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=gr(),e.sibling=null,n=Kn.current,kn(Kn,r?n&1|2:n&1),e):(wi(e),null);case 22:case 23:return PP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fa&1073741824&&(wi(e),e.subtreeFlags&6&&(e.flags|=8192)):wi(e),null;case 24:return null;case 25:return null}throw Error(ct(156,e.tag))}function OY(t,e){switch(uP(e),e.tag){case 1:return ma(e.type)&&z1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pd(),Hn(pa),Hn(Ii),yP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vP(e),null;case 13:if(Hn(Kn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ct(340));Md()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Hn(Kn),null;case 4:return Pd(),null;case 10:return dP(e.type._context),null;case 22:case 23:return PP(),null;case 24:return null;default:return null}}var Uy=!1,Ti=!1,RY=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Qh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ar(t,e,r)}else n.current=null}function rA(t,e,n){try{n()}catch(r){ar(t,e,r)}}var BI=!1;function NY(t,e){if(zT=k1,t=o6(),oP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++u===i&&(o=s),h===a&&++c===r&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jT={focusedElem:t,selectionRange:n},k1=!1,wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Us(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(S){ar(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return g=BI,BI=!1,g}function rm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&rA(e,n,a)}i=i.next}while(i!==r)}}function Nw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function r8(t){var e=t.alternate;e!==null&&(t.alternate=null,r8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[So],delete e[km],delete e[GT],delete e[pY],delete e[mY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i8(t){return t.tag===5||t.tag===3||t.tag===4}function zI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function aA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=B1));else if(r!==4&&(t=t.child,t!==null))for(aA(t,e,n),t=t.sibling;t!==null;)aA(t,e,n),t=t.sibling}function sA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sA(t,e,n),t=t.sibling;t!==null;)sA(t,e,n),t=t.sibling}var si=null,zs=!1;function Zl(t,e,n){for(n=n.child;n!==null;)a8(t,e,n),n=n.sibling}function a8(t,e,n){if(Ao&&typeof Ao.onCommitFiberUnmount=="function")try{Ao.onCommitFiberUnmount(Ew,n)}catch{}switch(n.tag){case 5:Ti||Qh(n,e);case 6:var r=si,i=zs;si=null,Zl(t,e,n),si=r,zs=i,si!==null&&(zs?(t=si,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):si.removeChild(n.stateNode));break;case 18:si!==null&&(zs?(t=si,n=n.stateNode,t.nodeType===8?C2(t.parentNode,n):t.nodeType===1&&C2(t,n),Rm(t)):C2(si,n.stateNode));break;case 4:r=si,i=zs,si=n.stateNode.containerInfo,zs=!0,Zl(t,e,n),si=r,zs=i;break;case 0:case 11:case 14:case 15:if(!Ti&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&rA(n,e,s),i=i.next}while(i!==r)}Zl(t,e,n);break;case 1:if(!Ti&&(Qh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ar(n,e,o)}Zl(t,e,n);break;case 21:Zl(t,e,n);break;case 22:n.mode&1?(Ti=(r=Ti)||n.memoizedState!==null,Zl(t,e,n),Ti=r):Zl(t,e,n);break;default:Zl(t,e,n)}}function jI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RY),e.forEach(function(r){var i=jY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Os(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:si=o.stateNode,zs=!1;break e;case 3:si=o.stateNode.containerInfo,zs=!0;break e;case 4:si=o.stateNode.containerInfo,zs=!0;break e}o=o.return}if(si===null)throw Error(ct(160));a8(a,s,i),si=null,zs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ar(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s8(e,t),e=e.sibling}function s8(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Os(e,t),vo(t),r&4){try{rm(3,t,t.return),Nw(3,t)}catch(v){ar(t,t.return,v)}try{rm(5,t,t.return)}catch(v){ar(t,t.return,v)}}break;case 1:Os(e,t),vo(t),r&512&&n!==null&&Qh(n,n.return);break;case 5:if(Os(e,t),vo(t),r&512&&n!==null&&Qh(n,n.return),t.flags&32){var i=t.stateNode;try{Mm(i,"")}catch(v){ar(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&C5(i,a),OT(o,s);var u=OT(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?I5(i,f):c==="dangerouslySetInnerHTML"?R5(i,f):c==="children"?Mm(i,f):YC(i,c,f,u)}switch(o){case"input":TT(i,a);break;case"textarea":P5(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?cd(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?cd(i,!!a.multiple,a.defaultValue,!0):cd(i,!!a.multiple,a.multiple?[]:"",!1))}i[km]=a}catch(v){ar(t,t.return,v)}}break;case 6:if(Os(e,t),vo(t),r&4){if(t.stateNode===null)throw Error(ct(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){ar(t,t.return,v)}}break;case 3:if(Os(e,t),vo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rm(e.containerInfo)}catch(v){ar(t,t.return,v)}break;case 4:Os(e,t),vo(t);break;case 13:Os(e,t),vo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(MP=gr())),r&4&&jI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ti=(u=Ti)||c,Os(e,t),Ti=u):Os(e,t),vo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(wt=t,c=t.child;c!==null;){for(f=wt=c;wt!==null;){switch(h=wt,d=h.child,h.tag){case 0:case 11:case 14:case 15:rm(4,h,h.return);break;case 1:Qh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ar(r,n,v)}}break;case 5:Qh(h,h.return);break;case 22:if(h.memoizedState!==null){WI(f);continue}}d!==null?(d.return=h,wt=d):WI(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=N5("display",s))}catch(v){ar(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ar(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Os(e,t),vo(t),r&4&&jI(t);break;case 21:break;default:Os(e,t),vo(t)}}function vo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i8(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mm(i,""),r.flags&=-33);var a=zI(t);sA(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=zI(t);aA(t,o,s);break;default:throw Error(ct(161))}}catch(l){ar(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IY(t,e,n){wt=t,o8(t)}function o8(t,e,n){for(var r=(t.mode&1)!==0;wt!==null;){var i=wt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Uy;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ti;o=Uy;var u=Ti;if(Uy=s,(Ti=l)&&!u)for(wt=i;wt!==null;)s=wt,l=s.child,s.tag===22&&s.memoizedState!==null?GI(i):l!==null?(l.return=s,wt=l):GI(i);for(;a!==null;)wt=a,o8(a),a=a.sibling;wt=i,Uy=o,Ti=u}HI(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,wt=a):HI(t)}}function HI(t){for(;wt!==null;){var e=wt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ti||Nw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ti)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Us(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&AI(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AI(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Rm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}Ti||e.flags&512&&iA(e)}catch(h){ar(e,e.return,h)}}if(e===t){wt=null;break}if(n=e.sibling,n!==null){n.return=e.return,wt=n;break}wt=e.return}}function WI(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,wt=n;break}wt=e.return}}function GI(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nw(4,e)}catch(l){ar(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ar(e,i,l)}}var a=e.return;try{iA(e)}catch(l){ar(e,a,l)}break;case 5:var s=e.return;try{iA(e)}catch(l){ar(e,s,l)}}}catch(l){ar(e,e.return,l)}if(e===t){wt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,wt=o;break}wt=e.return}}var LY=Math.ceil,K1=Ll.ReactCurrentDispatcher,TP=Ll.ReactCurrentOwner,vs=Ll.ReactCurrentBatchConfig,on=0,ei=null,Cr=null,fi=0,Fa=0,ed=ju(0),Br=0,Hm=null,df=0,Iw=0,AP=0,im=null,la=null,MP=0,Rd=1/0,rl=null,Z1=!1,oA=null,wu=null,By=!1,fu=null,J1=0,am=0,lA=null,d1=-1,p1=0;function Ki(){return on&6?gr():d1!==-1?d1:d1=gr()}function Su(t){return t.mode&1?on&2&&fi!==0?fi&-fi:vY.transition!==null?(p1===0&&(p1=V5()),p1):(t=wn,t!==0||(t=window.event,t=t===void 0?16:J5(t.type)),t):1}function Qs(t,e,n,r){if(50<am)throw am=0,lA=null,Error(ct(185));Qg(t,n,r),(!(on&2)||t!==ei)&&(t===ei&&(!(on&2)&&(Iw|=n),Br===4&&lu(t,fi)),ga(t,r),n===1&&on===0&&!(e.mode&1)&&(Rd=gr()+500,Pw&&Hu()))}function ga(t,e){var n=t.callbackNode;vX(t,e);var r=D1(t,t===ei?fi:0);if(r===0)n!==null&&QN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QN(n),e===1)t.tag===0?gY(VI.bind(null,t)):v6(VI.bind(null,t)),hY(function(){!(on&6)&&Hu()}),n=null;else{switch($5(r)){case 1:n=QC;break;case 4:n=W5;break;case 16:n=L1;break;case 536870912:n=G5;break;default:n=L1}n=m8(n,l8.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l8(t,e){if(d1=-1,p1=0,on&6)throw Error(ct(327));var n=t.callbackNode;if(md()&&t.callbackNode!==n)return null;var r=D1(t,t===ei?fi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Q1(t,r);else{e=r;var i=on;on|=2;var a=c8();(ei!==t||fi!==e)&&(rl=null,Rd=gr()+500,Zc(t,e));do try{FY();break}catch(o){u8(t,o)}while(!0);hP(),K1.current=a,on=i,Cr!==null?e=0:(ei=null,fi=0,e=Br)}if(e!==0){if(e===2&&(i=DT(t),i!==0&&(r=i,e=uA(t,i))),e===1)throw n=Hm,Zc(t,0),lu(t,r),ga(t,gr()),n;if(e===6)lu(t,r);else{if(i=t.current.alternate,!(r&30)&&!DY(i)&&(e=Q1(t,r),e===2&&(a=DT(t),a!==0&&(r=a,e=uA(t,a))),e===1))throw n=Hm,Zc(t,0),lu(t,r),ga(t,gr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ct(345));case 2:Pc(t,la,rl);break;case 3:if(lu(t,r),(r&130023424)===r&&(e=MP+500-gr(),10<e)){if(D1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ki(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=WT(Pc.bind(null,t,la,rl),e);break}Pc(t,la,rl);break;case 4:if(lu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Js(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LY(r/1960))-r,10<r){t.timeoutHandle=WT(Pc.bind(null,t,la,rl),r);break}Pc(t,la,rl);break;case 5:Pc(t,la,rl);break;default:throw Error(ct(329))}}}return ga(t,gr()),t.callbackNode===n?l8.bind(null,t):null}function uA(t,e){var n=im;return t.current.memoizedState.isDehydrated&&(Zc(t,e).flags|=256),t=Q1(t,e),t!==2&&(e=la,la=n,e!==null&&cA(e)),t}function cA(t){la===null?la=t:la.push.apply(la,t)}function DY(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!to(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lu(t,e){for(e&=~AP,e&=~Iw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Js(e),r=1<<n;t[n]=-1,e&=~r}}function VI(t){if(on&6)throw Error(ct(327));md();var e=D1(t,0);if(!(e&1))return ga(t,gr()),null;var n=Q1(t,e);if(t.tag!==0&&n===2){var r=DT(t);r!==0&&(e=r,n=uA(t,r))}if(n===1)throw n=Hm,Zc(t,0),lu(t,e),ga(t,gr()),n;if(n===6)throw Error(ct(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pc(t,la,rl),ga(t,gr()),null}function CP(t,e){var n=on;on|=1;try{return t(e)}finally{on=n,on===0&&(Rd=gr()+500,Pw&&Hu())}}function pf(t){fu!==null&&fu.tag===0&&!(on&6)&&md();var e=on;on|=1;var n=vs.transition,r=wn;try{if(vs.transition=null,wn=1,t)return t()}finally{wn=r,vs.transition=n,on=e,!(on&6)&&Hu()}}function PP(){Fa=ed.current,Hn(ed)}function Zc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fY(n)),Cr!==null)for(n=Cr.return;n!==null;){var r=n;switch(uP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&z1();break;case 3:Pd(),Hn(pa),Hn(Ii),yP();break;case 5:vP(r);break;case 4:Pd();break;case 13:Hn(Kn);break;case 19:Hn(Kn);break;case 10:dP(r.type._context);break;case 22:case 23:PP()}n=n.return}if(ei=t,Cr=t=bu(t.current,null),fi=Fa=e,Br=0,Hm=null,AP=Iw=df=0,la=im=null,zc!==null){for(e=0;e<zc.length;e++)if(n=zc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}zc=null}return t}function u8(t,e){do{var n=Cr;try{if(hP(),c1.current=q1,Y1){for(var r=Qn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Y1=!1}if(hf=0,Kr=Ur=Qn=null,nm=!1,Bm=0,TP.current=null,n===null||n.return===null){Br=1,Hm=e,Cr=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=fi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=NI(s);if(d!==null){d.flags&=-257,II(d,s,o,a,e),d.mode&1&&RI(a,u,e),e=d,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){RI(a,u,e),OP();break e}l=Error(ct(426))}}else if($n&&o.mode&1){var y=NI(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),II(y,s,o,a,e),cP(Od(l,o));break e}}a=l=Od(l,o),Br!==4&&(Br=2),im===null?im=[a]:im.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=$6(a,l,e);TI(a,x);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wu===null||!wu.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=X6(a,o,e);TI(a,S);break e}}a=a.return}while(a!==null)}h8(n)}catch(b){e=b,Cr===n&&n!==null&&(Cr=n=n.return);continue}break}while(!0)}function c8(){var t=K1.current;return K1.current=q1,t===null?q1:t}function OP(){(Br===0||Br===3||Br===2)&&(Br=4),ei===null||!(df&268435455)&&!(Iw&268435455)||lu(ei,fi)}function Q1(t,e){var n=on;on|=2;var r=c8();(ei!==t||fi!==e)&&(rl=null,Zc(t,e));do try{kY();break}catch(i){u8(t,i)}while(!0);if(hP(),on=n,K1.current=r,Cr!==null)throw Error(ct(261));return ei=null,fi=0,Br}function kY(){for(;Cr!==null;)f8(Cr)}function FY(){for(;Cr!==null&&!lX();)f8(Cr)}function f8(t){var e=p8(t.alternate,t,Fa);t.memoizedProps=t.pendingProps,e===null?h8(t):Cr=e,TP.current=null}function h8(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OY(n,e),n!==null){n.flags&=32767,Cr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Br=6,Cr=null;return}}else if(n=PY(n,e,Fa),n!==null){Cr=n;return}if(e=e.sibling,e!==null){Cr=e;return}Cr=e=t}while(e!==null);Br===0&&(Br=5)}function Pc(t,e,n){var r=wn,i=vs.transition;try{vs.transition=null,wn=1,UY(t,e,n,r)}finally{vs.transition=i,wn=r}return null}function UY(t,e,n,r){do md();while(fu!==null);if(on&6)throw Error(ct(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ct(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(yX(t,a),t===ei&&(Cr=ei=null,fi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||By||(By=!0,m8(L1,function(){return md(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=vs.transition,vs.transition=null;var s=wn;wn=1;var o=on;on|=4,TP.current=null,NY(t,n),s8(n,t),iY(jT),k1=!!zT,jT=zT=null,t.current=n,IY(n),uX(),on=o,wn=s,vs.transition=a}else t.current=n;if(By&&(By=!1,fu=t,J1=i),a=t.pendingLanes,a===0&&(wu=null),hX(n.stateNode),ga(t,gr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Z1)throw Z1=!1,t=oA,oA=null,t;return J1&1&&t.tag!==0&&md(),a=t.pendingLanes,a&1?t===lA?am++:(am=0,lA=t):am=0,Hu(),null}function md(){if(fu!==null){var t=$5(J1),e=vs.transition,n=wn;try{if(vs.transition=null,wn=16>t?16:t,fu===null)var r=!1;else{if(t=fu,fu=null,J1=0,on&6)throw Error(ct(331));var i=on;for(on|=4,wt=t.current;wt!==null;){var a=wt,s=a.child;if(wt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(wt=u;wt!==null;){var c=wt;switch(c.tag){case 0:case 11:case 15:rm(8,c,a)}var f=c.child;if(f!==null)f.return=c,wt=f;else for(;wt!==null;){c=wt;var h=c.sibling,d=c.return;if(r8(c),c===u){wt=null;break}if(h!==null){h.return=d,wt=h;break}wt=d}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}wt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,wt=s;else e:for(;wt!==null;){if(a=wt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rm(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,wt=x;break e}wt=a.return}}var w=t.current;for(wt=w;wt!==null;){s=wt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,wt=_;else e:for(s=w;wt!==null;){if(o=wt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Nw(9,o)}}catch(b){ar(o,o.return,b)}if(o===s){wt=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,wt=S;break e}wt=o.return}}if(on=i,Hu(),Ao&&typeof Ao.onPostCommitFiberRoot=="function")try{Ao.onPostCommitFiberRoot(Ew,t)}catch{}r=!0}return r}finally{wn=n,vs.transition=e}}return!1}function $I(t,e,n){e=Od(n,e),e=$6(t,e,1),t=_u(t,e,1),e=Ki(),t!==null&&(Qg(t,1,e),ga(t,e))}function ar(t,e,n){if(t.tag===3)$I(t,t,n);else for(;e!==null;){if(e.tag===3){$I(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wu===null||!wu.has(r))){t=Od(n,t),t=X6(e,t,1),e=_u(e,t,1),t=Ki(),e!==null&&(Qg(e,1,t),ga(e,t));break}}e=e.return}}function BY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ki(),t.pingedLanes|=t.suspendedLanes&n,ei===t&&(fi&n)===n&&(Br===4||Br===3&&(fi&130023424)===fi&&500>gr()-MP?Zc(t,0):AP|=n),ga(t,e)}function d8(t,e){e===0&&(t.mode&1?(e=Py,Py<<=1,!(Py&130023424)&&(Py=4194304)):e=1);var n=Ki();t=bl(t,e),t!==null&&(Qg(t,e,n),ga(t,n))}function zY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),d8(t,n)}function jY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(e),d8(t,n)}var p8;p8=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pa.current)ha=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ha=!1,CY(t,e,n);ha=!!(t.flags&131072)}else ha=!1,$n&&e.flags&1048576&&y6(e,W1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;h1(t,e),t=e.pendingProps;var i=Ad(e,Ii.current);pd(e,n),i=_P(null,e,r,t,i,n);var a=wP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ma(r)?(a=!0,j1(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mP(e),i.updater=Rw,e.stateNode=i,i._reactInternals=e,KT(e,r,t,n),e=QT(null,e,r,!0,a,n)):(e.tag=0,$n&&a&&lP(e),$i(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(h1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WY(r),t=Us(r,t),i){case 0:e=JT(null,e,r,t,n);break e;case 1:e=kI(null,e,r,t,n);break e;case 11:e=LI(null,e,r,t,n);break e;case 14:e=DI(null,e,r,Us(r.type,t),n);break e}throw Error(ct(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),JT(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),kI(t,e,r,i,n);case 3:e:{if(Z6(e),t===null)throw Error(ct(387));r=e.pendingProps,a=e.memoizedState,i=a.element,E6(t,e),$1(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Od(Error(ct(423)),e),e=FI(t,e,r,n,i);break e}else if(r!==i){i=Od(Error(ct(424)),e),e=FI(t,e,r,n,i);break e}else for(Wa=xu(e.stateNode.containerInfo.firstChild),Ga=e,$n=!0,Gs=null,n=S6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Md(),r===i){e=El(t,e,n);break e}$i(t,e,r,n)}e=e.child}return e;case 5:return T6(e),t===null&&XT(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,HT(r,i)?s=null:a!==null&&HT(r,a)&&(e.flags|=32),K6(t,e),$i(t,e,s,n),e.child;case 6:return t===null&&XT(e),null;case 13:return J6(t,e,n);case 4:return gP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cd(e,null,r,n):$i(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),LI(t,e,r,i,n);case 7:return $i(t,e,e.pendingProps,n),e.child;case 8:return $i(t,e,e.pendingProps.children,n),e.child;case 12:return $i(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,kn(G1,r._currentValue),r._currentValue=s,a!==null)if(to(a.value,s)){if(a.children===i.children&&!pa.current){e=El(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=dl(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),YT(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ct(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),YT(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}$i(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pd(e,n),i=_s(i),r=r(i),e.flags|=1,$i(t,e,r,n),e.child;case 14:return r=e.type,i=Us(r,e.pendingProps),i=Us(r.type,i),DI(t,e,r,i,n);case 15:return Y6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),h1(t,e),e.tag=1,ma(r)?(t=!0,j1(e)):t=!1,pd(e,n),V6(e,r,i),KT(e,r,i,n),QT(null,e,r,!0,t,n);case 19:return Q6(t,e,n);case 22:return q6(t,e,n)}throw Error(ct(156,e.tag))};function m8(t,e){return H5(t,e)}function HY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(t,e,n,r){return new HY(t,e,n,r)}function RP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WY(t){if(typeof t=="function")return RP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===KC)return 11;if(t===ZC)return 14}return 2}function bu(t,e){var n=t.alternate;return n===null?(n=ms(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function m1(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")RP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Gh:return Jc(n.children,i,a,e);case qC:s=8,i|=8;break;case _T:return t=ms(12,n,e,i|2),t.elementType=_T,t.lanes=a,t;case wT:return t=ms(13,n,e,i),t.elementType=wT,t.lanes=a,t;case ST:return t=ms(19,n,e,i),t.elementType=ST,t.lanes=a,t;case T5:return Lw(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b5:s=10;break e;case E5:s=9;break e;case KC:s=11;break e;case ZC:s=14;break e;case iu:s=16,r=null;break e}throw Error(ct(130,t==null?t:typeof t,""))}return e=ms(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Jc(t,e,n,r){return t=ms(7,t,r,e),t.lanes=n,t}function Lw(t,e,n,r){return t=ms(22,t,r,e),t.elementType=T5,t.lanes=n,t.stateNode={isHidden:!1},t}function k2(t,e,n){return t=ms(6,t,null,e),t.lanes=n,t}function F2(t,e,n){return e=ms(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v2(0),this.expirationTimes=v2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NP(t,e,n,r,i,a,s,o,l){return t=new GY(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ms(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mP(a),t}function VY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function g8(t){if(!t)return Iu;t=t._reactInternals;e:{if(Of(t)!==t||t.tag!==1)throw Error(ct(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ma(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ct(171))}if(t.tag===1){var n=t.type;if(ma(n))return g6(t,n,e)}return e}function v8(t,e,n,r,i,a,s,o,l){return t=NP(n,r,!0,t,i,a,s,o,l),t.context=g8(null),n=t.current,r=Ki(),i=Su(n),a=dl(r,i),a.callback=e??null,_u(n,a,i),t.current.lanes=i,Qg(t,i,r),ga(t,r),t}function Dw(t,e,n,r){var i=e.current,a=Ki(),s=Su(i);return n=g8(n),e.context===null?e.context=n:e.pendingContext=n,e=dl(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_u(i,e,s),t!==null&&(Qs(t,i,s,a),u1(t,i,s)),s}function e_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function IP(t,e){XI(t,e),(t=t.alternate)&&XI(t,e)}function $Y(){return null}var y8=typeof reportError=="function"?reportError:function(t){console.error(t)};function LP(t){this._internalRoot=t}kw.prototype.render=LP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ct(409));Dw(t,e,null,null)};kw.prototype.unmount=LP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pf(function(){Dw(null,t,null,null)}),e[Sl]=null}};function kw(t){this._internalRoot=t}kw.prototype.unstable_scheduleHydration=function(t){if(t){var e=q5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ou.length&&e!==0&&e<ou[n].priority;n++);ou.splice(n,0,t),n===0&&Z5(t)}};function DP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YI(){}function XY(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=e_(s);a.call(u)}}var s=v8(e,r,t,0,null,!1,!1,"",YI);return t._reactRootContainer=s,t[Sl]=s.current,Lm(t.nodeType===8?t.parentNode:t),pf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=e_(l);o.call(u)}}var l=NP(t,0,!1,null,null,!1,!1,"",YI);return t._reactRootContainer=l,t[Sl]=l.current,Lm(t.nodeType===8?t.parentNode:t),pf(function(){Dw(e,l,n,r)}),l}function Uw(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=e_(s);o.call(l)}}Dw(e,s,t,i)}else s=XY(n,e,t,i,r);return e_(s)}X5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=W0(e.pendingLanes);n!==0&&(eP(e,n|1),ga(e,gr()),!(on&6)&&(Rd=gr()+500,Hu()))}break;case 13:pf(function(){var r=bl(t,1);if(r!==null){var i=Ki();Qs(r,t,1,i)}}),IP(t,1)}};tP=function(t){if(t.tag===13){var e=bl(t,134217728);if(e!==null){var n=Ki();Qs(e,t,134217728,n)}IP(t,134217728)}};Y5=function(t){if(t.tag===13){var e=Su(t),n=bl(t,e);if(n!==null){var r=Ki();Qs(n,t,e,r)}IP(t,e)}};q5=function(){return wn};K5=function(t,e){var n=wn;try{return wn=t,e()}finally{wn=n}};NT=function(t,e,n){switch(e){case"input":if(TT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cw(r);if(!i)throw Error(ct(90));M5(r),TT(r,i)}}}break;case"textarea":P5(t,n);break;case"select":e=n.value,e!=null&&cd(t,!!n.multiple,e,!1)}};k5=CP;F5=pf;var YY={usingClientEntryPoint:!1,Events:[tv,Yh,Cw,L5,D5,CP]},m0={findFiberByHostInstance:Bc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qY={bundleType:m0.bundleType,version:m0.version,rendererPackageName:m0.rendererPackageName,rendererConfig:m0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ll.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=z5(t),t===null?null:t.stateNode},findFiberByHostInstance:m0.findFiberByHostInstance||$Y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zy.isDisabled&&zy.supportsFiber)try{Ew=zy.inject(qY),Ao=zy}catch{}}qa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YY;qa.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DP(e))throw Error(ct(200));return VY(t,e,null,n)};qa.createRoot=function(t,e){if(!DP(t))throw Error(ct(299));var n=!1,r="",i=y8;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=NP(t,1,!1,null,null,n,!1,r,i),t[Sl]=e.current,Lm(t.nodeType===8?t.parentNode:t),new LP(e)};qa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ct(188)):(t=Object.keys(t).join(","),Error(ct(268,t)));return t=z5(e),t=t===null?null:t.stateNode,t};qa.flushSync=function(t){return pf(t)};qa.hydrate=function(t,e,n){if(!Fw(e))throw Error(ct(200));return Uw(null,t,e,!0,n)};qa.hydrateRoot=function(t,e,n){if(!DP(t))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=y8;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=v8(e,null,t,1,n??null,i,!1,a,s),t[Sl]=e.current,Lm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kw(e)};qa.render=function(t,e,n){if(!Fw(e))throw Error(ct(200));return Uw(null,t,e,!1,n)};qa.unmountComponentAtNode=function(t){if(!Fw(t))throw Error(ct(40));return t._reactRootContainer?(pf(function(){Uw(null,null,t,!1,function(){t._reactRootContainer=null,t[Sl]=null})}),!0):!1};qa.unstable_batchedUpdates=CP;qa.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fw(n))throw Error(ct(200));if(t==null||t._reactInternals===void 0)throw Error(ct(38));return Uw(t,e,n,!1,r)};qa.version="18.3.1-next-f1338f8080-20240426";function x8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x8)}catch(t){console.error(t)}}x8(),x5.exports=qa;var KY=x5.exports,qI=KY;yT.createRoot=qI.createRoot,yT.hydrateRoot=qI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}var hu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hu||(hu={}));const KI="popstate";function ZY(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return fA("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:t_(i)}return QY(e,n,null,t)}function xr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JY(){return Math.random().toString(36).substr(2,8)}function ZI(t,e){return{usr:t.state,key:t.key,idx:e}}function fA(t,e,n,r){return n===void 0&&(n=null),Wm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fp(e):e,{state:n,key:e&&e.key||r||JY()})}function t_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=hu.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Wm({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){o=hu.Pop;let y=c(),x=y==null?null:y-u;u=y,l&&l({action:o,location:v.location,delta:x})}function h(y,x){o=hu.Push;let w=fA(v.location,y,x);u=c()+1;let _=ZI(w,u),S=v.createHref(w);try{s.pushState(_,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(S)}a&&l&&l({action:o,location:v.location,delta:1})}function d(y,x){o=hu.Replace;let w=fA(v.location,y,x);u=c();let _=ZI(w,u),S=v.createHref(w);s.replaceState(_,"",S),a&&l&&l({action:o,location:v.location,delta:0})}function g(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:t_(y);return w=w.replace(/ $/,"%20"),xr(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return o},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(KI,f),l=y,()=>{i.removeEventListener(KI,f),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:d,go(y){return s.go(y)}};return v}var JI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JI||(JI={}));function eq(t,e,n){return n===void 0&&(n="/"),tq(t,e,n)}function tq(t,e,n,r){let i=typeof e=="string"?fp(e):e,a=FP(i.pathname||"/",n);if(a==null)return null;let s=_8(t);nq(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=pq(a);o=fq(s[l],u)}return o}function _8(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(xr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Eu([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(xr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_8(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:uq(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of w8(a.path))i(a,s,l)}),e}function w8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=w8(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function nq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rq=/^:[\w-]+$/,iq=3,aq=2,sq=1,oq=10,lq=-2,QI=t=>t==="*";function uq(t,e){let n=t.split("/"),r=n.length;return n.some(QI)&&(r+=lq),e&&(r+=aq),n.filter(i=>!QI(i)).reduce((i,a)=>i+(rq.test(a)?iq:a===""?sq:oq),r)}function cq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fq(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=hq({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Eu([a,f.pathname]),pathnameBase:xq(Eu([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Eu([a,f.pathnameBase]))}return s}function hq(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:d}=c;if(h==="*"){let v=o[f]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[f];return d&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function dq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function FP(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const mq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gq=t=>mq.test(t);function vq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fp(t):t,a;if(n)if(gq(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),kP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=e4(n.substring(1),"/"):a=e4(n,e)}else a=e;return{pathname:a,search:_q(r),hash:wq(i)}}function e4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function U2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UP(t,e){let n=yq(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fp(t):(i=Wm({},t),xr(!i.pathname||!i.pathname.includes("?"),U2("?","pathname","search",i)),xr(!i.pathname||!i.pathname.includes("#"),U2("#","pathname","hash",i)),xr(!i.search||!i.search.includes("#"),U2("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=vq(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Eu=t=>t.join("/").replace(/\/\/+/g,"/"),xq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_q=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Sq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S8=["post","put","patch","delete"];new Set(S8);const bq=["get",...S8];new Set(bq);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}const zP=fe.createContext(null),Eq=fe.createContext(null),Wu=fe.createContext(null),Bw=fe.createContext(null),Gu=fe.createContext({outlet:null,matches:[],isDataRoute:!1}),b8=fe.createContext(null);function Tq(t,e){let{relative:n}=e===void 0?{}:e;hp()||xr(!1);let{basename:r,navigator:i}=fe.useContext(Wu),{hash:a,pathname:s,search:o}=A8(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Eu([r,s])),i.createHref({pathname:l,search:o,hash:a})}function hp(){return fe.useContext(Bw)!=null}function dp(){return hp()||xr(!1),fe.useContext(Bw).location}function E8(t){fe.useContext(Wu).static||fe.useLayoutEffect(t)}function T8(){let{isDataRoute:t}=fe.useContext(Gu);return t?Uq():Aq()}function Aq(){hp()||xr(!1);let t=fe.useContext(zP),{basename:e,future:n,navigator:r}=fe.useContext(Wu),{matches:i}=fe.useContext(Gu),{pathname:a}=dp(),s=JSON.stringify(UP(i,n.v7_relativeSplatPath)),o=fe.useRef(!1);return E8(()=>{o.current=!0}),fe.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=BP(u,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Eu([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,a,t])}function A8(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=fe.useContext(Wu),{matches:i}=fe.useContext(Gu),{pathname:a}=dp(),s=JSON.stringify(UP(i,r.v7_relativeSplatPath));return fe.useMemo(()=>BP(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function Mq(t,e){return Cq(t,e)}function Cq(t,e,n,r){hp()||xr(!1);let{navigator:i}=fe.useContext(Wu),{matches:a}=fe.useContext(Gu),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=dp(),c;if(e){var f;let y=typeof e=="string"?fp(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||xr(!1),c=y}else c=u;let h=c.pathname||"/",d=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=eq(t,{pathname:d}),v=Iq(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Eu([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Eu([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&v?fe.createElement(Bw.Provider,{value:{location:Gm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:hu.Pop}},v):v}function Pq(){let t=Fq(),e=Sq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),n?fe.createElement("pre",{style:i},n):null,null)}const Oq=fe.createElement(Pq,null);class Rq extends fe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?fe.createElement(Gu.Provider,{value:this.props.routeContext},fe.createElement(b8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nq(t){let{routeContext:e,match:n,children:r}=t,i=fe.useContext(zP);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),fe.createElement(Gu.Provider,{value:e},r)}function Iq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||xr(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:d}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let d,g=!1,v=null,y=null;n&&(d=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||Oq,l&&(u<0&&h===0?(Bq("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),w=()=>{let _;return d?_=v:g?_=y:f.route.Component?_=fe.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,fe.createElement(Nq,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?fe.createElement(Rq,{location:n.location,revalidation:n.revalidation,component:v,error:d,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var M8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(M8||{}),C8=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(C8||{});function Lq(t){let e=fe.useContext(zP);return e||xr(!1),e}function Dq(t){let e=fe.useContext(Eq);return e||xr(!1),e}function kq(t){let e=fe.useContext(Gu);return e||xr(!1),e}function P8(t){let e=kq(),n=e.matches[e.matches.length-1];return n.route.id||xr(!1),n.route.id}function Fq(){var t;let e=fe.useContext(b8),n=Dq(),r=P8();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Uq(){let{router:t}=Lq(M8.UseNavigateStable),e=P8(C8.UseNavigateStable),n=fe.useRef(!1);return E8(()=>{n.current=!0}),fe.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gm({fromRouteId:e},a)))},[t,e])}const t4={};function Bq(t,e,n){t4[t]||(t4[t]=!0)}function zq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jq(t){let{to:e,replace:n,state:r,relative:i}=t;hp()||xr(!1);let{future:a,static:s}=fe.useContext(Wu),{matches:o}=fe.useContext(Gu),{pathname:l}=dp(),u=T8(),c=BP(e,UP(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return fe.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Fs(t){xr(!1)}function Hq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hu.Pop,navigator:a,static:s=!1,future:o}=t;hp()&&xr(!1);let l=e.replace(/^\/*/,"/"),u=fe.useMemo(()=>({basename:l,navigator:a,static:s,future:Gm({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=fp(r));let{pathname:c="/",search:f="",hash:h="",state:d=null,key:g="default"}=r,v=fe.useMemo(()=>{let y=FP(c,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:d,key:g},navigationType:i}},[l,c,f,h,d,g,i]);return v==null?null:fe.createElement(Wu.Provider,{value:u},fe.createElement(Bw.Provider,{children:n,value:v}))}function Wq(t){let{children:e,location:n}=t;return Mq(hA(e),n)}new Promise(()=>{});function hA(t,e){e===void 0&&(e=[]);let n=[];return fe.Children.forEach(t,(r,i)=>{if(!fe.isValidElement(r))return;let a=[...e,i];if(r.type===fe.Fragment){n.push.apply(n,hA(r.props.children,a));return}r.type!==Fs&&xr(!1),!r.props.index||!r.props.children||xr(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=hA(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dA(){return dA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dA.apply(this,arguments)}function Gq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $q(t,e){return t.button===0&&(!e||e==="_self")&&!Vq(t)}const Xq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yq="6";try{window.__reactRouterVersion=Yq}catch{}const qq="startTransition",n4=B$[qq];function Kq(t){let{basename:e,children:n,future:r,window:i}=t,a=fe.useRef();a.current==null&&(a.current=ZY({window:i,v5Compat:!0}));let s=a.current,[o,l]=fe.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=fe.useCallback(f=>{u&&n4?n4(()=>l(f)):l(f)},[l,u]);return fe.useLayoutEffect(()=>s.listen(c),[s,c]),fe.useEffect(()=>zq(r),[r]),fe.createElement(Hq,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const Zq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r4=fe.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=Gq(e,Xq),{basename:d}=fe.useContext(Wu),g,v=!1;if(typeof u=="string"&&Jq.test(u)&&(g=u,Zq))try{let _=new URL(window.location.href),S=u.startsWith("//")?new URL(_.protocol+u):new URL(u),b=FP(S.pathname,d);S.origin===_.origin&&b!=null?u=b+S.search+S.hash:v=!0}catch{}let y=Tq(u,{relative:i}),x=Qq(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||x(_)}return fe.createElement("a",dA({},h,{href:g||y,onClick:v||a?r:w,ref:n,target:l}))});var i4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(i4||(i4={}));var a4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(a4||(a4={}));function Qq(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=T8(),u=dp(),c=A8(t,{relative:s});return fe.useCallback(f=>{if($q(f,n)){f.preventDefault();let h=r!==void 0?r:t_(u)===t_(c);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,r,i,n,t,a,s,o])}function O8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=O8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=O8(t))&&(r&&(r+=" "),r+=e);return r}var eK=Array.isArray,Sa=eK,tK=typeof by=="object"&&by&&by.Object===Object&&by,R8=tK,nK=R8,rK=typeof self=="object"&&self&&self.Object===Object&&self,iK=nK||rK||Function("return this")(),ko=iK,aK=ko,sK=aK.Symbol,rv=sK,s4=rv,N8=Object.prototype,oK=N8.hasOwnProperty,lK=N8.toString,g0=s4?s4.toStringTag:void 0;function uK(t){var e=oK.call(t,g0),n=t[g0];try{t[g0]=void 0;var r=!0}catch{}var i=lK.call(t);return r&&(e?t[g0]=n:delete t[g0]),i}var cK=uK,fK=Object.prototype,hK=fK.toString;function dK(t){return hK.call(t)}var pK=dK,o4=rv,mK=cK,gK=pK,vK="[object Null]",yK="[object Undefined]",l4=o4?o4.toStringTag:void 0;function xK(t){return t==null?t===void 0?yK:vK:l4&&l4 in Object(t)?mK(t):gK(t)}var Dl=xK;function _K(t){return t!=null&&typeof t=="object"}var kl=_K,wK=Dl,SK=kl,bK="[object Symbol]";function EK(t){return typeof t=="symbol"||SK(t)&&wK(t)==bK}var pp=EK,TK=Sa,AK=pp,MK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,CK=/^\w*$/;function PK(t,e){if(TK(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||AK(t)?!0:CK.test(t)||!MK.test(t)||e!=null&&t in Object(e)}var jP=PK;function OK(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Vu=OK;const mp=Mn(Vu);var RK=Dl,NK=Vu,IK="[object AsyncFunction]",LK="[object Function]",DK="[object GeneratorFunction]",kK="[object Proxy]";function FK(t){if(!NK(t))return!1;var e=RK(t);return e==LK||e==DK||e==IK||e==kK}var HP=FK;const Kt=Mn(HP);var UK=ko,BK=UK["__core-js_shared__"],zK=BK,B2=zK,u4=function(){var t=/[^.]+$/.exec(B2&&B2.keys&&B2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jK(t){return!!u4&&u4 in t}var HK=jK,WK=Function.prototype,GK=WK.toString;function VK(t){if(t!=null){try{return GK.call(t)}catch{}try{return t+""}catch{}}return""}var I8=VK,$K=HP,XK=HK,YK=Vu,qK=I8,KK=/[\\^$.*+?()[\]{}|]/g,ZK=/^\[object .+?Constructor\]$/,JK=Function.prototype,QK=Object.prototype,eZ=JK.toString,tZ=QK.hasOwnProperty,nZ=RegExp("^"+eZ.call(tZ).replace(KK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rZ(t){if(!YK(t)||XK(t))return!1;var e=$K(t)?nZ:ZK;return e.test(qK(t))}var iZ=rZ;function aZ(t,e){return t==null?void 0:t[e]}var sZ=aZ,oZ=iZ,lZ=sZ;function uZ(t,e){var n=lZ(t,e);return oZ(n)?n:void 0}var Rf=uZ,cZ=Rf,fZ=cZ(Object,"create"),zw=fZ,c4=zw;function hZ(){this.__data__=c4?c4(null):{},this.size=0}var dZ=hZ;function pZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mZ=pZ,gZ=zw,vZ="__lodash_hash_undefined__",yZ=Object.prototype,xZ=yZ.hasOwnProperty;function _Z(t){var e=this.__data__;if(gZ){var n=e[t];return n===vZ?void 0:n}return xZ.call(e,t)?e[t]:void 0}var wZ=_Z,SZ=zw,bZ=Object.prototype,EZ=bZ.hasOwnProperty;function TZ(t){var e=this.__data__;return SZ?e[t]!==void 0:EZ.call(e,t)}var AZ=TZ,MZ=zw,CZ="__lodash_hash_undefined__";function PZ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=MZ&&e===void 0?CZ:e,this}var OZ=PZ,RZ=dZ,NZ=mZ,IZ=wZ,LZ=AZ,DZ=OZ;function gp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gp.prototype.clear=RZ;gp.prototype.delete=NZ;gp.prototype.get=IZ;gp.prototype.has=LZ;gp.prototype.set=DZ;var kZ=gp;function FZ(){this.__data__=[],this.size=0}var UZ=FZ;function BZ(t,e){return t===e||t!==t&&e!==e}var WP=BZ,zZ=WP;function jZ(t,e){for(var n=t.length;n--;)if(zZ(t[n][0],e))return n;return-1}var jw=jZ,HZ=jw,WZ=Array.prototype,GZ=WZ.splice;function VZ(t){var e=this.__data__,n=HZ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():GZ.call(e,n,1),--this.size,!0}var $Z=VZ,XZ=jw;function YZ(t){var e=this.__data__,n=XZ(e,t);return n<0?void 0:e[n][1]}var qZ=YZ,KZ=jw;function ZZ(t){return KZ(this.__data__,t)>-1}var JZ=ZZ,QZ=jw;function eJ(t,e){var n=this.__data__,r=QZ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var tJ=eJ,nJ=UZ,rJ=$Z,iJ=qZ,aJ=JZ,sJ=tJ;function vp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vp.prototype.clear=nJ;vp.prototype.delete=rJ;vp.prototype.get=iJ;vp.prototype.has=aJ;vp.prototype.set=sJ;var Hw=vp,oJ=Rf,lJ=ko,uJ=oJ(lJ,"Map"),GP=uJ,f4=kZ,cJ=Hw,fJ=GP;function hJ(){this.size=0,this.__data__={hash:new f4,map:new(fJ||cJ),string:new f4}}var dJ=hJ;function pJ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var mJ=pJ,gJ=mJ;function vJ(t,e){var n=t.__data__;return gJ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ww=vJ,yJ=Ww;function xJ(t){var e=yJ(this,t).delete(t);return this.size-=e?1:0,e}var _J=xJ,wJ=Ww;function SJ(t){return wJ(this,t).get(t)}var bJ=SJ,EJ=Ww;function TJ(t){return EJ(this,t).has(t)}var AJ=TJ,MJ=Ww;function CJ(t,e){var n=MJ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var PJ=CJ,OJ=dJ,RJ=_J,NJ=bJ,IJ=AJ,LJ=PJ;function yp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yp.prototype.clear=OJ;yp.prototype.delete=RJ;yp.prototype.get=NJ;yp.prototype.has=IJ;yp.prototype.set=LJ;var VP=yp,L8=VP,DJ="Expected a function";function $P(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DJ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new($P.Cache||L8),n}$P.Cache=L8;var D8=$P;const kJ=Mn(D8);var FJ=D8,UJ=500;function BJ(t){var e=FJ(t,function(r){return n.size===UJ&&n.clear(),r}),n=e.cache;return e}var zJ=BJ,jJ=zJ,HJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WJ=/\\(\\)?/g,GJ=jJ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HJ,function(n,r,i,a){e.push(i?a.replace(WJ,"$1"):r||n)}),e}),VJ=GJ;function $J(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var XP=$J,h4=rv,XJ=XP,YJ=Sa,qJ=pp,d4=h4?h4.prototype:void 0,p4=d4?d4.toString:void 0;function k8(t){if(typeof t=="string")return t;if(YJ(t))return XJ(t,k8)+"";if(qJ(t))return p4?p4.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var KJ=k8,ZJ=KJ;function JJ(t){return t==null?"":ZJ(t)}var F8=JJ,QJ=Sa,eQ=jP,tQ=VJ,nQ=F8;function rQ(t,e){return QJ(t)?t:eQ(t,e)?[t]:tQ(nQ(t))}var U8=rQ,iQ=pp;function aQ(t){if(typeof t=="string"||iQ(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gw=aQ,sQ=U8,oQ=Gw;function lQ(t,e){e=sQ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[oQ(e[n++])];return n&&n==r?t:void 0}var YP=lQ,uQ=YP;function cQ(t,e,n){var r=t==null?void 0:uQ(t,e);return r===void 0?n:r}var B8=cQ;const ys=Mn(B8);function fQ(t){return t==null}var hQ=fQ;const tn=Mn(hQ);var dQ=Dl,pQ=Sa,mQ=kl,gQ="[object String]";function vQ(t){return typeof t=="string"||!pQ(t)&&mQ(t)&&dQ(t)==gQ}var yQ=vQ;const mf=Mn(yQ);var z8={exports:{}},bn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP=Symbol.for("react.element"),KP=Symbol.for("react.portal"),Vw=Symbol.for("react.fragment"),$w=Symbol.for("react.strict_mode"),Xw=Symbol.for("react.profiler"),Yw=Symbol.for("react.provider"),qw=Symbol.for("react.context"),xQ=Symbol.for("react.server_context"),Kw=Symbol.for("react.forward_ref"),Zw=Symbol.for("react.suspense"),Jw=Symbol.for("react.suspense_list"),Qw=Symbol.for("react.memo"),eS=Symbol.for("react.lazy"),_Q=Symbol.for("react.offscreen"),j8;j8=Symbol.for("react.module.reference");function bs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qP:switch(t=t.type,t){case Vw:case Xw:case $w:case Zw:case Jw:return t;default:switch(t=t&&t.$$typeof,t){case xQ:case qw:case Kw:case eS:case Qw:case Yw:return t;default:return e}}case KP:return e}}}bn.ContextConsumer=qw;bn.ContextProvider=Yw;bn.Element=qP;bn.ForwardRef=Kw;bn.Fragment=Vw;bn.Lazy=eS;bn.Memo=Qw;bn.Portal=KP;bn.Profiler=Xw;bn.StrictMode=$w;bn.Suspense=Zw;bn.SuspenseList=Jw;bn.isAsyncMode=function(){return!1};bn.isConcurrentMode=function(){return!1};bn.isContextConsumer=function(t){return bs(t)===qw};bn.isContextProvider=function(t){return bs(t)===Yw};bn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qP};bn.isForwardRef=function(t){return bs(t)===Kw};bn.isFragment=function(t){return bs(t)===Vw};bn.isLazy=function(t){return bs(t)===eS};bn.isMemo=function(t){return bs(t)===Qw};bn.isPortal=function(t){return bs(t)===KP};bn.isProfiler=function(t){return bs(t)===Xw};bn.isStrictMode=function(t){return bs(t)===$w};bn.isSuspense=function(t){return bs(t)===Zw};bn.isSuspenseList=function(t){return bs(t)===Jw};bn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vw||t===Xw||t===$w||t===Zw||t===Jw||t===_Q||typeof t=="object"&&t!==null&&(t.$$typeof===eS||t.$$typeof===Qw||t.$$typeof===Yw||t.$$typeof===qw||t.$$typeof===Kw||t.$$typeof===j8||t.getModuleId!==void 0)};bn.typeOf=bs;z8.exports=bn;var wQ=z8.exports,SQ=Dl,bQ=kl,EQ="[object Number]";function TQ(t){return typeof t=="number"||bQ(t)&&SQ(t)==EQ}var H8=TQ;const AQ=Mn(H8);var MQ=H8;function CQ(t){return MQ(t)&&t!=+t}var PQ=CQ;const iv=Mn(PQ);var Ks=function(e){return e===0?0:e>0?1:-1},Hc=function(e){return mf(e)&&e.indexOf("%")===e.length-1},mt=function(e){return AQ(e)&&!iv(e)},OQ=function(e){return tn(e)},zr=function(e){return mt(e)||mf(e)},RQ=0,av=function(e){var n=++RQ;return"".concat(e||"").concat(n)},gf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(e)&&!mf(e))return r;var a;if(Hc(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return iv(a)&&(a=r),i&&a>n&&(a=n),a},uu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},NQ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Vs=function(e,n){return mt(e)&&mt(n)?function(r){return e+r*(n-e)}:function(){return n}};function n_(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ys(r,e))===n})}var IQ=function(e,n){return mt(e)&&mt(n)?e-n:mf(e)&&mf(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function gd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function pA(t){"@babel/helpers - typeof";return pA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pA(t)}var LQ=["viewBox","children"],DQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],m4=["points","pathLength"],z2={svg:LQ,polygon:m4,polyline:m4},ZP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],r_=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(fe.isValidElement(e)&&(r=e.props),!mp(r))return null;var i={};return Object.keys(r).forEach(function(a){ZP.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},kQ=function(e,n,r){return function(i){return e(n,r,i),null}},i_=function(e,n,r){if(!mp(e)||pA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];ZP.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=kQ(s,n,r))}),i},FQ=["children"],UQ=["children"];function g4(t,e){if(t==null)return{};var n=BQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mA(t){"@babel/helpers - typeof";return mA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mA(t)}var v4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},y4=null,j2=null,JP=function t(e){if(e===y4&&Array.isArray(j2))return j2;var n=[];return fe.Children.forEach(e,function(r){tn(r)||(wQ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),j2=n,y4=e,n};function xs(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return pl(i)}):r=[pl(e)],JP(t).forEach(function(i){var a=ys(i,"type.displayName")||ys(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ua(t,e){var n=xs(t,e);return n&&n[0]}var x4=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!mt(r)||r<=0||!mt(i)||i<=0)},zQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jQ=function(e){return e&&e.type&&mf(e.type)&&zQ.indexOf(e.type)>=0},HQ=function(e){return e&&mA(e)==="object"&&"clipDot"in e},WQ=function(e,n,r,i){var a,s=(a=z2==null?void 0:z2[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Kt(e)&&(i&&s.includes(n)||DQ.includes(n))||r&&ZP.includes(n)},an=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(fe.isValidElement(e)&&(i=e.props),!mp(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;WQ((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},gA=function t(e,n){if(e===n)return!0;var r=fe.Children.count(e);if(r!==fe.Children.count(n))return!1;if(r===0)return!0;if(r===1)return _4(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!_4(a,s))return!1}return!0},_4=function(e,n){if(tn(e)&&tn(n))return!0;if(!tn(e)&&!tn(n)){var r=e.props||{},i=r.children,a=g4(r,FQ),s=n.props||{},o=s.children,l=g4(s,UQ);return i&&o?gd(a,l)&&gA(i,o):!i&&!o?gd(a,l):!1}return!1},w4=function(e,n){var r=[],i={};return JP(e).forEach(function(a,s){if(jQ(a))r.push(a);else if(a){var o=pl(a.type),l=n[o]||{},u=l.handler,c=l.once;if(u&&(!c||!i[o])){var f=u(a,o,s);r.push(f),i[o]=!0}}}),r},GQ=function(e){var n=e&&e.type;return n&&v4[n]?v4[n]:null},VQ=function(e,n){return JP(n).indexOf(e)},$Q=["children","width","height","viewBox","className","style","title","desc"];function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vA.apply(this,arguments)}function XQ(t,e){if(t==null)return{};var n=YQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=XQ(t,$Q),c=i||{width:n,height:r,x:0,y:0},f=ln("recharts-surface",a);return Te.createElement("svg",vA({},an(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),Te.createElement("title",null,o),Te.createElement("desc",null,l),e)}var qQ=["children","className"];function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xA.apply(this,arguments)}function KQ(t,e){if(t==null)return{};var n=ZQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yr=Te.forwardRef(function(t,e){var n=t.children,r=t.className,i=KQ(t,qQ),a=ln("recharts-layer",r);return Te.createElement("g",xA({className:a},an(i,!0),{ref:e}),n)}),ml=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function JQ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var QQ=JQ,eee=QQ;function tee(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:eee(t,e,n)}var nee=tee,ree="\\ud800-\\udfff",iee="\\u0300-\\u036f",aee="\\ufe20-\\ufe2f",see="\\u20d0-\\u20ff",oee=iee+aee+see,lee="\\ufe0e\\ufe0f",uee="\\u200d",cee=RegExp("["+uee+ree+oee+lee+"]");function fee(t){return cee.test(t)}var W8=fee;function hee(t){return t.split("")}var dee=hee,G8="\\ud800-\\udfff",pee="\\u0300-\\u036f",mee="\\ufe20-\\ufe2f",gee="\\u20d0-\\u20ff",vee=pee+mee+gee,yee="\\ufe0e\\ufe0f",xee="["+G8+"]",_A="["+vee+"]",wA="\\ud83c[\\udffb-\\udfff]",_ee="(?:"+_A+"|"+wA+")",V8="[^"+G8+"]",$8="(?:\\ud83c[\\udde6-\\uddff]){2}",X8="[\\ud800-\\udbff][\\udc00-\\udfff]",wee="\\u200d",Y8=_ee+"?",q8="["+yee+"]?",See="(?:"+wee+"(?:"+[V8,$8,X8].join("|")+")"+q8+Y8+")*",bee=q8+Y8+See,Eee="(?:"+[V8+_A+"?",_A,$8,X8,xee].join("|")+")",Tee=RegExp(wA+"(?="+wA+")|"+Eee+bee,"g");function Aee(t){return t.match(Tee)||[]}var Mee=Aee,Cee=dee,Pee=W8,Oee=Mee;function Ree(t){return Pee(t)?Oee(t):Cee(t)}var Nee=Ree,Iee=nee,Lee=W8,Dee=Nee,kee=F8;function Fee(t){return function(e){e=kee(e);var n=Lee(e)?Dee(e):void 0,r=n?n[0]:e.charAt(0),i=n?Iee(n,1).join(""):e.slice(1);return r[t]()+i}}var Uee=Fee,Bee=Uee,zee=Bee("toUpperCase"),jee=zee;const tS=Mn(jee);function Ln(t){return function(){return t}}const K8=Math.cos,a_=Math.sin,io=Math.sqrt,s_=Math.PI,nS=2*s_,SA=Math.PI,bA=2*SA,Oc=1e-6,Hee=bA-Oc;function Z8(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Wee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Z8;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Gee=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Z8:Wee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,c=s-e,f=o-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Oc)if(!(Math.abs(f*l-u*c)>Oc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-s,g=i-o,v=l*l+u*u,y=d*d+g*g,x=Math.sqrt(v),w=Math.sqrt(h),_=a*Math.tan((SA-Math.acos((v+h-y)/(2*x*w)))/2),S=_/w,b=_/x;Math.abs(S-1)>Oc&&this._append`L${e+S*c},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*d>c*g)},${this._x1=e+b*l},${this._y1=n+b*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Oc||Math.abs(this._y1-c)>Oc)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%bA+bA),h>Hee?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Oc&&this._append`A${r},${r},0,${+(h>=SA)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function QP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Gee(e)}function eO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function J8(t){this._context=t}J8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rS(t){return new J8(t)}function Q8(t){return t[0]}function ez(t){return t[1]}function tz(t,e){var n=Ln(!0),r=null,i=rS,a=null,s=QP(o);t=typeof t=="function"?t:t===void 0?Q8:Ln(t),e=typeof e=="function"?e:e===void 0?ez:Ln(e);function o(l){var u,c=(l=eO(l)).length,f,h=!1,d;for(r==null&&(a=i(d=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(d)return a=null,d+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ln(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ln(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ln(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function jy(t,e,n){var r=null,i=Ln(!0),a=null,s=rS,o=null,l=QP(u);t=typeof t=="function"?t:t===void 0?Q8:Ln(+t),e=typeof e=="function"?e:Ln(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?ez:Ln(+n);function u(f){var h,d,g,v=(f=eO(f)).length,y,x=!1,w,_=new Array(v),S=new Array(v);for(a==null&&(o=s(w=l())),h=0;h<=v;++h){if(!(h<v&&i(y=f[h],h,f))===x)if(x=!x)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=d;--g)o.point(_[g],S[g]);o.lineEnd(),o.areaEnd()}x&&(_[h]=+t(y,h,f),S[h]=+e(y,h,f),o.point(r?+r(y,h,f):_[h],n?+n(y,h,f):S[h]))}if(w)return o=null,w+""||null}function c(){return tz().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ln(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ln(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ln(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ln(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ln(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ln(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ln(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class nz{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Vee(t){return new nz(t,!0)}function $ee(t){return new nz(t,!1)}const tO={draw(t,e){const n=io(e/s_);t.moveTo(n,0),t.arc(0,0,n,0,nS)}},Xee={draw(t,e){const n=io(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rz=io(1/3),Yee=rz*2,qee={draw(t,e){const n=io(e/Yee),r=n*rz;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Kee={draw(t,e){const n=io(e),r=-n/2;t.rect(r,r,n,n)}},Zee=.8908130915292852,iz=a_(s_/10)/a_(7*s_/10),Jee=a_(nS/10)*iz,Qee=-K8(nS/10)*iz,ete={draw(t,e){const n=io(e*Zee),r=Jee*n,i=Qee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=nS*a/5,o=K8(s),l=a_(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},H2=io(3),tte={draw(t,e){const n=-io(e/(H2*3));t.moveTo(0,n*2),t.lineTo(-H2*n,-n),t.lineTo(H2*n,-n),t.closePath()}},as=-.5,ss=io(3)/2,EA=1/io(12),nte=(EA/2+1)*3,rte={draw(t,e){const n=io(e/nte),r=n/2,i=n*EA,a=r,s=n*EA+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(as*r-ss*i,ss*r+as*i),t.lineTo(as*a-ss*s,ss*a+as*s),t.lineTo(as*o-ss*l,ss*o+as*l),t.lineTo(as*r+ss*i,as*i-ss*r),t.lineTo(as*a+ss*s,as*s-ss*a),t.lineTo(as*o+ss*l,as*l-ss*o),t.closePath()}};function ite(t,e){let n=null,r=QP(i);t=typeof t=="function"?t:Ln(t||tO),e=typeof e=="function"?e:Ln(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ln(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ln(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function o_(){}function l_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function az(t){this._context=t}az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:l_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:l_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ate(t){return new az(t)}function sz(t){this._context=t}sz.prototype={areaStart:o_,areaEnd:o_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:l_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ste(t){return new sz(t)}function oz(t){this._context=t}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:l_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ote(t){return new oz(t)}function lz(t){this._context=t}lz.prototype={areaStart:o_,areaEnd:o_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lte(t){return new lz(t)}function S4(t){return t<0?-1:1}function b4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(S4(a)+S4(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function E4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function W2(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function u_(t){this._context=t}u_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W2(this,this._t0,E4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,W2(this,E4(this,n=b4(this,t,e)),n);break;default:W2(this,this._t0,n=b4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function uz(t){this._context=new cz(t)}(uz.prototype=Object.create(u_.prototype)).point=function(t,e){u_.prototype.point.call(this,e,t)};function cz(t){this._context=t}cz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ute(t){return new u_(t)}function cte(t){return new uz(t)}function fz(t){this._context=t}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=T4(t),i=T4(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function T4(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fte(t){return new fz(t)}function iS(t,e){this._context=t,this._t=e}iS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hte(t){return new iS(t,.5)}function dte(t){return new iS(t,0)}function pte(t){return new iS(t,1)}function Nd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function TA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function mte(t,e){return t[e]}function gte(t){const e=[];return e.key=t,e}function vte(){var t=Ln([]),e=TA,n=Nd,r=mte;function i(a){var s=Array.from(t.apply(this,arguments),gte),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,c=eO(e(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ln(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ln(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?TA:typeof a=="function"?a:Ln(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Nd,i):n},i}function yte(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Nd(t,e)}}function xte(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Nd(t,e)}}function _te(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=t[e[o]],f=c[r][1]||0,h=c[r-1][1]||0,d=(f-h)/2,g=0;g<o;++g){var v=t[e[g]],y=v[r][1]||0,x=v[r-1][1]||0;d+=y-x}l+=f,u+=d*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Nd(t,e)}}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}var wte=["type","size","sizeType"];function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AA.apply(this,arguments)}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){Ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e,n){return e=bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=Ete(t,"string");return Vm(e)=="symbol"?e:e+""}function Ete(t,e){if(Vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tte(t,e){if(t==null)return{};var n=Ate(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ate(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hz={symbolCircle:tO,symbolCross:Xee,symbolDiamond:qee,symbolSquare:Kee,symbolStar:ete,symbolTriangle:tte,symbolWye:rte},Mte=Math.PI/180,Cte=function(e){var n="symbol".concat(tS(e));return hz[n]||tO},Pte=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Mte;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ote=function(e,n){hz["symbol".concat(tS(e))]=n},nO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Tte(e,wte),u=M4(M4({},l),{},{type:r,size:a,sizeType:o}),c=function(){var y=Cte(r),x=ite().type(y).size(Pte(a,o,r));return x()},f=u.className,h=u.cx,d=u.cy,g=an(u,!0);return h===+h&&d===+d&&a===+a?Te.createElement("path",AA({},g,{className:ln("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:c()})):null};nO.registerSymbol=Ote;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MA.apply(this,arguments)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){$m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ite(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pz(r.key),r)}}function Lte(t,e,n){return e&&Ite(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dte(t,e,n){return e=c_(e),kte(t,dz()?Reflect.construct(e,n||[],c_(t).constructor):e.apply(t,n))}function kte(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fte(t)}function Fte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dz=function(){return!!t})()}function c_(t){return c_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c_(t)}function Ute(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CA(t,e)}function $m(t,e,n){return e=pz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pz(t){var e=Bte(t,"string");return Id(e)=="symbol"?e:e+""}function Bte(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var os=32,rO=function(t){function e(){return Nte(this,e),Dte(this,e,arguments)}return Ute(e,t),Lte(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=os/2,s=os/6,o=os/3,l=r.inactive?i:r.color;if(r.type==="plainline")return Te.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:os,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Te.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(os,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Te.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(os/8,"h").concat(os,"v").concat(os*3/4,"h").concat(-os,"z"),className:"recharts-legend-icon"});if(Te.isValidElement(r.legendIcon)){var u=Rte({},r);return delete u.legendIcon,Te.cloneElement(r.legendIcon,u)}return Te.createElement(nO,{fill:l,cx:a,cy:a,size:os,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:os,height:os},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(d,g){var v=d.formatter||l,y=ln($m($m({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",d.inactive));if(d.type==="none")return null;var x=Kt(d.value)?null:d.value;ml(!Kt(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=d.inactive?u:d.color;return Te.createElement("li",MA({className:y,style:f,key:"legend-item-".concat(g)},i_(r.props,d,g)),Te.createElement(yA,{width:s,height:s,viewBox:c,style:h},r.renderIcon(d)),Te.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(x,d,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Te.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(fe.PureComponent);$m(rO,"displayName","Legend");$m(rO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zte=Hw;function jte(){this.__data__=new zte,this.size=0}var Hte=jte;function Wte(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Gte=Wte;function Vte(t){return this.__data__.get(t)}var $te=Vte;function Xte(t){return this.__data__.has(t)}var Yte=Xte,qte=Hw,Kte=GP,Zte=VP,Jte=200;function Qte(t,e){var n=this.__data__;if(n instanceof qte){var r=n.__data__;if(!Kte||r.length<Jte-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zte(r)}return n.set(t,e),this.size=n.size,this}var ene=Qte,tne=Hw,nne=Hte,rne=Gte,ine=$te,ane=Yte,sne=ene;function xp(t){var e=this.__data__=new tne(t);this.size=e.size}xp.prototype.clear=nne;xp.prototype.delete=rne;xp.prototype.get=ine;xp.prototype.has=ane;xp.prototype.set=sne;var mz=xp,one="__lodash_hash_undefined__";function lne(t){return this.__data__.set(t,one),this}var une=lne;function cne(t){return this.__data__.has(t)}var fne=cne,hne=VP,dne=une,pne=fne;function f_(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hne;++e<n;)this.add(t[e])}f_.prototype.add=f_.prototype.push=dne;f_.prototype.has=pne;var gz=f_;function mne(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var vz=mne;function gne(t,e){return t.has(e)}var yz=gne,vne=gz,yne=vz,xne=yz,_ne=1,wne=2;function Sne(t,e,n,r,i,a){var s=n&_ne,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,d=n&wne?new vne:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var g=t[f],v=e[f];if(r)var y=s?r(v,g,f,e,t,a):r(g,v,f,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!yne(e,function(x,w){if(!xne(d,w)&&(g===x||i(g,x,n,r,a)))return d.push(w)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var xz=Sne,bne=ko,Ene=bne.Uint8Array,Tne=Ene;function Ane(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Mne=Ane;function Cne(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var iO=Cne,P4=rv,O4=Tne,Pne=WP,One=xz,Rne=Mne,Nne=iO,Ine=1,Lne=2,Dne="[object Boolean]",kne="[object Date]",Fne="[object Error]",Une="[object Map]",Bne="[object Number]",zne="[object RegExp]",jne="[object Set]",Hne="[object String]",Wne="[object Symbol]",Gne="[object ArrayBuffer]",Vne="[object DataView]",R4=P4?P4.prototype:void 0,G2=R4?R4.valueOf:void 0;function $ne(t,e,n,r,i,a,s){switch(n){case Vne:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Gne:return!(t.byteLength!=e.byteLength||!a(new O4(t),new O4(e)));case Dne:case kne:case Bne:return Pne(+t,+e);case Fne:return t.name==e.name&&t.message==e.message;case zne:case Hne:return t==e+"";case Une:var o=Rne;case jne:var l=r&Ine;if(o||(o=Nne),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Lne,s.set(t,e);var c=One(o(t),o(e),r,i,a,s);return s.delete(t),c;case Wne:if(G2)return G2.call(t)==G2.call(e)}return!1}var Xne=$ne;function Yne(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _z=Yne,qne=_z,Kne=Sa;function Zne(t,e,n){var r=e(t);return Kne(t)?r:qne(r,n(t))}var Jne=Zne;function Qne(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var ere=Qne;function tre(){return[]}var nre=tre,rre=ere,ire=nre,are=Object.prototype,sre=are.propertyIsEnumerable,N4=Object.getOwnPropertySymbols,ore=N4?function(t){return t==null?[]:(t=Object(t),rre(N4(t),function(e){return sre.call(t,e)}))}:ire,lre=ore;function ure(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var cre=ure,fre=Dl,hre=kl,dre="[object Arguments]";function pre(t){return hre(t)&&fre(t)==dre}var mre=pre,I4=mre,gre=kl,wz=Object.prototype,vre=wz.hasOwnProperty,yre=wz.propertyIsEnumerable,xre=I4(function(){return arguments}())?I4:function(t){return gre(t)&&vre.call(t,"callee")&&!yre.call(t,"callee")},aO=xre,h_={exports:{}};function _re(){return!1}var wre=_re;h_.exports;(function(t,e){var n=ko,r=wre,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(h_,h_.exports);var Sz=h_.exports,Sre=9007199254740991,bre=/^(?:0|[1-9]\d*)$/;function Ere(t,e){var n=typeof t;return e=e??Sre,!!e&&(n=="number"||n!="symbol"&&bre.test(t))&&t>-1&&t%1==0&&t<e}var sO=Ere,Tre=9007199254740991;function Are(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Tre}var oO=Are,Mre=Dl,Cre=oO,Pre=kl,Ore="[object Arguments]",Rre="[object Array]",Nre="[object Boolean]",Ire="[object Date]",Lre="[object Error]",Dre="[object Function]",kre="[object Map]",Fre="[object Number]",Ure="[object Object]",Bre="[object RegExp]",zre="[object Set]",jre="[object String]",Hre="[object WeakMap]",Wre="[object ArrayBuffer]",Gre="[object DataView]",Vre="[object Float32Array]",$re="[object Float64Array]",Xre="[object Int8Array]",Yre="[object Int16Array]",qre="[object Int32Array]",Kre="[object Uint8Array]",Zre="[object Uint8ClampedArray]",Jre="[object Uint16Array]",Qre="[object Uint32Array]",Bn={};Bn[Vre]=Bn[$re]=Bn[Xre]=Bn[Yre]=Bn[qre]=Bn[Kre]=Bn[Zre]=Bn[Jre]=Bn[Qre]=!0;Bn[Ore]=Bn[Rre]=Bn[Wre]=Bn[Nre]=Bn[Gre]=Bn[Ire]=Bn[Lre]=Bn[Dre]=Bn[kre]=Bn[Fre]=Bn[Ure]=Bn[Bre]=Bn[zre]=Bn[jre]=Bn[Hre]=!1;function eie(t){return Pre(t)&&Cre(t.length)&&!!Bn[Mre(t)]}var tie=eie;function nie(t){return function(e){return t(e)}}var bz=nie,d_={exports:{}};d_.exports;(function(t,e){var n=R8,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(d_,d_.exports);var rie=d_.exports,iie=tie,aie=bz,L4=rie,D4=L4&&L4.isTypedArray,sie=D4?aie(D4):iie,Ez=sie,oie=cre,lie=aO,uie=Sa,cie=Sz,fie=sO,hie=Ez,die=Object.prototype,pie=die.hasOwnProperty;function mie(t,e){var n=uie(t),r=!n&&lie(t),i=!n&&!r&&cie(t),a=!n&&!r&&!i&&hie(t),s=n||r||i||a,o=s?oie(t.length,String):[],l=o.length;for(var u in t)(e||pie.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fie(u,l)))&&o.push(u);return o}var gie=mie,vie=Object.prototype;function yie(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vie;return t===n}var xie=yie;function _ie(t,e){return function(n){return t(e(n))}}var Tz=_ie,wie=Tz,Sie=wie(Object.keys,Object),bie=Sie,Eie=xie,Tie=bie,Aie=Object.prototype,Mie=Aie.hasOwnProperty;function Cie(t){if(!Eie(t))return Tie(t);var e=[];for(var n in Object(t))Mie.call(t,n)&&n!="constructor"&&e.push(n);return e}var Pie=Cie,Oie=HP,Rie=oO;function Nie(t){return t!=null&&Rie(t.length)&&!Oie(t)}var sv=Nie,Iie=gie,Lie=Pie,Die=sv;function kie(t){return Die(t)?Iie(t):Lie(t)}var aS=kie,Fie=Jne,Uie=lre,Bie=aS;function zie(t){return Fie(t,Bie,Uie)}var jie=zie,k4=jie,Hie=1,Wie=Object.prototype,Gie=Wie.hasOwnProperty;function Vie(t,e,n,r,i,a){var s=n&Hie,o=k4(t),l=o.length,u=k4(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:Gie.call(e,h)))return!1}var d=a.get(t),g=a.get(e);if(d&&g)return d==e&&g==t;var v=!0;a.set(t,e),a.set(e,t);for(var y=s;++f<l;){h=o[f];var x=t[h],w=e[h];if(r)var _=s?r(w,x,h,e,t,a):r(x,w,h,t,e,a);if(!(_===void 0?x===w||i(x,w,n,r,a):_)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var S=t.constructor,b=e.constructor;S!=b&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof b=="function"&&b instanceof b)&&(v=!1)}return a.delete(t),a.delete(e),v}var $ie=Vie,Xie=Rf,Yie=ko,qie=Xie(Yie,"DataView"),Kie=qie,Zie=Rf,Jie=ko,Qie=Zie(Jie,"Promise"),eae=Qie,tae=Rf,nae=ko,rae=tae(nae,"Set"),Az=rae,iae=Rf,aae=ko,sae=iae(aae,"WeakMap"),oae=sae,PA=Kie,OA=GP,RA=eae,NA=Az,IA=oae,Mz=Dl,_p=I8,F4="[object Map]",lae="[object Object]",U4="[object Promise]",B4="[object Set]",z4="[object WeakMap]",j4="[object DataView]",uae=_p(PA),cae=_p(OA),fae=_p(RA),hae=_p(NA),dae=_p(IA),Rc=Mz;(PA&&Rc(new PA(new ArrayBuffer(1)))!=j4||OA&&Rc(new OA)!=F4||RA&&Rc(RA.resolve())!=U4||NA&&Rc(new NA)!=B4||IA&&Rc(new IA)!=z4)&&(Rc=function(t){var e=Mz(t),n=e==lae?t.constructor:void 0,r=n?_p(n):"";if(r)switch(r){case uae:return j4;case cae:return F4;case fae:return U4;case hae:return B4;case dae:return z4}return e});var pae=Rc,V2=mz,mae=xz,gae=Xne,vae=$ie,H4=pae,W4=Sa,G4=Sz,yae=Ez,xae=1,V4="[object Arguments]",$4="[object Array]",Hy="[object Object]",_ae=Object.prototype,X4=_ae.hasOwnProperty;function wae(t,e,n,r,i,a){var s=W4(t),o=W4(e),l=s?$4:H4(t),u=o?$4:H4(e);l=l==V4?Hy:l,u=u==V4?Hy:u;var c=l==Hy,f=u==Hy,h=l==u;if(h&&G4(t)){if(!G4(e))return!1;s=!0,c=!1}if(h&&!c)return a||(a=new V2),s||yae(t)?mae(t,e,n,r,i,a):gae(t,e,l,n,r,i,a);if(!(n&xae)){var d=c&&X4.call(t,"__wrapped__"),g=f&&X4.call(e,"__wrapped__");if(d||g){var v=d?t.value():t,y=g?e.value():e;return a||(a=new V2),i(v,y,n,r,a)}}return h?(a||(a=new V2),vae(t,e,n,r,i,a)):!1}var Sae=wae,bae=Sae,Y4=kl;function Cz(t,e,n,r,i){return t===e?!0:t==null||e==null||!Y4(t)&&!Y4(e)?t!==t&&e!==e:bae(t,e,n,r,Cz,i)}var lO=Cz,Eae=mz,Tae=lO,Aae=1,Mae=2;function Cae(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],u=t[l],c=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Eae;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Tae(c,u,Aae|Mae,r,f):h))return!1}}return!0}var Pae=Cae,Oae=Vu;function Rae(t){return t===t&&!Oae(t)}var Pz=Rae,Nae=Pz,Iae=aS;function Lae(t){for(var e=Iae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Nae(i)]}return e}var Dae=Lae;function kae(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Oz=kae,Fae=Pae,Uae=Dae,Bae=Oz;function zae(t){var e=Uae(t);return e.length==1&&e[0][2]?Bae(e[0][0],e[0][1]):function(n){return n===t||Fae(n,t,e)}}var jae=zae;function Hae(t,e){return t!=null&&e in Object(t)}var Wae=Hae,Gae=U8,Vae=aO,$ae=Sa,Xae=sO,Yae=oO,qae=Gw;function Kae(t,e,n){e=Gae(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=qae(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Yae(i)&&Xae(s,i)&&($ae(t)||Vae(t)))}var Zae=Kae,Jae=Wae,Qae=Zae;function ese(t,e){return t!=null&&Qae(t,e,Jae)}var tse=ese,nse=lO,rse=B8,ise=tse,ase=jP,sse=Pz,ose=Oz,lse=Gw,use=1,cse=2;function fse(t,e){return ase(t)&&sse(e)?ose(lse(t),e):function(n){var r=rse(n,t);return r===void 0&&r===e?ise(n,t):nse(e,r,use|cse)}}var hse=fse;function dse(t){return t}var wp=dse;function pse(t){return function(e){return e==null?void 0:e[t]}}var mse=pse,gse=YP;function vse(t){return function(e){return gse(e,t)}}var yse=vse,xse=mse,_se=yse,wse=jP,Sse=Gw;function bse(t){return wse(t)?xse(Sse(t)):_se(t)}var Ese=bse,Tse=jae,Ase=hse,Mse=wp,Cse=Sa,Pse=Ese;function Ose(t){return typeof t=="function"?t:t==null?Mse:typeof t=="object"?Cse(t)?Ase(t[0],t[1]):Tse(t):Pse(t)}var $u=Ose;function Rse(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Rz=Rse;function Nse(t){return t!==t}var Ise=Nse;function Lse(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Dse=Lse,kse=Rz,Fse=Ise,Use=Dse;function Bse(t,e,n){return e===e?Use(t,e,n):kse(t,Fse,n)}var zse=Bse,jse=zse;function Hse(t,e){var n=t==null?0:t.length;return!!n&&jse(t,e,0)>-1}var Wse=Hse;function Gse(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Vse=Gse;function $se(){}var Xse=$se,$2=Az,Yse=Xse,qse=iO,Kse=1/0,Zse=$2&&1/qse(new $2([,-0]))[1]==Kse?function(t){return new $2(t)}:Yse,Jse=Zse,Qse=gz,eoe=Wse,toe=Vse,noe=yz,roe=Jse,ioe=iO,aoe=200;function soe(t,e,n){var r=-1,i=eoe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=toe;else if(a>=aoe){var u=e?null:roe(t);if(u)return ioe(u);s=!1,i=noe,l=new Qse}else l=e?[]:o;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(c)}else i(l,f,n)||(l!==o&&l.push(f),o.push(c))}return o}var ooe=soe,loe=$u,uoe=ooe;function coe(t,e){return t&&t.length?uoe(t,loe(e)):[]}var foe=coe;const q4=Mn(foe);function Nz(t,e,n){return e===!0?q4(t,n):Kt(e)?q4(t,e):t}function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}var hoe=["ref"];function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){sS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function doe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lz(r.key),r)}}function poe(t,e,n){return e&&Z4(t.prototype,e),n&&Z4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function moe(t,e,n){return e=p_(e),goe(t,Iz()?Reflect.construct(e,n||[],p_(t).constructor):e.apply(t,n))}function goe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return voe(t)}function voe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!t})()}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p_(t)}function yoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LA(t,e)}function sS(t,e,n){return e=Lz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lz(t){var e=xoe(t,"string");return Ld(e)=="symbol"?e:e+""}function xoe(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _oe(t,e){if(t==null)return{};var n=woe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function woe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Soe(t){return t.value}function boe(t,e){if(Te.isValidElement(t))return Te.cloneElement(t,e);if(typeof t=="function")return Te.createElement(t,e);e.ref;var n=_oe(e,hoe);return Te.createElement(rO,n)}var J4=1,Qc=function(t){function e(){var n;doe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=moe(this,e,[].concat(i)),sS(n,"lastBoundingBox",{width:-1,height:-1}),n}return yoe(e,t),poe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>J4||Math.abs(i.height-this.lastBoundingBox.height)>J4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var d=this.getBBoxSnapshot();f={left:((u||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Yo(Yo({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Yo(Yo({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Te.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){r.wrapperNode=d}},boe(a,Yo(Yo({},this.props),{},{payload:Nz(c,u,Soe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Yo(Yo({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&mt(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(fe.PureComponent);sS(Qc,"displayName","Legend");sS(Qc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Q4=rv,Eoe=aO,Toe=Sa,eL=Q4?Q4.isConcatSpreadable:void 0;function Aoe(t){return Toe(t)||Eoe(t)||!!(eL&&t&&t[eL])}var Moe=Aoe,Coe=_z,Poe=Moe;function Dz(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Poe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?Dz(o,e-1,n,r,i):Coe(i,o):r||(i[i.length]=o)}return i}var kz=Dz;function Ooe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var Roe=Ooe,Noe=Roe,Ioe=Noe(),Loe=Ioe,Doe=Loe,koe=aS;function Foe(t,e){return t&&Doe(t,e,koe)}var Fz=Foe,Uoe=sv;function Boe(t,e){return function(n,r){if(n==null)return n;if(!Uoe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var zoe=Boe,joe=Fz,Hoe=zoe,Woe=Hoe(joe),uO=Woe,Goe=uO,Voe=sv;function $oe(t,e){var n=-1,r=Voe(t)?Array(t.length):[];return Goe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var Uz=$oe;function Xoe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Yoe=Xoe,tL=pp;function qoe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=tL(t),s=e!==void 0,o=e===null,l=e===e,u=tL(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Koe=qoe,Zoe=Koe;function Joe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Zoe(i[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Qoe=Joe,X2=XP,ele=YP,tle=$u,nle=Uz,rle=Yoe,ile=bz,ale=Qoe,sle=wp,ole=Sa;function lle(t,e,n){e.length?e=X2(e,function(a){return ole(a)?function(s){return ele(s,a.length===1?a[0]:a)}:a}):e=[sle];var r=-1;e=X2(e,ile(tle));var i=nle(t,function(a,s,o){var l=X2(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return rle(i,function(a,s){return ale(a,s,n)})}var ule=lle;function cle(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var fle=cle,hle=fle,nL=Math.max;function dle(t,e,n){return e=nL(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=nL(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),hle(t,this,o)}}var ple=dle;function mle(t){return function(){return t}}var gle=mle,vle=Rf,yle=function(){try{var t=vle(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Bz=yle,xle=gle,rL=Bz,_le=wp,wle=rL?function(t,e){return rL(t,"toString",{configurable:!0,enumerable:!1,value:xle(e),writable:!0})}:_le,Sle=wle,ble=800,Ele=16,Tle=Date.now;function Ale(t){var e=0,n=0;return function(){var r=Tle(),i=Ele-(r-n);if(n=r,i>0){if(++e>=ble)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Mle=Ale,Cle=Sle,Ple=Mle,Ole=Ple(Cle),Rle=Ole,Nle=wp,Ile=ple,Lle=Rle;function Dle(t,e){return Lle(Ile(t,e,Nle),t+"")}var kle=Dle,Fle=WP,Ule=sv,Ble=sO,zle=Vu;function jle(t,e,n){if(!zle(n))return!1;var r=typeof e;return(r=="number"?Ule(n)&&Ble(e,n.length):r=="string"&&e in n)?Fle(n[e],t):!1}var oS=jle,Hle=kz,Wle=ule,Gle=kle,iL=oS,Vle=Gle(function(t,e){if(t==null)return[];var n=e.length;return n>1&&iL(t,e[0],e[1])?e=[]:n>2&&iL(e[0],e[1],e[2])&&(e=[e[0]]),Wle(t,Hle(e,1),[])}),$le=Vle;const cO=Mn($le);function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DA.apply(this,arguments)}function Xle(t,e){return Zle(t)||Kle(t,e)||qle(t,e)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qle(t,e){if(t){if(typeof t=="string")return aL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aL(t,e)}}function aL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Zle(t){if(Array.isArray(t))return t}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){Jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e,n){return e=Qle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qle(t){var e=eue(t,"string");return Xm(e)=="symbol"?e:e+""}function eue(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tue(t){return Array.isArray(t)&&zr(t[0])&&zr(t[1])?t.join(" ~ "):t}var nue=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,d=e.wrapperClassName,g=e.labelClassName,v=e.label,y=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,_=function(){if(c&&c.length){var L={padding:0,margin:0},B=(h?cO(c,h):c).map(function(G,z){if(G.type==="none")return null;var Z=Y2({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},o),ee=G.formatter||f||tue,U=G.value,H=G.name,X=U,F=H;if(ee&&X!=null&&F!=null){var N=ee(U,H,G,z,c);if(Array.isArray(N)){var V=Xle(N,2);X=V[0],F=V[1]}else X=N}return Te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:Z},zr(F)?Te.createElement("span",{className:"recharts-tooltip-item-name"},F):null,zr(F)?Te.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Te.createElement("span",{className:"recharts-tooltip-item-value"},X),Te.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return Te.createElement("ul",{className:"recharts-tooltip-item-list",style:L},B)}return null},S=Y2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=Y2({margin:0},u),T=!tn(v),A=T?v:"",P=ln("recharts-default-tooltip",d),M=ln("recharts-tooltip-label",g);T&&y&&c!==void 0&&c!==null&&(A=y(v,c));var R=w?{role:"status","aria-live":"assertive"}:{};return Te.createElement("div",DA({className:P,style:S},R),Te.createElement("p",{className:M,style:b},Te.isValidElement(A)?A:"".concat(A)),_())};function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function Wy(t,e,n){return e=rue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return Ym(e)=="symbol"?e:e+""}function iue(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v0="recharts-tooltip-wrapper",aue={visibility:"hidden"};function sue(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ln(v0,Wy(Wy(Wy(Wy({},"".concat(v0,"-right"),mt(n)&&e&&mt(e.x)&&n>=e.x),"".concat(v0,"-left"),mt(n)&&e&&mt(e.x)&&n<e.x),"".concat(v0,"-bottom"),mt(r)&&e&&mt(e.y)&&r>=e.y),"".concat(v0,"-top"),mt(r)&&e&&mt(e.y)&&r<e.y))}function oL(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&mt(a[r]))return a[r];var c=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,d=l[r];return h<d?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+o,v=l[r]+u;return g>v?Math.max(c,l[r]):Math.max(f,l[r])}function oue(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function lue(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=oL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=oL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=oue({translateX:c,translateY:f,useTranslate3d:o})):u=aue,{cssProperties:u,cssClasses:sue({translateX:c,translateY:f,coordinate:n})}}function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){FA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jz(r.key),r)}}function fue(t,e,n){return e&&cue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hue(t,e,n){return e=m_(e),due(t,zz()?Reflect.construct(e,n||[],m_(t).constructor):e.apply(t,n))}function due(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pue(t)}function pue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zz=function(){return!!t})()}function m_(t){return m_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m_(t)}function mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kA(t,e)}function FA(t,e,n){return e=jz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jz(t){var e=gue(t,"string");return Dd(e)=="symbol"?e:e+""}function gue(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cL=1,vue=function(t){function e(){var n;uue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hue(this,e,[].concat(i)),FA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),FA(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return mue(e,t),fue(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>cL||Math.abs(r.height-this.state.lastBoundingBox.height)>cL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,d=i.offset,g=i.position,v=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,_=lue({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:d,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),S=_.cssClasses,b=_.cssProperties,T=uL(uL({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return Te.createElement("div",{tabIndex:-1,className:S,style:T,ref:function(P){r.wrapperNode=P}},u)}}])}(fe.PureComponent),yue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Sp={isSsr:yue()};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){fO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wz(r.key),r)}}function wue(t,e,n){return e&&_ue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sue(t,e,n){return e=g_(e),bue(t,Hz()?Reflect.construct(e,n||[],g_(t).constructor):e.apply(t,n))}function bue(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eue(t)}function Eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!t})()}function g_(t){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g_(t)}function Tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UA(t,e)}function fO(t,e,n){return e=Wz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wz(t){var e=Aue(t,"string");return kd(e)=="symbol"?e:e+""}function Aue(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mue(t){return t.dataKey}function Cue(t,e){return Te.isValidElement(t)?Te.cloneElement(t,e):typeof t=="function"?Te.createElement(t,e):Te.createElement(nue,e)}var js=function(t){function e(){return xue(this,e),Sue(this,e,arguments)}return Tue(e,t),wue(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,d=i.offset,g=i.payload,v=i.payloadUniqBy,y=i.position,x=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,b=g??[];f&&b.length&&(b=Nz(g.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),v,Mue));var T=b.length>0;return Te.createElement(vue,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:T,offset:d,position:y,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:S},Cue(u,hL(hL({},this.props),{},{payload:b})))}}])}(fe.PureComponent);fO(js,"displayName","Tooltip");fO(js,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Sp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Pue=ko,Oue=function(){return Pue.Date.now()},Rue=Oue,Nue=/\s/;function Iue(t){for(var e=t.length;e--&&Nue.test(t.charAt(e)););return e}var Lue=Iue,Due=Lue,kue=/^\s+/;function Fue(t){return t&&t.slice(0,Due(t)+1).replace(kue,"")}var Uue=Fue,Bue=Uue,dL=Vu,zue=pp,pL=NaN,jue=/^[-+]0x[0-9a-f]+$/i,Hue=/^0b[01]+$/i,Wue=/^0o[0-7]+$/i,Gue=parseInt;function Vue(t){if(typeof t=="number")return t;if(zue(t))return pL;if(dL(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dL(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Bue(t);var n=Hue.test(t);return n||Wue.test(t)?Gue(t.slice(2),n?2:8):jue.test(t)?pL:+t}var Gz=Vue,$ue=Vu,q2=Rue,mL=Gz,Xue="Expected a function",Yue=Math.max,que=Math.min;function Kue(t,e,n){var r,i,a,s,o,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Xue);e=mL(e)||0,$ue(n)&&(c=!!n.leading,f="maxWait"in n,a=f?Yue(mL(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function d(T){var A=r,P=i;return r=i=void 0,u=T,s=t.apply(P,A),s}function g(T){return u=T,o=setTimeout(x,e),c?d(T):s}function v(T){var A=T-l,P=T-u,M=e-A;return f?que(M,a-P):M}function y(T){var A=T-l,P=T-u;return l===void 0||A>=e||A<0||f&&P>=a}function x(){var T=q2();if(y(T))return w(T);o=setTimeout(x,v(T))}function w(T){return o=void 0,h&&r?d(T):(r=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function S(){return o===void 0?s:w(q2())}function b(){var T=q2(),A=y(T);if(r=arguments,i=this,l=T,A){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(x,e),d(l)}return o===void 0&&(o=setTimeout(x,e)),s}return b.cancel=_,b.flush=S,b}var Zue=Kue,Jue=Zue,Que=Vu,ece="Expected a function";function tce(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ece);return Que(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Jue(t,e,{leading:r,maxWait:e,trailing:i})}var nce=tce;const Vz=Mn(nce);function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){rce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rce(t,e,n){return e=ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ice(t){var e=ace(t,"string");return qm(e)=="symbol"?e:e+""}function ace(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sce(t,e){return cce(t)||uce(t,e)||lce(t,e)||oce()}function oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return vL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vL(t,e)}}function vL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function cce(t){if(Array.isArray(t))return t}var yL=fe.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,d=t.children,g=t.debounce,v=g===void 0?0:g,y=t.id,x=t.className,w=t.onResize,_=t.style,S=_===void 0?{}:_,b=fe.useRef(null),T=fe.useRef();T.current=w,fe.useImperativeHandle(e,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var A=fe.useState({containerWidth:i.width,containerHeight:i.height}),P=sce(A,2),M=P[0],R=P[1],D=fe.useCallback(function(B,G){R(function(z){var Z=Math.round(B),ee=Math.round(G);return z.containerWidth===Z&&z.containerHeight===ee?z:{containerWidth:Z,containerHeight:ee}})},[]);fe.useEffect(function(){var B=function(H){var X,F=H[0].contentRect,N=F.width,V=F.height;D(N,V),(X=T.current)===null||X===void 0||X.call(T,N,V)};v>0&&(B=Vz(B,v,{trailing:!0,leading:!1}));var G=new ResizeObserver(B),z=b.current.getBoundingClientRect(),Z=z.width,ee=z.height;return D(Z,ee),G.observe(b.current),function(){G.disconnect()}},[D,v]);var L=fe.useMemo(function(){var B=M.containerWidth,G=M.containerHeight;if(B<0||G<0)return null;ml(Hc(s)||Hc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ml(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Hc(s)?B:s,Z=Hc(l)?G:l;n&&n>0&&(z?Z=z/n:Z&&(z=Z*n),h&&Z>h&&(Z=h)),ml(z>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,Z,s,l,c,f,n);var ee=!Array.isArray(d)&&pl(d.type).endsWith("Chart");return Te.Children.map(d,function(U){return Te.isValidElement(U)?fe.cloneElement(U,Gy({width:z,height:Z},ee?{style:Gy({height:"100%",width:"100%",maxHeight:Z,maxWidth:z},U.props.style)}:{})):U})},[n,d,l,h,f,c,M,s]);return Te.createElement("div",{id:y?"".concat(y):void 0,className:ln("recharts-responsive-container",x),style:Gy(Gy({},S),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:b},L)}),$z=function(e){return null};$z.displayName="Cell";function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fce(t,e,n){return e=hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hce(t){var e=dce(t,"string");return Km(e)=="symbol"?e:e+""}function dce(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lh={widthCache:{},cacheCount:0},pce=2e3,mce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_L="recharts_measurement_span";function gce(t){var e=BA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var sm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Sp.isSsr)return{width:0,height:0};var r=gce(n),i=JSON.stringify({text:e,copyStyle:r});if(lh.widthCache[i])return lh.widthCache[i];try{var a=document.getElementById(_L);a||(a=document.createElement("span"),a.setAttribute("id",_L),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=BA(BA({},mce),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return lh.widthCache[i]=l,++lh.cacheCount>pce&&(lh.cacheCount=0,lh.widthCache={}),l}catch{return{width:0,height:0}}},vce=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function v_(t,e){return wce(t)||_ce(t,e)||xce(t,e)||yce()}function yce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xce(t,e){if(t){if(typeof t=="string")return wL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wL(t,e)}}function wL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function wce(t){if(Array.isArray(t))return t}function Sce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ece(r.key),r)}}function bce(t,e,n){return e&&SL(t.prototype,e),n&&SL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ece(t){var e=Tce(t,"string");return Zm(e)=="symbol"?e:e+""}function Tce(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ace=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Xz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cce=Object.keys(Xz),td="NaN";function Pce(t,e){return t*Xz[e]}var Vy=function(){function t(e,n){Sce(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ace.test(n)&&(this.num=NaN,this.unit=""),Cce.includes(n)&&(this.num=Pce(e,n),this.unit="px")}return bce(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Mce.exec(n))!==null&&r!==void 0?r:[],a=v_(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function Yz(t){if(t.includes(td))return td;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=bL.exec(e))!==null&&n!==void 0?n:[],i=v_(r,4),a=i[1],s=i[2],o=i[3],l=Vy.parse(a??""),u=Vy.parse(o??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return td;e=e.replace(bL,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=EL.exec(e))!==null&&f!==void 0?f:[],d=v_(h,4),g=d[1],v=d[2],y=d[3],x=Vy.parse(g??""),w=Vy.parse(y??""),_=v==="+"?x.add(w):x.subtract(w);if(_.isNaN())return td;e=e.replace(EL,_.toString())}return e}var TL=/\(([^()]*)\)/;function Oce(t){for(var e=t;e.includes("(");){var n=TL.exec(e),r=v_(n,2),i=r[1];e=e.replace(TL,Yz(i))}return e}function Rce(t){var e=t.replace(/\s+/g,"");return e=Oce(e),e=Yz(e),e}function Nce(t){try{return Rce(t)}catch{return td}}function K2(t){var e=Nce(t.slice(5,-1));return e===td?"":e}var Ice=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lce=["dx","dy","angle","className","breakAll"];function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zA.apply(this,arguments)}function AL(t,e){if(t==null)return{};var n=Dce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ML(t,e){return Bce(t)||Uce(t,e)||Fce(t,e)||kce()}function kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fce(t,e){if(t){if(typeof t=="string")return CL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CL(t,e)}}function CL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Bce(t){if(Array.isArray(t))return t}var qz=/[ \f\n\r\t\v\u2028\u2029]+/,Kz=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];tn(n)||(r?a=n.toString().split(""):a=n.toString().split(qz));var s=a.map(function(l){return{word:l,width:sm(l,i).width}}),o=r?0:sm("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},zce=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,c=mt(s),f=o,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(Z,ee){var U=ee.word,H=ee.width,X=Z[Z.length-1];if(X&&(i==null||a||X.width+H+r<Number(i)))X.words.push(U),X.width+=H+r;else{var F={words:[U],width:H};Z.push(F)}return Z},[])},d=h(n),g=function(z){return z.reduce(function(Z,ee){return Z.width>ee.width?Z:ee})};if(!c)return d;for(var v="",y=function(z){var Z=f.slice(0,z),ee=Kz({breakAll:u,style:l,children:Z+v}).wordsWithComputedWidth,U=h(ee),H=U.length>s||g(U).width>Number(i);return[H,U]},x=0,w=f.length-1,_=0,S;x<=w&&_<=f.length-1;){var b=Math.floor((x+w)/2),T=b-1,A=y(T),P=ML(A,2),M=P[0],R=P[1],D=y(b),L=ML(D,1),B=L[0];if(!M&&!B&&(x=b+1),M&&B&&(w=b-1),!M&&B){S=R;break}_++}return S||d},PL=function(e){var n=tn(e)?[]:e.toString().split(qz);return[{words:n}]},jce=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Sp.isSsr){var l,u,c=Kz({breakAll:s,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return PL(i);return zce({breakAll:s,children:i,maxLines:o,style:a},l,u,n,r)}return PL(i)},OL="#808080",y_=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,d=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,y=e.fill,x=y===void 0?OL:y,w=AL(e,Ice),_=fe.useMemo(function(){return jce({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),S=w.dx,b=w.dy,T=w.angle,A=w.className,P=w.breakAll,M=AL(w,Lce);if(!zr(r)||!zr(a))return null;var R=r+(mt(S)?S:0),D=a+(mt(b)?b:0),L;switch(v){case"start":L=K2("calc(".concat(u,")"));break;case"middle":L=K2("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:L=K2("calc(".concat(_.length-1," * -").concat(o,")"));break}var B=[];if(f){var G=_[0].width,z=w.width;B.push("scale(".concat((mt(z)?z/G:1)/G,")"))}return T&&B.push("rotate(".concat(T,", ").concat(R,", ").concat(D,")")),B.length&&(M.transform=B.join(" ")),Te.createElement("text",zA({},an(M,!0),{x:R,y:D,className:ln("recharts-text",A),textAnchor:d,fill:x.includes("url")?OL:x}),_.map(function(Z,ee){var U=Z.words.join(P?"":" ");return Te.createElement("tspan",{x:R,dy:ee===0?L:o,key:"".concat(U,"-").concat(ee)},U)}))};function Tu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hce(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hO(t){let e,n,r;t.length!==2?(e=Tu,n=(o,l)=>Tu(t(o),l),r=(o,l)=>t(o)-l):(e=t===Tu||t===Hce?t:Wce,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Wce(){return 0}function Zz(t){return t===null?NaN:+t}function*Gce(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Vce=hO(Tu),ov=Vce.right;hO(Zz).center;class RL extends Map{constructor(e,n=Yce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(NL(this,e))}has(e){return super.has(NL(this,e))}set(e,n){return super.set($ce(this,e),n)}delete(e){return super.delete(Xce(this,e))}}function NL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function $ce({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xce({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Yce(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qce(t=Tu){if(t===Tu)return Jz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Jz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Kce=Math.sqrt(50),Zce=Math.sqrt(10),Jce=Math.sqrt(2);function x_(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Kce?10:a>=Zce?5:a>=Jce?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?x_(t,e,n*2):[o,l,u]}function jA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?x_(e,t,n):x_(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function HA(t,e,n){return e=+e,t=+t,n=+n,x_(t,e,n)[2]}function WA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?HA(e,t,n):HA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function IL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function LL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Qz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Jz:qce(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));Qz(t,e,d,g,i)}const a=t[e];let s=n,o=r;for(y0(t,n,e),i(t[r],a)>0&&y0(t,n,r);s<o;){for(y0(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?y0(t,n,o):(++o,y0(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function y0(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Qce(t,e,n){if(t=Float64Array.from(Gce(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return LL(t);if(e>=1)return IL(t);var r,i=(r-1)*e,a=Math.floor(i),s=IL(Qz(t,a).subarray(0,a+1)),o=LL(t.subarray(a+1));return s+(o-s)*(i-a)}}function efe(t,e,n=Zz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function tfe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Es(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const GA=Symbol("implicit");function dO(){var t=new RL,e=[],n=[],r=GA;function i(a){let s=t.get(a);if(s===void 0){if(r!==GA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new RL;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dO(e,n).unknown(r)},Es.apply(i,arguments),i}function Jm(){var t=dO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,d=i<r,g=d?i:r,v=d?r:i;a=(v-g)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),g+=(v-g-a*(h-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=tfe(h).map(function(x){return g+a*x});return n(d?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Jm(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Es.apply(f(),arguments)}function ej(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ej(e())},t}function om(){return ej(Jm.apply(null,arguments).paddingInner(1))}function pO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lv(){}var Qm=.7,__=1/Qm,vd="\\s*([+-]?\\d+)\\s*",eg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nfe=/^#([0-9a-f]{3,8})$/,rfe=new RegExp(`^rgb\\(${vd},${vd},${vd}\\)$`),ife=new RegExp(`^rgb\\(${Co},${Co},${Co}\\)$`),afe=new RegExp(`^rgba\\(${vd},${vd},${vd},${eg}\\)$`),sfe=new RegExp(`^rgba\\(${Co},${Co},${Co},${eg}\\)$`),ofe=new RegExp(`^hsl\\(${eg},${Co},${Co}\\)$`),lfe=new RegExp(`^hsla\\(${eg},${Co},${Co},${eg}\\)$`),DL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pO(lv,tg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kL,formatHex:kL,formatHex8:ufe,formatHsl:cfe,formatRgb:FL,toString:FL});function kL(){return this.rgb().formatHex()}function ufe(){return this.rgb().formatHex8()}function cfe(){return nj(this).formatHsl()}function FL(){return this.rgb().formatRgb()}function tg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?UL(e):n===3?new da(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$y(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$y(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rfe.exec(t))?new da(e[1],e[2],e[3],1):(e=ife.exec(t))?new da(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=afe.exec(t))?$y(e[1],e[2],e[3],e[4]):(e=sfe.exec(t))?$y(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ofe.exec(t))?jL(e[1],e[2]/100,e[3]/100,1):(e=lfe.exec(t))?jL(e[1],e[2]/100,e[3]/100,e[4]):DL.hasOwnProperty(t)?UL(DL[t]):t==="transparent"?new da(NaN,NaN,NaN,0):null}function UL(t){return new da(t>>16&255,t>>8&255,t&255,1)}function $y(t,e,n,r){return r<=0&&(t=e=n=NaN),new da(t,e,n,r)}function ffe(t){return t instanceof lv||(t=tg(t)),t?(t=t.rgb(),new da(t.r,t.g,t.b,t.opacity)):new da}function VA(t,e,n,r){return arguments.length===1?ffe(t):new da(t,e,n,r??1)}function da(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pO(da,VA,tj(lv,{brighter(t){return t=t==null?__:Math.pow(__,t),new da(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qm:Math.pow(Qm,t),new da(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new da(ef(this.r),ef(this.g),ef(this.b),w_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BL,formatHex:BL,formatHex8:hfe,formatRgb:zL,toString:zL}));function BL(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}`}function hfe(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}${Wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function zL(){const t=w_(this.opacity);return`${t===1?"rgb(":"rgba("}${ef(this.r)}, ${ef(this.g)}, ${ef(this.b)}${t===1?")":`, ${t})`}`}function w_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ef(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wc(t){return t=ef(t),(t<16?"0":"")+t.toString(16)}function jL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xs(t,e,n,r)}function nj(t){if(t instanceof Xs)return new Xs(t.h,t.s,t.l,t.opacity);if(t instanceof lv||(t=tg(t)),!t)return new Xs;if(t instanceof Xs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Xs(s,o,l,t.opacity)}function dfe(t,e,n,r){return arguments.length===1?nj(t):new Xs(t,e,n,r??1)}function Xs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pO(Xs,dfe,tj(lv,{brighter(t){return t=t==null?__:Math.pow(__,t),new Xs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qm:Math.pow(Qm,t),new Xs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new da(Z2(t>=240?t-240:t+120,i,r),Z2(t,i,r),Z2(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xs(HL(this.h),Xy(this.s),Xy(this.l),w_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=w_(this.opacity);return`${t===1?"hsl(":"hsla("}${HL(this.h)}, ${Xy(this.s)*100}%, ${Xy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function HL(t){return t=(t||0)%360,t<0?t+360:t}function Xy(t){return Math.max(0,Math.min(1,t||0))}function Z2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mO=t=>()=>t;function pfe(t,e){return function(n){return t+n*e}}function mfe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gfe(t){return(t=+t)==1?rj:function(e,n){return n-e?mfe(e,n,t):mO(isNaN(e)?n:e)}}function rj(t,e){var n=e-t;return n?pfe(t,n):mO(isNaN(t)?e:t)}const WL=function t(e){var n=gfe(e);function r(i,a){var s=n((i=VA(i)).r,(a=VA(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=rj(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function vfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function yfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=bp(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function _fe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function S_(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bp(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var $A=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J2=new RegExp($A.source,"g");function Sfe(t){return function(){return t}}function bfe(t){return function(e){return t(e)+""}}function Efe(t,e){var n=$A.lastIndex=J2.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=$A.exec(t))&&(i=J2.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:S_(r,i)})),n=J2.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?bfe(l[0].x):Sfe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function bp(t,e){var n=typeof e,r;return e==null||n==="boolean"?mO(e):(n==="number"?S_:n==="string"?(r=tg(e))?(e=r,WL):Efe:e instanceof tg?WL:e instanceof Date?_fe:yfe(e)?vfe:Array.isArray(e)?xfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wfe:S_)(t,e)}function gO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Tfe(t,e){e===void 0&&(e=t,t=bp);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Afe(t){return function(){return t}}function b_(t){return+t}var GL=[0,1];function qi(t){return t}function XA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Afe(isNaN(e)?NaN:.5)}function Mfe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cfe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=XA(i,r),a=n(s,a)):(r=XA(r,i),a=n(a,s)),function(o){return a(r(o))}}function Pfe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=XA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=ov(t,o,1,r)-1;return a[l](i[l](o))}}function uv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lS(){var t=GL,e=GL,n=bp,r,i,a,s=qi,o,l,u;function c(){var h=Math.min(t.length,e.length);return s!==qi&&(s=Mfe(t[0],t[h-1])),o=h>2?Pfe:Cfe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(e,t.map(r),S_)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,b_),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=gO,c()},f.clamp=function(h){return arguments.length?(s=h?!0:qi,c()):s!==qi},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,c()}}function vO(){return lS()(qi,qi)}function Ofe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function E_(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fd(t){return t=E_(Math.abs(t)),t?t[1]:NaN}function Rfe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Nfe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ife=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ng(t){if(!(e=Ife.exec(t)))throw new Error("invalid format: "+t);var e;return new yO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ng.prototype=yO.prototype;function yO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lfe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ij;function Dfe(t,e){var n=E_(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ij=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+E_(t,Math.max(0,e+a-1))[0]}function VL(t,e){var n=E_(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $L={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ofe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>VL(t*100,e),r:VL,s:Dfe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XL(t){return t}var YL=Array.prototype.map,qL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kfe(t){var e=t.grouping===void 0||t.thousands===void 0?XL:Rfe(YL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?XL:Nfe(YL.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ng(f);var h=f.fill,d=f.align,g=f.sign,v=f.symbol,y=f.zero,x=f.width,w=f.comma,_=f.precision,S=f.trim,b=f.type;b==="n"?(w=!0,b="g"):$L[b]||(_===void 0&&(_=12),S=!0,b="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var T=v==="$"?n:v==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",A=v==="$"?r:/[%p]/.test(b)?s:"",P=$L[b],M=/[defgprs%]/.test(b);_=_===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(D){var L=T,B=A,G,z,Z;if(b==="c")B=P(D)+B,D="";else{D=+D;var ee=D<0||1/D<0;if(D=isNaN(D)?l:P(Math.abs(D),_),S&&(D=Lfe(D)),ee&&+D==0&&g!=="+"&&(ee=!1),L=(ee?g==="("?g:o:g==="-"||g==="("?"":g)+L,B=(b==="s"?qL[8+ij/3]:"")+B+(ee&&g==="("?")":""),M){for(G=-1,z=D.length;++G<z;)if(Z=D.charCodeAt(G),48>Z||Z>57){B=(Z===46?i+D.slice(G+1):D.slice(G))+B,D=D.slice(0,G);break}}}w&&!y&&(D=e(D,1/0));var U=L.length+D.length+B.length,H=U<x?new Array(x-U+1).join(h):"";switch(w&&y&&(D=e(H+D,H.length?x-B.length:1/0),H=""),d){case"<":D=L+D+B+H;break;case"=":D=L+H+D+B;break;case"^":D=H.slice(0,U=H.length>>1)+L+D+B+H.slice(U);break;default:D=H+L+D+B;break}return a(D)}return R.toString=function(){return f+""},R}function c(f,h){var d=u((f=ng(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Fd(h)/3)))*3,v=Math.pow(10,-g),y=qL[8+g/3];return function(x){return d(v*x)+y}}return{format:u,formatPrefix:c}}var Yy,xO,aj;Ffe({thousands:",",grouping:[3],currency:["$",""]});function Ffe(t){return Yy=kfe(t),xO=Yy.format,aj=Yy.formatPrefix,Yy}function Ufe(t){return Math.max(0,-Fd(Math.abs(t)))}function Bfe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fd(e)/3)))*3-Fd(Math.abs(t)))}function zfe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fd(e)-Fd(t))+1}function sj(t,e,n,r){var i=WA(t,e,n),a;switch(r=ng(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Bfe(i,s))&&(r.precision=a),aj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zfe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ufe(i))&&(r.precision=a-(r.type==="%")*2);break}}return xO(r)}function Xu(t){var e=t.domain;return t.ticks=function(n){var r=e();return jA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=HA(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function T_(){var t=vO();return t.copy=function(){return uv(t,T_())},Es.apply(t,arguments),Xu(t)}function oj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,b_),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return oj(t).unknown(e)},t=arguments.length?Array.from(t,b_):[0,1],Xu(n)}function lj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function KL(t){return Math.log(t)}function ZL(t){return Math.exp(t)}function jfe(t){return-Math.log(-t)}function Hfe(t){return-Math.exp(-t)}function Wfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gfe(t){return t===10?Wfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Vfe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JL(t){return(e,n)=>-t(-e,n)}function _O(t){const e=t(KL,ZL),n=e.domain;let r=10,i,a;function s(){return i=Vfe(r),a=Gfe(r),n()[0]<0?(i=JL(i),a=JL(a),t(jfe,Hfe)):t(KL,ZL),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),d=i(c),g,v;const y=o==null?10:+o;let x=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(g=1;g<r;++g)if(v=h<0?g/a(-h):g*a(h),!(v<u)){if(v>c)break;x.push(v)}}else for(;h<=d;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/a(-h):g*a(h),!(v<u)){if(v>c)break;x.push(v)}x.length*2<y&&(x=jA(u,c,y))}else x=jA(h,d,Math.min(d-h,y)).map(a);return f?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ng(l)).precision==null&&(l.trim=!0),l=xO(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(lj(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function uj(){const t=_O(lS()).domain([1,10]);return t.copy=()=>uv(t,uj()).base(t.base()),Es.apply(t,arguments),t}function QL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wO(t){var e=1,n=t(QL(e),eD(e));return n.constant=function(r){return arguments.length?t(QL(e=+r),eD(e)):e},Xu(n)}function cj(){var t=wO(lS());return t.copy=function(){return uv(t,cj()).constant(t.constant())},Es.apply(t,arguments)}function tD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $fe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xfe(t){return t<0?-t*t:t*t}function SO(t){var e=t(qi,qi),n=1;function r(){return n===1?t(qi,qi):n===.5?t($fe,Xfe):t(tD(n),tD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Xu(e)}function bO(){var t=SO(lS());return t.copy=function(){return uv(t,bO()).exponent(t.exponent())},Es.apply(t,arguments),t}function Yfe(){return bO.apply(null,arguments).exponent(.5)}function nD(t){return Math.sign(t)*t*t}function qfe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fj(){var t=vO(),e=[0,1],n=!1,r;function i(a){var s=qfe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(nD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,b_)).map(nD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Es.apply(i,arguments),Xu(i)}function hj(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=efe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[ov(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Tu),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return hj().domain(t).range(e).unknown(r)},Es.apply(a,arguments)}function dj(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[ov(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return dj().domain([t,e]).range(i).unknown(a)},Es.apply(Xu(s),arguments)}function pj(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[ov(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pj().domain(t).range(e).unknown(n)},Es.apply(i,arguments)}const Q2=new Date,eE=new Date;function Wr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Wr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Q2.setTime(+a),eE.setTime(+s),t(Q2),t(eE),Math.floor(n(Q2,eE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const A_=Wr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);A_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):A_);A_.range;const ul=1e3,gs=ul*60,cl=gs*60,Tl=cl*24,EO=Tl*7,rD=Tl*30,tE=Tl*365,Gc=Wr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ul)},(t,e)=>(e-t)/ul,t=>t.getUTCSeconds());Gc.range;const TO=Wr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ul)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getMinutes());TO.range;const AO=Wr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCMinutes());AO.range;const MO=Wr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ul-t.getMinutes()*gs)},(t,e)=>{t.setTime(+t+e*cl)},(t,e)=>(e-t)/cl,t=>t.getHours());MO.range;const CO=Wr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*cl)},(t,e)=>(e-t)/cl,t=>t.getUTCHours());CO.range;const cv=Wr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gs)/Tl,t=>t.getDate()-1);cv.range;const uS=Wr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tl,t=>t.getUTCDate()-1);uS.range;const mj=Wr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tl,t=>Math.floor(t/Tl));mj.range;function Nf(t){return Wr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*gs)/EO)}const cS=Nf(0),M_=Nf(1),Kfe=Nf(2),Zfe=Nf(3),Ud=Nf(4),Jfe=Nf(5),Qfe=Nf(6);cS.range;M_.range;Kfe.range;Zfe.range;Ud.range;Jfe.range;Qfe.range;function If(t){return Wr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/EO)}const fS=If(0),C_=If(1),ehe=If(2),the=If(3),Bd=If(4),nhe=If(5),rhe=If(6);fS.range;C_.range;ehe.range;the.range;Bd.range;nhe.range;rhe.range;const PO=Wr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());PO.range;const OO=Wr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());OO.range;const Al=Wr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Al.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Al.range;const Ml=Wr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ml.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ml.range;function gj(t,e,n,r,i,a){const s=[[Gc,1,ul],[Gc,5,5*ul],[Gc,15,15*ul],[Gc,30,30*ul],[a,1,gs],[a,5,5*gs],[a,15,15*gs],[a,30,30*gs],[i,1,cl],[i,3,3*cl],[i,6,6*cl],[i,12,12*cl],[r,1,Tl],[r,2,2*Tl],[n,1,EO],[e,1,rD],[e,3,3*rD],[t,1,tE]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const d=f&&typeof f.range=="function"?f:l(u,c,f),g=d?d.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,d=hO(([,,y])=>y).right(s,h);if(d===s.length)return t.every(WA(u/tE,c/tE,f));if(d===0)return A_.every(Math.max(WA(u,c,f),1));const[g,v]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(v)}return[o,l]}const[ihe,ahe]=gj(Ml,OO,fS,mj,CO,AO),[she,ohe]=gj(Al,PO,cS,cv,MO,TO);function nE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function x0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lhe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=_0(i),c=w0(i),f=_0(a),h=w0(a),d=_0(s),g=w0(s),v=_0(o),y=w0(o),x=_0(l),w=w0(l),_={a:ee,A:U,b:H,B:X,c:null,d:uD,e:uD,f:Rhe,g:jhe,G:Whe,H:Che,I:Phe,j:Ohe,L:vj,m:Nhe,M:Ihe,p:F,q:N,Q:hD,s:dD,S:Lhe,u:Dhe,U:khe,V:Fhe,w:Uhe,W:Bhe,x:null,X:null,y:zhe,Y:Hhe,Z:Ghe,"%":fD},S={a:V,A:Y,b:q,B:ae,c:null,d:cD,e:cD,f:Yhe,g:ide,G:sde,H:Vhe,I:$he,j:Xhe,L:xj,m:qhe,M:Khe,p:pe,q:ye,Q:hD,s:dD,S:Zhe,u:Jhe,U:Qhe,V:ede,w:tde,W:nde,x:null,X:null,y:rde,Y:ade,Z:ode,"%":fD},b={a:R,A:D,b:L,B,c:G,d:oD,e:oD,f:Ehe,g:sD,G:aD,H:lD,I:lD,j:_he,L:bhe,m:xhe,M:whe,p:M,q:yhe,Q:Ahe,s:Mhe,S:She,u:dhe,U:phe,V:mhe,w:hhe,W:ghe,x:z,X:Z,y:sD,Y:aD,Z:vhe,"%":The};_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),S.x=T(n,S),S.X=T(r,S),S.c=T(e,S);function T(ge,Se){return function(we){var W=[],Pe=-1,ve=0,Ie=ge.length,be,Ae,Ne;for(we instanceof Date||(we=new Date(+we));++Pe<Ie;)ge.charCodeAt(Pe)===37&&(W.push(ge.slice(ve,Pe)),(Ae=iD[be=ge.charAt(++Pe)])!=null?be=ge.charAt(++Pe):Ae=be==="e"?" ":"0",(Ne=Se[be])&&(be=Ne(we,Ae)),W.push(be),ve=Pe+1);return W.push(ge.slice(ve,Pe)),W.join("")}}function A(ge,Se){return function(we){var W=x0(1900,void 0,1),Pe=P(W,ge,we+="",0),ve,Ie;if(Pe!=we.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(Se&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ve=rE(x0(W.y,0,1)),Ie=ve.getUTCDay(),ve=Ie>4||Ie===0?C_.ceil(ve):C_(ve),ve=uS.offset(ve,(W.V-1)*7),W.y=ve.getUTCFullYear(),W.m=ve.getUTCMonth(),W.d=ve.getUTCDate()+(W.w+6)%7):(ve=nE(x0(W.y,0,1)),Ie=ve.getDay(),ve=Ie>4||Ie===0?M_.ceil(ve):M_(ve),ve=cv.offset(ve,(W.V-1)*7),W.y=ve.getFullYear(),W.m=ve.getMonth(),W.d=ve.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ie="Z"in W?rE(x0(W.y,0,1)).getUTCDay():nE(x0(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ie+5)%7:W.w+W.U*7-(Ie+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,rE(W)):nE(W)}}function P(ge,Se,we,W){for(var Pe=0,ve=Se.length,Ie=we.length,be,Ae;Pe<ve;){if(W>=Ie)return-1;if(be=Se.charCodeAt(Pe++),be===37){if(be=Se.charAt(Pe++),Ae=b[be in iD?Se.charAt(Pe++):be],!Ae||(W=Ae(ge,we,W))<0)return-1}else if(be!=we.charCodeAt(W++))return-1}return W}function M(ge,Se,we){var W=u.exec(Se.slice(we));return W?(ge.p=c.get(W[0].toLowerCase()),we+W[0].length):-1}function R(ge,Se,we){var W=d.exec(Se.slice(we));return W?(ge.w=g.get(W[0].toLowerCase()),we+W[0].length):-1}function D(ge,Se,we){var W=f.exec(Se.slice(we));return W?(ge.w=h.get(W[0].toLowerCase()),we+W[0].length):-1}function L(ge,Se,we){var W=x.exec(Se.slice(we));return W?(ge.m=w.get(W[0].toLowerCase()),we+W[0].length):-1}function B(ge,Se,we){var W=v.exec(Se.slice(we));return W?(ge.m=y.get(W[0].toLowerCase()),we+W[0].length):-1}function G(ge,Se,we){return P(ge,e,Se,we)}function z(ge,Se,we){return P(ge,n,Se,we)}function Z(ge,Se,we){return P(ge,r,Se,we)}function ee(ge){return s[ge.getDay()]}function U(ge){return a[ge.getDay()]}function H(ge){return l[ge.getMonth()]}function X(ge){return o[ge.getMonth()]}function F(ge){return i[+(ge.getHours()>=12)]}function N(ge){return 1+~~(ge.getMonth()/3)}function V(ge){return s[ge.getUTCDay()]}function Y(ge){return a[ge.getUTCDay()]}function q(ge){return l[ge.getUTCMonth()]}function ae(ge){return o[ge.getUTCMonth()]}function pe(ge){return i[+(ge.getUTCHours()>=12)]}function ye(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Se=T(ge+="",_);return Se.toString=function(){return ge},Se},parse:function(ge){var Se=A(ge+="",!1);return Se.toString=function(){return ge},Se},utcFormat:function(ge){var Se=T(ge+="",S);return Se.toString=function(){return ge},Se},utcParse:function(ge){var Se=A(ge+="",!0);return Se.toString=function(){return ge},Se}}}var iD={"-":"",_:" ",0:"0"},ti=/^\s*\d+/,uhe=/^%/,che=/[\\^$*+?|[\]().{}]/g;function dn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function fhe(t){return t.replace(che,"\\$&")}function _0(t){return new RegExp("^(?:"+t.map(fhe).join("|")+")","i")}function w0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hhe(t,e,n){var r=ti.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dhe(t,e,n){var r=ti.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function phe(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function mhe(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ghe(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function aD(t,e,n){var r=ti.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sD(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vhe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yhe(t,e,n){var r=ti.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function xhe(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function oD(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _he(t,e,n){var r=ti.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function lD(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function whe(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function She(t,e,n){var r=ti.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bhe(t,e,n){var r=ti.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ehe(t,e,n){var r=ti.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function The(t,e,n){var r=uhe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ahe(t,e,n){var r=ti.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Mhe(t,e,n){var r=ti.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function uD(t,e){return dn(t.getDate(),e,2)}function Che(t,e){return dn(t.getHours(),e,2)}function Phe(t,e){return dn(t.getHours()%12||12,e,2)}function Ohe(t,e){return dn(1+cv.count(Al(t),t),e,3)}function vj(t,e){return dn(t.getMilliseconds(),e,3)}function Rhe(t,e){return vj(t,e)+"000"}function Nhe(t,e){return dn(t.getMonth()+1,e,2)}function Ihe(t,e){return dn(t.getMinutes(),e,2)}function Lhe(t,e){return dn(t.getSeconds(),e,2)}function Dhe(t){var e=t.getDay();return e===0?7:e}function khe(t,e){return dn(cS.count(Al(t)-1,t),e,2)}function yj(t){var e=t.getDay();return e>=4||e===0?Ud(t):Ud.ceil(t)}function Fhe(t,e){return t=yj(t),dn(Ud.count(Al(t),t)+(Al(t).getDay()===4),e,2)}function Uhe(t){return t.getDay()}function Bhe(t,e){return dn(M_.count(Al(t)-1,t),e,2)}function zhe(t,e){return dn(t.getFullYear()%100,e,2)}function jhe(t,e){return t=yj(t),dn(t.getFullYear()%100,e,2)}function Hhe(t,e){return dn(t.getFullYear()%1e4,e,4)}function Whe(t,e){var n=t.getDay();return t=n>=4||n===0?Ud(t):Ud.ceil(t),dn(t.getFullYear()%1e4,e,4)}function Ghe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dn(e/60|0,"0",2)+dn(e%60,"0",2)}function cD(t,e){return dn(t.getUTCDate(),e,2)}function Vhe(t,e){return dn(t.getUTCHours(),e,2)}function $he(t,e){return dn(t.getUTCHours()%12||12,e,2)}function Xhe(t,e){return dn(1+uS.count(Ml(t),t),e,3)}function xj(t,e){return dn(t.getUTCMilliseconds(),e,3)}function Yhe(t,e){return xj(t,e)+"000"}function qhe(t,e){return dn(t.getUTCMonth()+1,e,2)}function Khe(t,e){return dn(t.getUTCMinutes(),e,2)}function Zhe(t,e){return dn(t.getUTCSeconds(),e,2)}function Jhe(t){var e=t.getUTCDay();return e===0?7:e}function Qhe(t,e){return dn(fS.count(Ml(t)-1,t),e,2)}function _j(t){var e=t.getUTCDay();return e>=4||e===0?Bd(t):Bd.ceil(t)}function ede(t,e){return t=_j(t),dn(Bd.count(Ml(t),t)+(Ml(t).getUTCDay()===4),e,2)}function tde(t){return t.getUTCDay()}function nde(t,e){return dn(C_.count(Ml(t)-1,t),e,2)}function rde(t,e){return dn(t.getUTCFullYear()%100,e,2)}function ide(t,e){return t=_j(t),dn(t.getUTCFullYear()%100,e,2)}function ade(t,e){return dn(t.getUTCFullYear()%1e4,e,4)}function sde(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bd(t):Bd.ceil(t),dn(t.getUTCFullYear()%1e4,e,4)}function ode(){return"+0000"}function fD(){return"%"}function hD(t){return+t}function dD(t){return Math.floor(+t/1e3)}var uh,wj,Sj;lde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lde(t){return uh=lhe(t),wj=uh.format,uh.parse,Sj=uh.utcFormat,uh.utcParse,uh}function ude(t){return new Date(t)}function cde(t){return t instanceof Date?+t:+new Date(+t)}function RO(t,e,n,r,i,a,s,o,l,u){var c=vO(),f=c.invert,h=c.domain,d=u(".%L"),g=u(":%S"),v=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),w=u("%b %d"),_=u("%B"),S=u("%Y");function b(T){return(l(T)<T?d:o(T)<T?g:s(T)<T?v:a(T)<T?y:r(T)<T?i(T)<T?x:w:n(T)<T?_:S)(T)}return c.invert=function(T){return new Date(f(T))},c.domain=function(T){return arguments.length?h(Array.from(T,cde)):h().map(ude)},c.ticks=function(T){var A=h();return t(A[0],A[A.length-1],T??10)},c.tickFormat=function(T,A){return A==null?b:u(A)},c.nice=function(T){var A=h();return(!T||typeof T.range!="function")&&(T=e(A[0],A[A.length-1],T??10)),T?h(lj(A,T)):c},c.copy=function(){return uv(c,RO(t,e,n,r,i,a,s,o,l,u))},c}function fde(){return Es.apply(RO(she,ohe,Al,PO,cS,cv,MO,TO,Gc,wj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hde(){return Es.apply(RO(ihe,ahe,Ml,OO,fS,uS,CO,AO,Gc,Sj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hS(){var t=0,e=1,n,r,i,a,s=qi,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var d,g;return arguments.length?([d,g]=h,s=f(d,g),u):[s(0),s(1)]}}return u.range=c(bp),u.rangeRound=c(gO),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Yu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bj(){var t=Xu(hS()(qi));return t.copy=function(){return Yu(t,bj())},Fl.apply(t,arguments)}function Ej(){var t=_O(hS()).domain([1,10]);return t.copy=function(){return Yu(t,Ej()).base(t.base())},Fl.apply(t,arguments)}function Tj(){var t=wO(hS());return t.copy=function(){return Yu(t,Tj()).constant(t.constant())},Fl.apply(t,arguments)}function NO(){var t=SO(hS());return t.copy=function(){return Yu(t,NO()).exponent(t.exponent())},Fl.apply(t,arguments)}function dde(){return NO.apply(null,arguments).exponent(.5)}function Aj(){var t=[],e=qi;function n(r){if(r!=null&&!isNaN(r=+r))return e((ov(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Tu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Qce(t,a/r))},n.copy=function(){return Aj(e).domain(t)},Fl.apply(n,arguments)}function dS(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=qi,c,f=!1,h;function d(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-a)*(r*v<r*a?o:l),u(f?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),a=c(e=+e),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d):[t,e,n]},d.clamp=function(v){return arguments.length?(f=!!v,d):f},d.interpolator=function(v){return arguments.length?(u=v,d):u};function g(v){return function(y){var x,w,_;return arguments.length?([x,w,_]=y,u=Tfe(v,[x,w,_]),d):[u(0),u(.5),u(1)]}}return d.range=g(bp),d.rangeRound=g(gO),d.unknown=function(v){return arguments.length?(h=v,d):h},function(v){return c=v,i=v(t),a=v(e),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d}}function Mj(){var t=Xu(dS()(qi));return t.copy=function(){return Yu(t,Mj())},Fl.apply(t,arguments)}function Cj(){var t=_O(dS()).domain([.1,1,10]);return t.copy=function(){return Yu(t,Cj()).base(t.base())},Fl.apply(t,arguments)}function Pj(){var t=wO(dS());return t.copy=function(){return Yu(t,Pj()).constant(t.constant())},Fl.apply(t,arguments)}function IO(){var t=SO(dS());return t.copy=function(){return Yu(t,IO()).exponent(t.exponent())},Fl.apply(t,arguments)}function pde(){return IO.apply(null,arguments).exponent(.5)}const pD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jm,scaleDiverging:Mj,scaleDivergingLog:Cj,scaleDivergingPow:IO,scaleDivergingSqrt:pde,scaleDivergingSymlog:Pj,scaleIdentity:oj,scaleImplicit:GA,scaleLinear:T_,scaleLog:uj,scaleOrdinal:dO,scalePoint:om,scalePow:bO,scaleQuantile:hj,scaleQuantize:dj,scaleRadial:fj,scaleSequential:bj,scaleSequentialLog:Ej,scaleSequentialPow:NO,scaleSequentialQuantile:Aj,scaleSequentialSqrt:dde,scaleSequentialSymlog:Tj,scaleSqrt:Yfe,scaleSymlog:cj,scaleThreshold:pj,scaleTime:fde,scaleUtc:hde,tickFormat:sj},Symbol.toStringTag,{value:"Module"}));var mde=pp;function gde(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!mde(s):n(s,o)))var o=s,l=a}return l}var Oj=gde;function vde(t,e){return t>e}var yde=vde,xde=Oj,_de=yde,wde=wp;function Sde(t){return t&&t.length?xde(t,wde,_de):void 0}var bde=Sde;const pS=Mn(bde);function Ede(t,e){return t<e}var Tde=Ede,Ade=Oj,Mde=Tde,Cde=wp;function Pde(t){return t&&t.length?Ade(t,Cde,Mde):void 0}var Ode=Pde;const mS=Mn(Ode);var Rde=XP,Nde=$u,Ide=Uz,Lde=Sa;function Dde(t,e){var n=Lde(t)?Rde:Ide;return n(t,Nde(e))}var kde=Dde,Fde=kz,Ude=kde;function Bde(t,e){return Fde(Ude(t,e),1)}var zde=Bde;const jde=Mn(zde);var Hde=lO;function Wde(t,e){return Hde(t,e)}var Gde=Wde;const gS=Mn(Gde);var Ep=1e9,Vde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DO,Xn=!0,Ss="[DecimalError] ",tf=Ss+"Invalid argument: ",LO=Ss+"Exponent out of range: ",Tp=Math.floor,Nc=Math.pow,$de=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,qr=1e7,jn=7,Rj=9007199254740991,P_=Tp(Rj/jn),St={};St.absoluteValue=St.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};St.comparedTo=St.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};St.decimalPlaces=St.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*jn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};St.dividedBy=St.div=function(t){return gl(this,new this.constructor(t))};St.dividedToIntegerBy=St.idiv=function(t){var e=this,n=e.constructor;return Pn(gl(e,new n(t),0,1),n.precision)};St.equals=St.eq=function(t){return!this.cmp(t)};St.exponent=function(){return Or(this)};St.greaterThan=St.gt=function(t){return this.cmp(t)>0};St.greaterThanOrEqualTo=St.gte=function(t){return this.cmp(t)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(t){return this.cmp(t)<0};St.lessThanOrEqualTo=St.lte=function(t){return this.cmp(t)<1};St.logarithm=St.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ha))throw Error(Ss+"NaN");if(n.s<1)throw Error(Ss+(n.s?"NaN":"-Infinity"));return n.eq(Ha)?new r(0):(Xn=!1,e=gl(rg(n,a),rg(t,a),a),Xn=!0,Pn(e,i))};St.minus=St.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Lj(e,t):Nj(e,(t.s=-t.s,t))};St.modulo=St.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ss+"NaN");return n.s?(Xn=!1,e=gl(n,t,0,1).times(t),Xn=!0,n.minus(e)):Pn(new r(n),i)};St.naturalExponential=St.exp=function(){return Ij(this)};St.naturalLogarithm=St.ln=function(){return rg(this)};St.negated=St.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};St.plus=St.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Nj(e,t):Lj(e,(t.s=-t.s,t))};St.precision=St.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tf+t);if(e=Or(i)+1,r=i.d.length-1,n=r*jn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};St.squareRoot=St.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ss+"NaN")}for(t=Or(o),Xn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=bo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(gl(o,a,s+2)).times(.5),bo(a.d).slice(0,s)===(e=bo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Pn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Xn=!0,Pn(r,n)};St.times=St.mul=function(t){var e,n,r,i,a,s,o,l,u,c=this,f=c.constructor,h=c.d,d=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=d.length,l<u&&(a=h,h=d,d=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+d[r]*h[i-r-1]+e,a[i--]=o%qr|0,e=o/qr|0;a[i]=(a[i]+e)%qr|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Xn?Pn(t,f.precision):t};St.toDecimalPlaces=St.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Io(t,0,Ep),e===void 0?e=r.rounding:Io(e,0,8),Pn(n,t+Or(n)+1,e))};St.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=vf(r,!0):(Io(t,0,Ep),e===void 0?e=i.rounding:Io(e,0,8),r=Pn(new i(r),t+1,e),n=vf(r,!0,t+1)),n};St.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?vf(i):(Io(t,0,Ep),e===void 0?e=a.rounding:Io(e,0,8),r=Pn(new a(i),t+Or(i)+1,e),n=vf(r.abs(),!1,t+Or(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};St.toInteger=St.toint=function(){var t=this,e=t.constructor;return Pn(new e(t),Or(t)+1,e.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Ha);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ss+"Infinity");return o}if(o.eq(Ha))return o;if(r=l.precision,t.eq(Ha))return Pn(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=c<0?-c:c)<=Rj){for(i=new l(Ha),e=Math.ceil(r/jn+4),Xn=!1;n%2&&(i=i.times(o),gD(i.d,e)),n=Tp(n/2),n!==0;)o=o.times(o),gD(o.d,e);return Xn=!0,t.s<0?new l(Ha).div(i):Pn(i,r)}}else if(a<0)throw Error(Ss+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Xn=!1,i=t.times(rg(o,r+u)),Xn=!0,i=Ij(i),i.s=a,i};St.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Or(i),r=vf(i,n<=a.toExpNeg||n>=a.toExpPos)):(Io(t,1,Ep),e===void 0?e=a.rounding:Io(e,0,8),i=Pn(new a(i),t,e),n=Or(i),r=vf(i,t<=n||n<=a.toExpNeg,t)),r};St.toSignificantDigits=St.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Io(t,1,Ep),e===void 0?e=r.rounding:Io(e,0,8)),Pn(new r(n),t,e)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Or(t),n=t.constructor;return vf(t,e<=n.toExpNeg||e>=n.toExpPos)};function Nj(t,e){var n,r,i,a,s,o,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Xn?Pn(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/jn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/qr|0,l[a]%=qr;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Xn?Pn(e,f):e}function Io(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tf+t)}function bo(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=jn-r.length,n&&(a+=su(n)),a+=r;s=t[e],r=s+"",n=jn-r.length,n&&(a+=su(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var gl=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%qr|0,s=a/qr|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*qr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,f,h,d,g,v,y,x,w,_,S,b,T,A,P,M=r.constructor,R=r.s==i.s?1:-1,D=r.d,L=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Ss+"Division by zero");for(l=r.e-i.e,A=L.length,b=D.length,d=new M(R),g=d.d=[],u=0;L[u]==(D[u]||0);)++u;if(L[u]>(D[u]||0)&&--l,a==null?w=a=M.precision:s?w=a+(Or(r)-Or(i))+1:w=a,w<0)return new M(0);if(w=w/jn+2|0,u=0,A==1)for(c=0,L=L[0],w++;(u<b||c)&&w--;u++)_=c*qr+(D[u]||0),g[u]=_/L|0,c=_%L|0;else{for(c=qr/(L[0]+1)|0,c>1&&(L=t(L,c),D=t(D,c),A=L.length,b=D.length),S=A,v=D.slice(0,A),y=v.length;y<A;)v[y++]=0;P=L.slice(),P.unshift(0),T=L[0],L[1]>=qr/2&&++T;do c=0,o=e(L,v,A,y),o<0?(x=v[0],A!=y&&(x=x*qr+(v[1]||0)),c=x/T|0,c>1?(c>=qr&&(c=qr-1),f=t(L,c),h=f.length,y=v.length,o=e(f,v,h,y),o==1&&(c--,n(f,A<h?P:L,h))):(c==0&&(o=c=1),f=L.slice()),h=f.length,h<y&&f.unshift(0),n(v,f,y),o==-1&&(y=v.length,o=e(L,v,A,y),o<1&&(c++,n(v,A<y?P:L,y))),y=v.length):o===0&&(c++,v=[0]),g[u++]=c,o&&v[0]?v[y++]=D[S]||0:(v=[D[S]],y=1);while((S++<b||v[0]!==void 0)&&w--)}return g[0]||g.shift(),d.e=l,Pn(d,s?a+Or(d)+1:a)}}();function Ij(t,e){var n,r,i,a,s,o,l=0,u=0,c=t.constructor,f=c.precision;if(Or(t)>16)throw Error(LO+Or(t));if(!t.s)return new c(Ha);for(Xn=!1,o=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Nc(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Ha),c.precision=o;;){if(i=Pn(i.times(t),o),n=n.times(++l),s=a.plus(gl(i,n,o)),bo(s.d).slice(0,o)===bo(a.d).slice(0,o)){for(;u--;)a=Pn(a.times(a),o);return c.precision=f,e==null?(Xn=!0,Pn(a,f)):a}a=s}}function Or(t){for(var e=t.e*jn,n=t.d[0];n>=10;n/=10)e++;return e}function iE(t,e,n){if(e>t.LN10.sd())throw Xn=!0,n&&(t.precision=n),Error(Ss+"LN10 precision limit exceeded");return Pn(new t(t.LN10),e)}function su(t){for(var e="";t--;)e+="0";return e}function rg(t,e){var n,r,i,a,s,o,l,u,c,f=1,h=10,d=t,g=d.d,v=d.constructor,y=v.precision;if(d.s<1)throw Error(Ss+(d.s?"NaN":"-Infinity"));if(d.eq(Ha))return new v(0);if(e==null?(Xn=!1,u=y):u=e,d.eq(10))return e==null&&(Xn=!0),iE(v,u);if(u+=h,v.precision=u,n=bo(g),r=n.charAt(0),a=Or(d),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(t),n=bo(d.d),r=n.charAt(0),f++;a=Or(d),r>1?(d=new v("0."+n),a++):d=new v(r+"."+n.slice(1))}else return l=iE(v,u+2,y).times(a+""),d=rg(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=y,e==null?(Xn=!0,Pn(d,y)):d;for(o=s=d=gl(d.minus(Ha),d.plus(Ha),u),c=Pn(d.times(d),u),i=3;;){if(s=Pn(s.times(c),u),l=o.plus(gl(s,new v(i),u)),bo(l.d).slice(0,u)===bo(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(iE(v,u+2,y).times(a+""))),o=gl(o,new v(f),u),v.precision=y,e==null?(Xn=!0,Pn(o,y)):o;o=l,i+=2}}function mD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Tp(n/jn),t.d=[],r=(n+1)%jn,n<0&&(r+=jn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=jn;r<i;)t.d.push(+e.slice(r,r+=jn));e=e.slice(r),r=jn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xn&&(t.e>P_||t.e<-P_))throw Error(LO+n)}else t.s=0,t.e=0,t.d=[0];return t}function Pn(t,e,n){var r,i,a,s,o,l,u,c,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=jn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/jn),a=f.length,c>=a)return t;for(u=a=f[c],s=1;a>=10;a/=10)s++;r%=jn,i=r-jn+s}if(n!==void 0&&(a=Nc(10,s-i-1),o=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Nc(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Or(t),f.length=1,e=e-a-1,f[0]=Nc(10,(jn-e%jn)%jn),t.e=Tp(-e/jn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Nc(10,jn-r),f[c]=i>0?(u/Nc(10,s-i)%Nc(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==qr&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=qr)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Xn&&(t.e>P_||t.e<-P_))throw Error(LO+Or(t));return t}function Lj(t,e){var n,r,i,a,s,o,l,u,c,f,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Xn?Pn(e,d):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(d/jn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=qr-1;--l[a],l[i]+=qr}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Xn?Pn(e,d):e):new h(0)}function vf(t,e,n){var r,i=Or(t),a=bo(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+su(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+su(-i-1)+a,n&&(r=n-s)>0&&(a+=su(r))):i>=s?(a+=su(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+su(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=su(r))),t.s<0?"-"+a:a}function gD(t,e){if(t.length>e)return t.length=e,!0}function Dj(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return mD(s,a.toString())}else if(typeof a!="string")throw Error(tf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,$de.test(a))mD(s,a);else throw Error(tf+a)}if(i.prototype=St,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Dj,i.config=i.set=Xde,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Xde(t){if(!t||typeof t!="object")throw Error(Ss+"Object expected");var e,n,r,i=["precision",1,Ep,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Tp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(tf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tf+n+": "+r);return this}var DO=Dj(Vde);Ha=new DO(1);const Tn=DO;function Yde(t){return Jde(t)||Zde(t)||Kde(t)||qde()}function qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(t,e){if(t){if(typeof t=="string")return YA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YA(t,e)}}function Zde(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Jde(t){if(Array.isArray(t))return YA(t)}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qde=function(e){return e},kj={},Fj=function(e){return e===kj},vD=function(e){return function n(){return arguments.length===0||arguments.length===1&&Fj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},epe=function t(e,n){return e===1?n:vD(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==kj}).length;return s>=e?n.apply(void 0,i):t(e-s,vD(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=i.map(function(f){return Fj(f)?l.shift():f});return n.apply(void 0,Yde(c).concat(l))}))})},vS=function(e){return epe(e.length,e)},qA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},tpe=vS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),npe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Qde;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},KA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Uj=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function rpe(t){var e;return t===0?e=1:e=Math.floor(new Tn(t).abs().log(10).toNumber())+1,e}function ipe(t,e,n){for(var r=new Tn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var ape=vS(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),spe=vS(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ope=vS(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const yS={rangeStep:ipe,getDigitCount:rpe,interpolateNumber:ape,uninterpolateNumber:spe,uninterpolateTruncation:ope};function ZA(t){return cpe(t)||upe(t)||Bj(t)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function upe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cpe(t){if(Array.isArray(t))return JA(t)}function ig(t,e){return dpe(t)||hpe(t,e)||Bj(t,e)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bj(t,e){if(t){if(typeof t=="string")return JA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(t,e)}}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hpe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function dpe(t){if(Array.isArray(t))return t}function zj(t){var e=ig(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function jj(t,e,n){if(t.lte(0))return new Tn(0);var r=yS.getDigitCount(t.toNumber()),i=new Tn(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Tn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Tn(Math.ceil(l))}function ppe(t,e,n){var r=1,i=new Tn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Tn(10).pow(yS.getDigitCount(t)-1),i=new Tn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Tn(Math.floor(t)))}else t===0?i=new Tn(Math.floor((e-1)/2)):n||(i=new Tn(Math.floor(t)));var s=Math.floor((e-1)/2),o=npe(tpe(function(l){return i.add(new Tn(l-s).mul(r)).toNumber()}),qA);return o(0,e)}function Hj(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Tn(0),tickMin:new Tn(0),tickMax:new Tn(0)};var a=jj(new Tn(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Tn(0):(s=new Tn(t).add(e).div(2),s=s.sub(new Tn(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Tn(e).sub(s).div(a).toNumber()),u=o+l+1;return u>n?Hj(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new Tn(o).mul(a)),tickMax:s.add(new Tn(l).mul(a))})}function mpe(t){var e=ig(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=zj([n,r]),l=ig(o,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(ZA(qA(0,i-1).map(function(){return 1/0}))):[].concat(ZA(qA(0,i-1).map(function(){return-1/0})),[c]);return n>r?KA(f):f}if(u===c)return ppe(u,i,a);var h=Hj(u,c,s,a),d=h.step,g=h.tickMin,v=h.tickMax,y=yS.rangeStep(g,v.add(new Tn(.1).mul(d)),d);return n>r?KA(y):y}function gpe(t,e){var n=ig(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=zj([r,i]),o=ig(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=jj(new Tn(u).sub(l).div(c-1),a,0),h=[].concat(ZA(yS.rangeStep(new Tn(l),new Tn(u).sub(new Tn(.99).mul(f)),f)),[u]);return r>i?KA(h):h}var vpe=Uj(mpe),ype=Uj(gpe),xpe="Invariant failed";function yf(t,e){throw new Error(xpe)}var _pe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function wpe(t,e){return Tpe(t)||Epe(t,e)||bpe(t,e)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bpe(t,e){if(t){if(typeof t=="string")return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Epe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Tpe(t){if(Array.isArray(t))return t}function Ape(t,e){if(t==null)return{};var n=Mpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ppe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vj(r.key),r)}}function Ope(t,e,n){return e&&Ppe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rpe(t,e,n){return e=R_(e),Npe(t,Wj()?Reflect.construct(e,n||[],R_(t).constructor):e.apply(t,n))}function Npe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ipe(t)}function Ipe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wj=function(){return!!t})()}function R_(t){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R_(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QA(t,e)}function Gj(t,e,n){return e=Vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vj(t){var e=Dpe(t,"string");return zd(e)=="symbol"?e:e+""}function Dpe(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fv=function(t){function e(){return Cpe(this,e),Rpe(this,e,arguments)}return Lpe(e,t),Ope(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Ape(r,_pe),d=an(h,!1);this.props.direction==="x"&&c.type!=="number"&&yf();var g=l.map(function(v){var y=u(v,o),x=y.x,w=y.y,_=y.value,S=y.errorVal;if(!S)return null;var b=[],T,A;if(Array.isArray(S)){var P=wpe(S,2);T=P[0],A=P[1]}else T=A=S;if(a==="vertical"){var M=c.scale,R=w+i,D=R+s,L=R-s,B=M(_-T),G=M(_+A);b.push({x1:G,y1:D,x2:G,y2:L}),b.push({x1:B,y1:R,x2:G,y2:R}),b.push({x1:B,y1:D,x2:B,y2:L})}else if(a==="horizontal"){var z=f.scale,Z=x+i,ee=Z-s,U=Z+s,H=z(_-T),X=z(_+A);b.push({x1:ee,y1:X,x2:U,y2:X}),b.push({x1:Z,y1:H,x2:Z,y2:X}),b.push({x1:ee,y1:H,x2:U,y2:H})}return Te.createElement(yr,O_({className:"recharts-errorBar",key:"bar-".concat(b.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},d),b.map(function(F){return Te.createElement("line",O_({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return Te.createElement(yr,{className:"recharts-errorBars"},g)}}])}(Te.Component);Gj(fv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Gj(fv,"displayName","ErrorBar");function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kpe(t,e,n){return e=Fpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fpe(t){var e=Upe(t,"string");return ag(e)=="symbol"?e:e+""}function Upe(t,e){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $j=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ua(n,Qc);if(!s)return null;var o=Qc.defaultProps,l=o!==void 0?vc(vc({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,d=f.props,g=d.sectors||d.data||[];return c.concat(g.map(function(v){return{type:s.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,d=h!==void 0?vc(vc({},h),f.props):{},g=d.dataKey,v=d.name,y=d.legendType,x=d.hide;return{inactive:x,dataKey:g,type:l.iconType||y||"square",color:kO(f),value:v||g,payload:d}}),vc(vc(vc({},l),Qc.getWithHeight(s,i)),{},{payload:u,item:s})};function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function _D(t){return Hpe(t)||jpe(t)||zpe(t)||Bpe()}function Bpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zpe(t,e){if(t){if(typeof t=="string")return eM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eM(t,e)}}function jpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hpe(t){if(Array.isArray(t))return eM(t)}function eM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){yd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yd(t,e,n){return e=Wpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wpe(t){var e=Gpe(t,"string");return sg(e)=="symbol"?e:e+""}function Gpe(t,e){if(sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xa(t,e,n){return tn(t)||tn(e)?n:zr(e)?ys(t,e,n):Kt(e)?e(t):n}function lm(t,e,n,r){var i=jde(t,function(o){return Xa(o,e)});if(n==="number"){var a=i.filter(function(o){return mt(o)||parseFloat(o)});return a.length?[mS(a),pS(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!tn(o)}):i;return s.map(function(o){return zr(o)||o instanceof Date?o:""})}var Vpe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var c=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,d=void 0;if(Ks(f-c)!==Ks(h-f)){var g=[];if(Ks(h-f)===Ks(l[1]-l[0])){d=h;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+c)/2),g[1]=Math.max(v,(v+c)/2)}else{d=c;var y=h+l[1]-l[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){s=i[u].index;break}}else{var w=Math.min(c,h),_=Math.max(c,h);if(e>(w+f)/2&&e<=(_+f)/2){s=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){s=r[S].index;break}return s},kO=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?sr(sr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},$pe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var c=a[o[l]].stackGroups,f=Object.keys(c),h=0,d=f.length;h<d;h++){var g=c[f[h]],v=g.items,y=g.cateAxisId,x=v.filter(function(A){return pl(A.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,_=w!==void 0?sr(sr({},w),x[0].props):x[0].props,S=_.barSize,b=_[y];s[b]||(s[b]=[]);var T=tn(S)?n:S;s[b].push({item:x[0],stackList:x.slice(1),barSize:tn(T)?void 0:gf(T,r,0)})}}return s},Xpe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=gf(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=i/l,g=s.reduce(function(S,b){return S+b.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&d>0&&(h=!0,d*=.9,g=l*d);var v=(i-g)/2>>0,y={offset:v-u,size:0};c=s.reduce(function(S,b){var T={item:b.item,position:{offset:y.offset+y.size+u,size:h?d:b.barSize}},A=[].concat(_D(S),[T]);return y=A[A.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(P){A.push({item:P,position:y})}),A},f)}else{var x=gf(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;c=s.reduce(function(S,b,T){var A=[].concat(_D(S),[{item:b.item,position:{offset:x+(w+u)*T+(w-_)/2,size:_}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},f)}return c},Ype=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=$j({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,d=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&d!=="center"&&mt(e[d]))return sr(sr({},e),{},yd({},d,e[d]+(f||0)));if((v==="horizontal"||v==="vertical"&&d==="center")&&g!=="middle"&&mt(e[g]))return sr(sr({},e),{},yd({},g,e[g]+(h||0)))}return e},qpe=function(e,n,r){return tn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Xj=function(e,n,r,i,a){var s=n.props.children,o=xs(s,fv).filter(function(u){return qpe(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Xa(c,r);if(tn(f))return u;var h=Array.isArray(f)?[mS(f),pS(f)]:[f,f],d=l.reduce(function(g,v){var y=Xa(c,v,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0])}return null},Kpe=function(e,n,r,i,a){var s=n.map(function(o){return Xj(e,o,r,a,i)}).filter(function(o){return!tn(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Yj=function(e,n,r,i,a){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Xj(e,l,u,i)||lm(e,u,r,a)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)o[u[c]]||(o[u[c]]=!0,l.push(u[c]));return l},[])},qj=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Kj=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},fl=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ks(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!iv(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},aE=new WeakMap,qy=function(e,n){if(typeof n!="function")return e;aE.has(e)||aE.set(e,new WeakMap);var r=aE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Zpe=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Jm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:T_(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:om(),realScaleType:"point"}:a==="category"?{scale:Jm(),realScaleType:"band"}:{scale:T_(),realScaleType:"linear"};if(mf(i)){var l="scale".concat(tS(i));return{scale:(pD[l]||om)(),realScaleType:pD[l]?l:"point"}}return Kt(i)?{scale:i}:{scale:om(),realScaleType:"point"}},SD=1e-4,Jpe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-SD,s=Math.max(i[0],i[1])+SD,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},Qpe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},e0e=function(e,n){if(!n||n.length!==2||!mt(n[0])||!mt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!mt(e[0])||e[0]<r)&&(a[0]=r),(!mt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},t0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=iv(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},n0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=iv(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},r0e={sign:t0e,expand:yte,none:Nd,silhouette:xte,wiggle:_te,positive:n0e},i0e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=r0e[r],s=vte().keys(i).value(function(o,l){return+Xa(o,l,0)}).order(TA).offset(a);return s(e)},a0e=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(f,h){var d,g=(d=h.type)!==null&&d!==void 0&&d.defaultProps?sr(sr({},h.type.defaultProps),h.props):h.props,v=g.stackId,y=g.hide;if(y)return f;var x=g[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(zr(v)){var _=w.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[v]=_}else w.stackGroups[av("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return sr(sr({},f),{},yd({},x,w))},l),c={};return Object.keys(u).reduce(function(f,h){var d=u[h];if(d.hasStack){var g={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(v,y){var x=d.stackGroups[y];return sr(sr({},v),{},yd({},y,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:i0e(e,x.items,a)}))},g)}return sr(sr({},f),{},yd({},h,d))},c)},s0e=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=vpe(u,a,o);return e.domain([mS(c),pS(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=ype(f,a,o);return{niceTicks:h}}return null};function bD(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tn(i[e.dataKey])){var o=n_(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Xa(i,tn(s)?e.dataKey:s);return tn(l)?null:e.scale(l)}var ED=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Xa(s,n.dataKey,n.domain[o]);return tn(l)?null:n.scale(l)-a/2+i},o0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},l0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?sr(sr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(zr(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},u0e=function(e){return e.reduce(function(n,r){return[mS(r.concat([n[0]]).filter(mt)),pS(r.concat([n[1]]).filter(mt))]},[1/0,-1/0])},Zj=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,c){var f=u0e(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tM=function(e,n,r){if(Kt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(mt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(TD.test(e[0])){var a=+TD.exec(e[0])[1];i[0]=n[0]-a}else Kt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(mt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(AD.test(e[1])){var s=+AD.exec(e[1])[1];i[1]=n[1]+s}else Kt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},N_=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=cO(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],c=a[o-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},MD=function(e,n,r){return!e||!e.length||gS(e,ys(r,"type.defaultProps.domain"))?n:e},Jj=function(e,n){var r=e.type.defaultProps?sr(sr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return sr(sr({},an(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:kO(e),value:Xa(n,i),type:l,payload:n,chartType:u,hide:c})};function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){c0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c0e(t,e,n){return e=f0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f0e(t){var e=h0e(t,"string");return og(e)=="symbol"?e:e+""}function h0e(t,e){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I_=Math.PI/180,d0e=function(e){return e*180/Math.PI},ci=function(e,n,r,i){return{x:e+Math.cos(-I_*i)*r,y:n+Math.sin(-I_*i)*r}},p0e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},m0e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=p0e({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:d0e(u),angleInRadian:u}},g0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},v0e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},OD=function(e,n){var r=e.x,i=e.y,a=m0e({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=g0e(n),f=c.startAngle,h=c.endAngle,d=o,g;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;g=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;g=d>=h&&d<=f}return g?PD(PD({},n),{},{radius:s,angle:v0e(d,n)}):null};function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}var y0e=["offset"];function x0e(t){return b0e(t)||S0e(t)||w0e(t)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w0e(t,e){if(t){if(typeof t=="string")return nM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nM(t,e)}}function S0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b0e(t){if(Array.isArray(t))return nM(t)}function nM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E0e(t,e){if(t==null)return{};var n=T0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){A0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t,e,n){return e=M0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0e(t){var e=C0e(t,"string");return lg(e)=="symbol"?e:e+""}function C0e(t,e){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}var P0e=function(e){var n=e.value,r=e.formatter,i=tn(e.children)?n:e.children;return Kt(r)?r(i):i},O0e=function(e,n){var r=Ks(n-e),i=Math.min(Math.abs(n-e),360);return r*i},R0e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,g=l.endAngle,v=l.clockWise,y=(f+h)/2,x=O0e(d,g),w=x>=0?1:-1,_,S;i==="insideStart"?(_=d+w*s,S=v):i==="insideEnd"?(_=g-w*s,S=!v):i==="end"&&(_=g+w*s,S=v),S=x<=0?S:!S;var b=ci(u,c,y,_),T=ci(u,c,y,_+(S?1:-1)*359),A="M".concat(b.x,",").concat(b.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),P=tn(e.id)?av("recharts-radial-line-"):e.id;return Te.createElement("text",ug({},r,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",o)}),Te.createElement("defs",null,Te.createElement("path",{id:P,d:A})),Te.createElement("textPath",{xlinkHref:"#".concat(P)},n))},N0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var d=ci(s,o,u+r,h),g=d.x,v=d.y;return{x:g,y:v,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,x=ci(s,o,y,h),w=x.x,_=x.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},I0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,d=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,y=v*i,x=v>0?"end":"start",w=v>0?"start":"end";if(a==="top"){var _={x:o+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:d};return kr(kr({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var S={x:o+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return kr(kr({},S),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var b={x:o-y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return kr(kr({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(a==="right"){var T={x:o+u+y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return kr(kr({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return a==="insideLeft"?kr({x:o+y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},A):a==="insideRight"?kr({x:o+u-y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},A):a==="insideTop"?kr({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},A):a==="insideBottom"?kr({x:o+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:d},A):a==="insideTopLeft"?kr({x:o+y,y:l+h,textAnchor:w,verticalAnchor:g},A):a==="insideTopRight"?kr({x:o+u-y,y:l+h,textAnchor:x,verticalAnchor:g},A):a==="insideBottomLeft"?kr({x:o+y,y:l+c-h,textAnchor:w,verticalAnchor:d},A):a==="insideBottomRight"?kr({x:o+u-y,y:l+c-h,textAnchor:x,verticalAnchor:d},A):mp(a)&&(mt(a.x)||Hc(a.x))&&(mt(a.y)||Hc(a.y))?kr({x:o+gf(a.x,u),y:l+gf(a.y,c),textAnchor:"end",verticalAnchor:"end"},A):kr({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},L0e=function(e){return"cx"in e&&mt(e.cx)};function Ai(t){var e=t.offset,n=e===void 0?5:e,r=E0e(t,y0e),i=kr({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||tn(o)&&tn(l)&&!fe.isValidElement(u)&&!Kt(u))return null;if(fe.isValidElement(u))return fe.cloneElement(u,i);var d;if(Kt(u)){if(d=fe.createElement(u,i),fe.isValidElement(d))return d}else d=P0e(i);var g=L0e(a),v=an(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return R0e(i,d,v);var y=g?N0e(i):I0e(i);return Te.createElement(y_,ug({className:ln("recharts-label",f)},v,y,{breakAll:h}),d)}Ai.displayName="Label";var Qj=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,d=e.top,g=e.left,v=e.width,y=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(mt(v)&&mt(y)){if(mt(f)&&mt(h))return{x:f,y:h,width:v,height:y};if(mt(d)&&mt(g))return{x:d,y:g,width:v,height:y}}return mt(f)&&mt(h)?{x:f,y:h,width:0,height:0}:mt(n)&&mt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},D0e=function(e,n){return e?e===!0?Te.createElement(Ai,{key:"label-implicit",viewBox:n}):zr(e)?Te.createElement(Ai,{key:"label-implicit",viewBox:n,value:e}):fe.isValidElement(e)?e.type===Ai?fe.cloneElement(e,{key:"label-implicit",viewBox:n}):Te.createElement(Ai,{key:"label-implicit",content:e,viewBox:n}):Kt(e)?Te.createElement(Ai,{key:"label-implicit",content:e,viewBox:n}):mp(e)?Te.createElement(Ai,ug({viewBox:n},e,{key:"label-implicit"})):null:null},k0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Qj(e),s=xs(i,Ai).map(function(l,u){return fe.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=D0e(e.label,n||a);return[o].concat(x0e(s))};Ai.parseViewBox=Qj;Ai.renderCallByParent=k0e;function F0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var U0e=F0e;const B0e=Mn(U0e);function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}var z0e=["valueAccessor"],j0e=["data","dataKey","clockWise","id","textBreakAll"];function H0e(t){return $0e(t)||V0e(t)||G0e(t)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G0e(t,e){if(t){if(typeof t=="string")return rM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rM(t,e)}}function V0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $0e(t){if(Array.isArray(t))return rM(t)}function rM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ID(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){X0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X0e(t,e,n){return e=Y0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y0e(t){var e=q0e(t,"string");return cg(e)=="symbol"?e:e+""}function q0e(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LD(t,e){if(t==null)return{};var n=K0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Z0e=function(e){return Array.isArray(e.value)?B0e(e.value):e.value};function Au(t){var e=t.valueAccessor,n=e===void 0?Z0e:e,r=LD(t,z0e),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=LD(r,j0e);return!i||!i.length?null:Te.createElement(yr,{className:"recharts-label-list"},i.map(function(c,f){var h=tn(a)?n(c,f):Xa(c&&c.payload,a),d=tn(o)?{}:{id:"".concat(o,"-").concat(f)};return Te.createElement(Ai,L_({},an(c,!0),u,d,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Ai.parseViewBox(tn(s)?c:ID(ID({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Au.displayName="LabelList";function J0e(t,e){return t?t===!0?Te.createElement(Au,{key:"labelList-implicit",data:e}):Te.isValidElement(t)||Kt(t)?Te.createElement(Au,{key:"labelList-implicit",data:e,content:t}):mp(t)?Te.createElement(Au,L_({data:e},t,{key:"labelList-implicit"})):null:null}function Q0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=xs(r,Au).map(function(s,o){return fe.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=J0e(t.label,e);return[a].concat(H0e(i))}Au.renderCallByParent=Q0e;function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function iM(){return iM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iM.apply(this,arguments)}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e,n){return e=tme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tme(t){var e=nme(t,"string");return fg(e)=="symbol"?e:e+""}function nme(t,e){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rme=function(e,n){var r=Ks(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ky=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(o?1:-1)+i,f=Math.asin(l/c)/I_,h=u?a:a+s*f,d=ci(n,r,c,h),g=ci(n,r,i,h),v=u?a-s*f:a,y=ci(n,r,c*Math.cos(f*I_),v);return{center:d,circleTangency:g,lineTangency:y,theta:f}},eH=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=rme(s,o),u=s+l,c=ci(n,r,a,s),f=ci(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var d=ci(n,r,i,s),g=ci(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},ime=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Ks(c-u),h=Ky({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,g=h.lineTangency,v=h.theta,y=Ky({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=y.circleTangency,w=y.lineTangency,_=y.theta,S=l?Math.abs(u-c):Math.abs(u-c)-v-_;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):eH({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var b="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var T=Ky({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=T.circleTangency,P=T.lineTangency,M=T.theta,R=Ky({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=R.circleTangency,L=R.lineTangency,B=R.theta,G=l?Math.abs(u-c):Math.abs(u-c)-M-B;if(G<0&&s===0)return"".concat(b,"L").concat(n,",").concat(r,"Z");b+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else b+="L".concat(n,",").concat(r,"Z");return b},ame={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tH=function(e){var n=kD(kD({},ame),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<a||c===f)return null;var d=ln("recharts-sector",h),g=s-a,v=gf(o,g,0,!0),y;return v>0&&Math.abs(c-f)<360?y=ime({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=eH({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:f}),Te.createElement("path",iM({},an(n,!0),{className:d,d:y,role:"img"}))};function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function aM(){return aM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aM.apply(this,arguments)}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){sme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sme(t,e,n){return e=ome(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ome(t){var e=lme(t,"string");return hg(e)=="symbol"?e:e+""}function lme(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BD={curveBasisClosed:ste,curveBasisOpen:ote,curveBasis:ate,curveBumpX:Vee,curveBumpY:$ee,curveLinearClosed:lte,curveLinear:rS,curveMonotoneX:ute,curveMonotoneY:cte,curveNatural:fte,curveStep:hte,curveStepAfter:pte,curveStepBefore:dte},Zy=function(e){return e.x===+e.x&&e.y===+e.y},S0=function(e){return e.x},b0=function(e){return e.y},ume=function(e,n){if(Kt(e))return e;var r="curve".concat(tS(e));return(r==="curveMonotone"||r==="curveBump")&&n?BD["".concat(r).concat(n==="vertical"?"Y":"X")]:BD[r]||rS},cme=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=ume(r,o),f=u?a.filter(function(v){return Zy(v)}):a,h;if(Array.isArray(s)){var d=u?s.filter(function(v){return Zy(v)}):s,g=f.map(function(v,y){return UD(UD({},v),{},{base:d[y]})});return o==="vertical"?h=jy().y(b0).x1(S0).x0(function(v){return v.base.x}):h=jy().x(S0).y1(b0).y0(function(v){return v.base.y}),h.defined(Zy).curve(c),h(g)}return o==="vertical"&&mt(s)?h=jy().y(b0).x1(S0).x0(s):mt(s)?h=jy().x(S0).y1(b0).y0(s):h=tz().x(S0).y(b0),h.defined(Zy).curve(c),h(f)},sM=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?cme(e):i;return fe.createElement("path",aM({},an(e,!1),r_(e),{className:ln("recharts-curve",n),d:s,ref:a}))},nH={exports:{}},fme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hme=fme,dme=hme;function rH(){}function iH(){}iH.resetWarningCache=rH;var pme=function(){function t(r,i,a,s,o,l){if(l!==dme){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iH,resetWarningCache:rH};return n.PropTypes=n,n};nH.exports=pme();var mme=nH.exports;const vn=Mn(mme);var gme=Object.getOwnPropertyNames,vme=Object.getOwnPropertySymbols,yme=Object.prototype.hasOwnProperty;function zD(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Jy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function xme(t){return t!=null?t[Symbol.toStringTag]:void 0}function jD(t){return gme(t).concat(vme(t))}var _me=Object.hasOwn||function(t,e){return yme.call(t,e)};function Lf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var wme="__v",Sme="__o",bme="_owner",HD=Object.getOwnPropertyDescriptor,WD=Object.keys;function Eme(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Tme(t,e){return Lf(t.getTime(),e.getTime())}function Ame(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Mme(t,e){return t===e}function GD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),c=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,d=o.value;if(n.equals(h[0],d[0],l,f,t,e,n)&&n.equals(h[1],d[1],h[0],d[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Cme=Lf;function Pme(t,e,n){var r=WD(t),i=r.length;if(WD(e).length!==i)return!1;for(;i-- >0;)if(!aH(t,e,n,r[i]))return!1;return!0}function E0(t,e,n){var r=jD(t),i=r.length;if(jD(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],!aH(t,e,n,a)||(s=HD(t,a),o=HD(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Ome(t,e){return Lf(t.valueOf(),e.valueOf())}function Rme(t,e){return t.source===e.source&&t.flags===e.flags}function VD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(o=l.next())&&!o.done;){if(!i[c]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Nme(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Ime(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aH(t,e,n,r){return(r===bme||r===Sme||r===wme)&&(t.$$typeof||e.$$typeof)?!0:_me(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Lme="[object Arguments]",Dme="[object Boolean]",kme="[object Date]",Fme="[object Error]",Ume="[object Map]",Bme="[object Number]",zme="[object Object]",jme="[object RegExp]",Hme="[object Set]",Wme="[object String]",Gme="[object URL]",Vme=Array.isArray,$D=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,XD=Object.assign,$me=Object.prototype.toString.call.bind(Object.prototype.toString);function Xme(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,d=t.unknownTagComparators;return function(v,y,x){if(v===y)return!0;if(v==null||y==null)return!1;var w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?s(v,y,x):w==="function"?i(v,y,x):!1;var _=v.constructor;if(_!==y.constructor)return!1;if(_===Object)return o(v,y,x);if(Vme(v))return e(v,y,x);if($D!=null&&$D(v))return f(v,y,x);if(_===Date)return n(v,y,x);if(_===RegExp)return u(v,y,x);if(_===Map)return a(v,y,x);if(_===Set)return c(v,y,x);var S=$me(v);if(S===kme)return n(v,y,x);if(S===jme)return u(v,y,x);if(S===Ume)return a(v,y,x);if(S===Hme)return c(v,y,x);if(S===zme)return typeof v.then!="function"&&typeof y.then!="function"&&o(v,y,x);if(S===Gme)return h(v,y,x);if(S===Fme)return r(v,y,x);if(S===Lme)return o(v,y,x);if(S===Dme||S===Bme||S===Wme)return l(v,y,x);if(d){var b=d[S];if(!b){var T=xme(v);T&&(b=d[T])}if(b)return b(v,y,x)}return!1}}function Yme(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?E0:Eme,areDatesEqual:Tme,areErrorsEqual:Ame,areFunctionsEqual:Mme,areMapsEqual:r?zD(GD,E0):GD,areNumbersEqual:Cme,areObjectsEqual:r?E0:Pme,arePrimitiveWrappersEqual:Ome,areRegExpsEqual:Rme,areSetsEqual:r?zD(VD,E0):VD,areTypedArraysEqual:r?E0:Nme,areUrlsEqual:Ime,unknownTagComparators:void 0};if(n&&(i=XD({},i,n(i))),e){var a=Jy(i.areArraysEqual),s=Jy(i.areMapsEqual),o=Jy(i.areObjectsEqual),l=Jy(i.areSetsEqual);i=XD({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function qme(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function Kme(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,d=c.meta;return n(l,u,{cache:h,equals:i,meta:d,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,s)}}var Zme=qu();qu({strict:!0});qu({circular:!0});qu({circular:!0,strict:!0});qu({createInternalComparator:function(){return Lf}});qu({strict:!0,createInternalComparator:function(){return Lf}});qu({circular:!0,createInternalComparator:function(){return Lf}});qu({circular:!0,createInternalComparator:function(){return Lf},strict:!0});function qu(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=Yme(t),l=Xme(o),u=r?r(l):qme(l);return Kme({circular:n,comparator:l,createState:i,equals:u,strict:s})}function Jme(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function YD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Jme(i)};requestAnimationFrame(r)}function oM(t){"@babel/helpers - typeof";return oM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oM(t)}function Qme(t){return rge(t)||nge(t)||tge(t)||ege()}function ege(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tge(t,e){if(t){if(typeof t=="string")return qD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qD(t,e)}}function qD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rge(t){if(Array.isArray(t))return t}function ige(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Qme(s),l=o[0],u=o.slice(1);if(typeof l=="number"){YD(i.bind(null,u),l);return}i(l),YD(i.bind(null,u));return}oM(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){sH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sH(t,e,n){return e=age(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function age(t){var e=sge(t,"string");return dg(e)==="symbol"?e:String(e)}function sge(t,e){if(dg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oge=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},lge=function(e){return e},uge=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},um=function(e,n){return Object.keys(n).reduce(function(r,i){return ZD(ZD({},r),{},sH({},i,e(i,n[i])))},{})},JD=function(e,n,r){return e.map(function(i){return"".concat(uge(i)," ").concat(n,"ms ").concat(r)}).join(",")};function cge(t,e){return dge(t)||hge(t,e)||oH(t,e)||fge()}function fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function dge(t){if(Array.isArray(t))return t}function pge(t){return vge(t)||gge(t)||oH(t)||mge()}function mge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(t,e){if(t){if(typeof t=="string")return lM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lM(t,e)}}function gge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vge(t){if(Array.isArray(t))return lM(t)}function lM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var D_=1e-4,lH=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},uH=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},QD=function(e,n){return function(r){var i=lH(e,n);return uH(i,r)}},yge=function(e,n){return function(r){var i=lH(e,n),a=[].concat(pge(i.map(function(s,o){return s*o}).slice(1)),[0]);return uH(a,r)}},ek=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=cge(u,4);i=c[0],a=c[1],s=c[2],o=c[3]}}}var f=QD(i,s),h=QD(a,o),d=yge(i,s),g=function(x){return x>1?1:x<0?0:x},v=function(x){for(var w=x>1?1:x,_=w,S=0;S<8;++S){var b=f(_)-w,T=d(_);if(Math.abs(b-w)<D_||T<D_)return h(_);_=g(_-b/T)}return h(_)};return v.isStepper=!1,v},xge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(c,f,h){var d=-(c-f)*r,g=h*a,v=h+(d-g)*o/1e3,y=h*o/1e3+c;return Math.abs(y-f)<D_&&Math.abs(v)<D_?[f,0]:[y,v]};return l.isStepper=!0,l.dt=o,l},_ge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ek(i);case"spring":return xge();default:if(i.split("(")[0]==="cubic-bezier")return ek(i)}return typeof i=="function"?i:null};function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function tk(t){return bge(t)||Sge(t)||cH(t)||wge()}function wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bge(t){if(Array.isArray(t))return cM(t)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){uM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uM(t,e,n){return e=Ege(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ege(t){var e=Tge(t,"string");return pg(e)==="symbol"?e:String(e)}function Tge(t,e){if(pg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Age(t,e){return Pge(t)||Cge(t,e)||cH(t,e)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(t,e){if(t){if(typeof t=="string")return cM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cM(t,e)}}function cM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Pge(t){if(Array.isArray(t))return t}var k_=function(e,n,r){return e+(n-e)*r},fM=function(e){var n=e.from,r=e.to;return n!==r},Oge=function t(e,n,r){var i=um(function(a,s){if(fM(s)){var o=e(s.from,s.to,s.velocity),l=Age(o,2),u=l[0],c=l[1];return ai(ai({},s),{},{from:u,velocity:c})}return s},n);return r<1?um(function(a,s){return fM(s)?ai(ai({},s),{},{velocity:k_(s.velocity,i[a].velocity,r),from:k_(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Rge=function(t,e,n,r,i){var a=oge(t,e),s=a.reduce(function(y,x){return ai(ai({},y),{},uM({},x,[t[x],e[x]]))},{}),o=a.reduce(function(y,x){return ai(ai({},y),{},uM({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return um(function(x,w){return w.from},o)},d=function(){return!Object.values(o).filter(fM).length},g=function(x){u||(u=x);var w=x-u,_=w/n.dt;o=Oge(n,o,_),i(ai(ai(ai({},t),e),h())),u=x,d()||(l=requestAnimationFrame(f))},v=function(x){c||(c=x);var w=(x-c)/r,_=um(function(b,T){return k_.apply(void 0,tk(T).concat([n(w)]))},s);if(i(ai(ai(ai({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var S=um(function(b,T){return k_.apply(void 0,tk(T).concat([n(1)]))},s);i(ai(ai(ai({},t),e),S))}};return f=n.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}var Nge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ige(t,e){if(t==null)return{};var n=Lge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sE(t){return Uge(t)||Fge(t)||kge(t)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kge(t,e){if(t){if(typeof t=="string")return hM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hM(t,e)}}function Fge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uge(t){if(Array.isArray(t))return hM(t)}function hM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0(t,e,n){return e=fH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fH(r.key),r)}}function jge(t,e,n){return e&&zge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fH(t){var e=Hge(t,"string");return jd(e)==="symbol"?e:String(e)}function Hge(t,e){if(jd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dM(t,e)}function dM(t,e){return dM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dM(t,e)}function Gge(t){var e=Vge();return function(){var r=F_(t),i;if(e){var a=F_(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return pM(this,i)}}function pM(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mM(t)}function mM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F_(t){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F_(t)}var Cl=function(t){Wge(n,t);var e=Gge(n);function n(r,i){var a;Bge(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,d=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(mM(a)),a.changeStyle=a.changeStyle.bind(mM(a)),!o||d<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),pM(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},pM(a);a.state={style:l?V0({},l,u):u}}else a.state={style:{}};return a}return jge(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(o){if(!s){var d={style:l?V0({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(d);return}if(!(Zme(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:i.to;if(this.state&&h){var y={style:l?V0({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(y)}this.runAnimation(Rs(Rs({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,d=Rge(s,o,_ge(u),l,this.changeStyle),g=function(){a.stopJSAnimation=d()};this.manager.start([h,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,d=function(v,y,x){if(x===0)return v;var w=y.duration,_=y.easing,S=_===void 0?"ease":_,b=y.style,T=y.properties,A=y.onAnimationEnd,P=x>0?s[x-1]:y,M=T||Object.keys(b);if(typeof S=="function"||S==="spring")return[].concat(sE(v),[a.runJSAnimation.bind(a,{from:P.style,to:b,duration:w,easing:S}),w]);var R=JD(M,w,S),D=Rs(Rs(Rs({},P.style),b),{},{transition:R});return[].concat(sE(v),[D,w,A]).filter(lge)};return this.manager.start([l].concat(sE(s.reduce(d,[c,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ige());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,d=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof d=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=o?V0({},o,l):l,y=JD(Object.keys(v),s,u);g.start([c,a,Rs(Rs({},v),{},{transition:y}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Ige(i,Nge),u=fe.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!o||u===0||s<=0)return a;var f=function(d){var g=d.props,v=g.style,y=v===void 0?{}:v,x=g.className,w=fe.cloneElement(d,Rs(Rs({},l),{},{style:Rs(Rs({},y),c),className:x}));return w};return u===1?f(fe.Children.only(a)):Te.createElement("div",null,fe.Children.map(a,function(h){return f(h)}))}}]),n}(fe.PureComponent);Cl.displayName="Animate";Cl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cl.propTypes={from:vn.oneOfType([vn.object,vn.string]),to:vn.oneOfType([vn.object,vn.string]),attributeName:vn.string,duration:vn.number,begin:vn.number,easing:vn.oneOfType([vn.string,vn.func]),steps:vn.arrayOf(vn.shape({duration:vn.number.isRequired,style:vn.object.isRequired,easing:vn.oneOfType([vn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vn.func]),properties:vn.arrayOf("string"),onAnimationEnd:vn.func})),children:vn.oneOfType([vn.node,vn.func]),isActive:vn.bool,canBegin:vn.bool,onAnimationEnd:vn.func,shouldReAnimate:vn.bool,onAnimationStart:vn.func,onAnimationReStart:vn.func};function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(null,arguments)}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function $ge(t,e){return Kge(t)||qge(t,e)||Yge(t,e)||Xge()}function Xge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yge(t,e){if(t){if(typeof t=="string")return ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Kge(t){if(Array.isArray(t))return t}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){Zge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zge(t,e,n){return e=Jge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jge(t){var e=Qge(t,"string");return mg(e)=="symbol"?e:e+""}function Qge(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ok=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=a[h]>s?s:a[h];c="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*f[1])),c+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*f[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);c="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},eve=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),c=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},tve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FO=function(e){var n=sk(sk({},tve),e),r=fe.useRef(),i=fe.useState(-1),a=$ge(i,2),s=a[0],o=a[1];fe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,d=n.className,g=n.animationEasing,v=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=ln("recharts-rectangle",d);return w?Te.createElement(Cl,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:v,animationEasing:g,isActive:w},function(S){var b=S.width,T=S.height,A=S.x,P=S.y;return Te.createElement(Cl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:x,easing:g},Te.createElement("path",B_({},an(n,!0),{className:_,d:ok(A,P,b,T,h),ref:r})))}):Te.createElement("path",B_({},an(n,!0),{className:_,d:ok(l,u,c,f,h)}))};function gM(){return gM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gM.apply(this,arguments)}var UO=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=ln("recharts-dot",a);return n===+n&&r===+r&&i===+i?fe.createElement("circle",gM({},an(e,!1),r_(e),{className:s,cx:n,cy:r,r:i})):null};function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}var nve=["x","y","top","left","width","height","className"];function vM(){return vM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vM.apply(this,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ive(t,e,n){return e=ave(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ave(t){var e=sve(t,"string");return gg(e)=="symbol"?e:e+""}function sve(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ove(t,e){if(t==null)return{};var n=lve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uve=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},cve=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,d=h===void 0?0:h,g=e.className,v=ove(e,nve),y=rve({x:r,y:a,top:o,left:u,width:f,height:d},v);return!mt(r)||!mt(a)||!mt(f)||!mt(d)||!mt(o)||!mt(u)?null:Te.createElement("path",vM({},an(y,!0),{className:ln("recharts-cross",g),d:uve(r,a,f,d,o,u)}))},fve=Tz,hve=fve(Object.getPrototypeOf,Object),dve=hve,pve=Dl,mve=dve,gve=kl,vve="[object Object]",yve=Function.prototype,xve=Object.prototype,hH=yve.toString,_ve=xve.hasOwnProperty,wve=hH.call(Object);function Sve(t){if(!gve(t)||pve(t)!=vve)return!1;var e=mve(t);if(e===null)return!0;var n=_ve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hH.call(n)==wve}var bve=Sve;const Eve=Mn(bve);var Tve=Dl,Ave=kl,Mve="[object Boolean]";function Cve(t){return t===!0||t===!1||Ave(t)&&Tve(t)==Mve}var Pve=Cve;const Ove=Mn(Pve);function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}function Rve(t,e){return Dve(t)||Lve(t,e)||Ive(t,e)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ive(t,e){if(t){if(typeof t=="string")return uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Dve(t){if(Array.isArray(t))return t}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){kve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kve(t,e,n){return e=Fve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fve(t){var e=Uve(t,"string");return vg(e)=="symbol"?e:e+""}function Uve(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hk=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},Bve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zve=function(e){var n=fk(fk({},Bve),e),r=fe.useRef(),i=fe.useState(-1),a=Rve(i,2),s=a[0],o=a[1];fe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,d=n.className,g=n.animationEasing,v=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=ln("recharts-trapezoid",d);return x?Te.createElement(Cl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:g,isActive:x},function(_){var S=_.upperWidth,b=_.lowerWidth,T=_.height,A=_.x,P=_.y;return Te.createElement(Cl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:g},Te.createElement("path",z_({},an(n,!0),{className:w,d:hk(A,P,S,b,T),ref:r})))}):Te.createElement("g",null,Te.createElement("path",z_({},an(n,!0),{className:w,d:hk(l,u,c,f,h)})))},jve=["option","shapeType","propTransformer","activeClassName","isActive"];function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function Hve(t,e){if(t==null)return{};var n=Wve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){Gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e,n){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vve(t){var e=$ve(t,"string");return yg(e)=="symbol"?e:e+""}function $ve(t,e){if(yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xve(t,e){return j_(j_({},e),t)}function Yve(t,e){return t==="symbols"}function pk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Te.createElement(FO,n);case"trapezoid":return Te.createElement(zve,n);case"sector":return Te.createElement(tH,n);case"symbols":if(Yve(e))return Te.createElement(nO,n);break;default:return null}}function qve(t){return fe.isValidElement(t)?t.props:t}function Kve(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Xve:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Hve(t,jve),u;if(fe.isValidElement(e))u=fe.cloneElement(e,j_(j_({},l),qve(e)));else if(Kt(e))u=e(l);else if(Eve(e)&&!Ove(e)){var c=i(e,l);u=Te.createElement(pk,{shapeType:n,elementProps:c})}else{var f=l;u=Te.createElement(pk,{shapeType:n,elementProps:f})}return o?Te.createElement(yr,{className:s},u):u}function xS(t,e){return e!=null&&"trapezoids"in t.props}function _S(t,e){return e!=null&&"sectors"in t.props}function xg(t,e){return e!=null&&"points"in t.props}function Zve(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Jve(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Qve(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function eye(t,e){var n;return xS(t,e)?n=Zve:_S(t,e)?n=Jve:xg(t,e)&&(n=Qve),n}function tye(t,e){var n;return xS(t,e)?n="trapezoids":_S(t,e)?n="sectors":xg(t,e)&&(n="points"),n}function nye(t,e){if(xS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(_S(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xg(t,e)?e.payload:{}}function rye(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=tye(n,e),a=nye(n,e),s=r.filter(function(l,u){var c=gS(a,l),f=n.props[i].filter(function(g){var v=eye(n,e);return v(g,e)}),h=n.props[i].indexOf(f[f.length-1]),d=u===h;return c&&d}),o=r.indexOf(s[s.length-1]);return o}var iye=Math.ceil,aye=Math.max;function sye(t,e,n,r){for(var i=-1,a=aye(iye((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var oye=sye,lye=Gz,mk=1/0,uye=17976931348623157e292;function cye(t){if(!t)return t===0?t:0;if(t=lye(t),t===mk||t===-mk){var e=t<0?-1:1;return e*uye}return t===t?t:0}var dH=cye,fye=oye,hye=oS,oE=dH;function dye(t){return function(e,n,r){return r&&typeof r!="number"&&hye(e,n,r)&&(n=r=void 0),e=oE(e),n===void 0?(n=e,e=0):n=oE(n),r=r===void 0?e<n?1:-1:oE(r),fye(e,n,r,t)}}var pye=dye,mye=pye,gye=mye(),vye=gye;const H_=Mn(vye);function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){pH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pH(t,e,n){return e=yye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yye(t){var e=xye(t,"string");return _g(e)=="symbol"?e:e+""}function xye(t,e){if(_g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ye=["Webkit","Moz","O","ms"],wye=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=_ye.reduce(function(a,s){return vk(vk({},a),{},pH({},s+r,n))},{});return i[e]=n,i};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Da(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gH(r.key),r)}}function bye(t,e,n){return e&&xk(t.prototype,e),n&&xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eye(t,e,n){return e=G_(e),Tye(t,mH()?Reflect.construct(e,n||[],G_(t).constructor):e.apply(t,n))}function Tye(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aye(t)}function Aye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!t})()}function G_(t){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G_(t)}function Mye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yM(t,e)}function yM(t,e){return yM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yM(t,e)}function Da(t,e,n){return e=gH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t){var e=Cye(t,"string");return Hd(e)=="symbol"?e:e+""}function Cye(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pye=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=om().domain(H_(0,l)).range([a,a+s-o]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},_k=function(e){return e.changedTouches&&!!e.changedTouches.length},Wd=function(t){function e(n){var r;return Sye(this,e),r=Eye(this,e,[n]),Da(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Da(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Da(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Da(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Da(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Da(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Da(r,"handleSlideDragStart",function(i){var a=_k(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Mye(e,t),bye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),d=e.getIndexInRange(s,f),g=e.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Xa(a[r],o,r);return Kt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,g=l.onChange,v=r.pageX-a;v>0?v=Math.min(v,u+c-f-o,u+c-f-s):v<0&&(v=Math.max(v,u-s,u-o));var y=this.getIndex({startX:s+v,endX:o+v});(y.startIndex!==h||y.endIndex!==d)&&g&&g(y),this.setState({startX:s+v,endX:o+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=_k(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,d=c.travellerWidth,g=c.onChange,v=c.gap,y=c.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+h-d-u):w<0&&(w=Math.max(w,f-u)),x[s]=u+w;var _=this.getIndex(x),S=_.startIndex,b=_.endIndex,T=function(){var P=y.length-1;return s==="startX"&&(o>l?S%v===0:b%v===0)||o<l&&b===P||s==="endX"&&(o>l?b%v===0:S%v===0)||o>l&&b===P};this.setState(Da(Da({},s,u+w),"brushMoveStartX",r.pageX),function(){g&&T()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=o.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var d=o[h];i==="startX"&&d>=u||i==="endX"&&d<=l||this.setState(Da({},i,d),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return Te.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,u=r.children,c=r.padding,f=fe.Children.only(u);return f?Te.cloneElement(f,{x:i,y:a,width:s,height:o,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,g=l.data,v=l.startIndex,y=l.endIndex,x=Math.max(r,this.props.x),w=lE(lE({},an(this.props,!1)),{},{x,y:u,width:c,height:f}),_=d||"Min value: ".concat((a=g[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[y])===null||s===void 0?void 0:s.name);return Te.createElement(yr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),o.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return Te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,d=5,g={pointerEvents:"none",fill:u};return Te.createElement(yr,{className:"recharts-brush-texts"},Te.createElement(y_,W_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+o/2},g),this.getTextOfTick(i)),Te.createElement(y_,W_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,d=h.startX,g=h.endX,v=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!mt(o)||!mt(l)||!mt(u)||!mt(c)||u<=0||c<=0)return null;var _=ln("recharts-brush",a),S=Te.Children.count(s)===1,b=wye("userSelect","none");return Te.createElement(yr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(d,g),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(g,"endX"),(v||y||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(a+o/2)-1;return Te.createElement(Te.Fragment,null,Te.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),Te.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),Te.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return Te.isValidElement(r)?a=Te.cloneElement(r,i):Kt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return lE({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?Pye({data:a,width:s,x:o,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(fe.PureComponent);Da(Wd,"displayName","Brush");Da(Wd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Oye=uO;function Rye(t,e){var n;return Oye(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Nye=Rye,Iye=vz,Lye=$u,Dye=Nye,kye=Sa,Fye=oS;function Uye(t,e,n){var r=kye(t)?Iye:Dye;return n&&Fye(t,e,n)&&(e=void 0),r(t,Lye(e))}var Bye=Uye;const zye=Mn(Bye);var Po=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},wk=Bz;function jye(t,e,n){e=="__proto__"&&wk?wk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Hye=jye,Wye=Hye,Gye=Fz,Vye=$u;function $ye(t,e){var n={};return e=Vye(e),Gye(t,function(r,i,a){Wye(n,i,e(r,i,a))}),n}var Xye=$ye;const Yye=Mn(Xye);function qye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Kye=qye,Zye=uO;function Jye(t,e){var n=!0;return Zye(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Qye=Jye,exe=Kye,txe=Qye,nxe=$u,rxe=Sa,ixe=oS;function axe(t,e,n){var r=rxe(t)?exe:txe;return n&&ixe(t,e,n)&&(e=void 0),r(t,nxe(e))}var sxe=axe;const vH=Mn(sxe);var oxe=["x","y"];function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function xM(){return xM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xM.apply(this,arguments)}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){lxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lxe(t,e,n){return e=uxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uxe(t){var e=cxe(t,"string");return wg(e)=="symbol"?e:e+""}function cxe(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fxe(t,e){if(t==null)return{};var n=hxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dxe(t,e){var n=t.x,r=t.y,i=fxe(t,oxe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return T0(T0(T0(T0(T0({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function bk(t){return Te.createElement(Kve,xM({shapeType:"rectangle",propTransformer:dxe,activeClassName:"recharts-active-bar"},t))}var pxe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=mt(r)||OQ(r);return a?e(r,i):(a||yf(),n)}},mxe=["value","background"],yH;function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function gxe(t,e){if(t==null)return{};var n=vxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){du(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_H(r.key),r)}}function xxe(t,e,n){return e&&Tk(t.prototype,e),n&&Tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _xe(t,e,n){return e=$_(e),wxe(t,xH()?Reflect.construct(e,n||[],$_(t).constructor):e.apply(t,n))}function wxe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sxe(t)}function Sxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!t})()}function $_(t){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$_(t)}function bxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_M(t,e)}function _M(t,e){return _M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_M(t,e)}function du(t,e,n){return e=_H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _H(t){var e=Exe(t,"string");return Gd(e)=="symbol"?e:e+""}function Exe(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Df=function(t){function e(){var n;yxe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_xe(this,e,[].concat(i)),du(n,"state",{isAnimationFinished:!1}),du(n,"id",av("recharts-bar-")),du(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),du(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return bxe(e,t),xxe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,c=an(this.props,!1);return r&&r.map(function(f,h){var d=h===l,g=d?u:s,v=Mr(Mr(Mr({},c),f),{},{isActive:d,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Te.createElement(yr,V_({className:"recharts-bar-rectangle"},i_(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Te.createElement(bk,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return Te.createElement(Cl,{begin:l,duration:u,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g=d.t,v=a.map(function(y,x){var w=h&&h[x];if(w){var _=Vs(w.x,y.x),S=Vs(w.y,y.y),b=Vs(w.width,y.width),T=Vs(w.height,y.height);return Mr(Mr({},y),{},{x:_(g),y:S(g),width:b(g),height:T(g)})}if(s==="horizontal"){var A=Vs(0,y.height),P=A(g);return Mr(Mr({},y),{},{y:y.y+y.height-P,height:P})}var M=Vs(0,y.width),R=M(g);return Mr(Mr({},y),{},{width:R})});return Te.createElement(yr,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!gS(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=an(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=gxe(u,mxe);if(!f)return null;var d=Mr(Mr(Mr(Mr(Mr({},h),{},{fill:"#eee"},f),l),i_(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return Te.createElement(bk,V_({key:"background-bar-".concat(c),option:r.props.background,isActive:c===o},d))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=xs(c,fv);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,d=function(y,x){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Xa(y,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Te.createElement(yr,g,f.map(function(v){return Te.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,d=r.isAnimationActive,g=r.background,v=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=ln("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,S=w||_,b=tn(v)?this.id:v;return Te.createElement(yr,{className:x},w||_?Te.createElement("defs",null,Te.createElement("clipPath",{id:"clipPath-".concat(b)},Te.createElement("rect",{x:w?u:u-f/2,y:_?c:c-h/2,width:w?f:f*2,height:_?h:h*2}))):null,Te.createElement(yr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(b,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,b),(!d||y)&&Au.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(fe.PureComponent);yH=Df;du(Df,"displayName","Bar");du(Df,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Sp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});du(Df,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,d=Qpe(r,n);if(!d)return null;var g=e.layout,v=n.type.defaultProps,y=v!==void 0?Mr(Mr({},v),n.props):n.props,x=y.dataKey,w=y.children,_=y.minPointSize,S=g==="horizontal"?s:a,b=u?S.scale.domain():null,T=o0e({numericAxis:S}),A=xs(w,$z),P=f.map(function(M,R){var D,L,B,G,z,Z;u?D=e0e(u[c+R],b):(D=Xa(M,x),Array.isArray(D)||(D=[T,D]));var ee=pxe(_,yH.defaultProps.minPointSize)(D[1],R);if(g==="horizontal"){var U,H=[s.scale(D[0]),s.scale(D[1])],X=H[0],F=H[1];L=ED({axis:a,ticks:o,bandSize:i,offset:d.offset,entry:M,index:R}),B=(U=F??X)!==null&&U!==void 0?U:void 0,G=d.size;var N=X-F;if(z=Number.isNaN(N)?0:N,Z={x:L,y:s.y,width:G,height:s.height},Math.abs(ee)>0&&Math.abs(z)<Math.abs(ee)){var V=Ks(z||ee)*(Math.abs(ee)-Math.abs(z));B-=V,z+=V}}else{var Y=[a.scale(D[0]),a.scale(D[1])],q=Y[0],ae=Y[1];if(L=q,B=ED({axis:s,ticks:l,bandSize:i,offset:d.offset,entry:M,index:R}),G=ae-q,z=d.size,Z={x:a.x,y:B,width:a.width,height:z},Math.abs(ee)>0&&Math.abs(G)<Math.abs(ee)){var pe=Ks(G||ee)*(Math.abs(ee)-Math.abs(G));G+=pe}}return Mr(Mr(Mr({},M),{},{x:L,y:B,width:G,height:z,value:u?D:D[1],payload:M,background:Z},A&&A[R]&&A[R].props),{},{tooltipPayload:[Jj(n,M)],tooltipPosition:{x:L+G/2,y:B+z/2}})});return Mr({data:P,layout:g},h)});function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function Txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ak(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wH(r.key),r)}}function Axe(t,e,n){return e&&Ak(t.prototype,e),n&&Ak(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){wS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wS(t,e,n){return e=wH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wH(t){var e=Mxe(t,"string");return Sg(e)=="symbol"?e:e+""}function Mxe(t,e){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SH=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Ua(u,Df);return c.reduce(function(d,g){var v=n[g],y=v.orientation,x=v.domain,w=v.padding,_=w===void 0?{}:w,S=v.mirror,b=v.reversed,T="".concat(y).concat(S?"Mirror":""),A,P,M,R,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var L=x[1]-x[0],B=1/0,G=v.categoricalDomain.sort(IQ);if(G.forEach(function(Y,q){q>0&&(B=Math.min((Y||0)-(G[q-1]||0),B))}),Number.isFinite(B)){var z=B/L,Z=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(A=z*Z/2),v.padding==="no-gap"){var ee=gf(e.barCategoryGap,z*Z),U=z*Z/2;A=U-ee-(U-ee)/Z*ee}}}i==="xAxis"?P=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:P=v.range,b&&(P=[P[1],P[0]]);var H=Zpe(v,a,h),X=H.scale,F=H.realScaleType;X.domain(x).range(P),Jpe(X);var N=s0e(X,Hs(Hs({},v),{},{realScaleType:F}));i==="xAxis"?(D=y==="top"&&!S||y==="bottom"&&S,M=r.left,R=f[T]-D*v.height):i==="yAxis"&&(D=y==="left"&&!S||y==="right"&&S,M=f[T]-D*v.width,R=r.top);var V=Hs(Hs(Hs({},v),N),{},{realScaleType:F,x:M,y:R,scale:X,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return V.bandSize=N_(V,N),!v.hide&&i==="xAxis"?f[T]+=(D?-1:1)*V.height:v.hide||(f[T]+=(D?-1:1)*V.width),Hs(Hs({},d),{},wS({},g,V))},{})},bH=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Cxe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return bH({x:n,y:r},{x:i,y:a})},EH=function(){function t(e){Txe(this,t),this.scale=e}return Axe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();wS(EH,"EPS",1e-4);var BO=function(e){var n=Object.keys(e).reduce(function(r,i){return Hs(Hs({},r),{},wS({},i,EH.create(e[i])))},{});return Hs(Hs({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Yye(i,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return vH(i,function(a,s){return n[s].isInRange(a)})}})};function Pxe(t){return(t%180+180)%180}var Oxe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Pxe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Rxe=$u,Nxe=sv,Ixe=aS;function Lxe(t){return function(e,n,r){var i=Object(e);if(!Nxe(e)){var a=Rxe(n);e=Ixe(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var Dxe=Lxe,kxe=dH;function Fxe(t){var e=kxe(t),n=e%1;return e===e?n?e-n:e:0}var Uxe=Fxe,Bxe=Rz,zxe=$u,jxe=Uxe,Hxe=Math.max;function Wxe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:jxe(n);return i<0&&(i=Hxe(r+i,0)),Bxe(t,zxe(e),i)}var Gxe=Wxe,Vxe=Dxe,$xe=Gxe,Xxe=Vxe($xe),Yxe=Xxe;const qxe=Mn(Yxe);var Kxe=kJ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),zO=fe.createContext(void 0),jO=fe.createContext(void 0),TH=fe.createContext(void 0),AH=fe.createContext({}),MH=fe.createContext(void 0),CH=fe.createContext(0),PH=fe.createContext(0),Ck=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,c=Kxe(a);return Te.createElement(zO.Provider,{value:r},Te.createElement(jO.Provider,{value:i},Te.createElement(AH.Provider,{value:a},Te.createElement(TH.Provider,{value:c},Te.createElement(MH.Provider,{value:s},Te.createElement(CH.Provider,{value:u},Te.createElement(PH.Provider,{value:l},o)))))))},Zxe=function(){return fe.useContext(MH)},OH=function(e){var n=fe.useContext(zO);n==null&&yf();var r=n[e];return r==null&&yf(),r},Jxe=function(){var e=fe.useContext(zO);return uu(e)},Qxe=function(){var e=fe.useContext(jO),n=qxe(e,function(r){return vH(r.domain,Number.isFinite)});return n||uu(e)},RH=function(e){var n=fe.useContext(jO);n==null&&yf();var r=n[e];return r==null&&yf(),r},e1e=function(){var e=fe.useContext(TH);return e},t1e=function(){return fe.useContext(AH)},HO=function(){return fe.useContext(PH)},WO=function(){return fe.useContext(CH)};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function n1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IH(r.key),r)}}function i1e(t,e,n){return e&&r1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a1e(t,e,n){return e=X_(e),s1e(t,NH()?Reflect.construct(e,n||[],X_(t).constructor):e.apply(t,n))}function s1e(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o1e(t)}function o1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!t})()}function X_(t){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X_(t)}function l1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wM(t,e)}function wM(t,e){return wM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wM(t,e)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){GO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GO(t,e,n){return e=IH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IH(t){var e=u1e(t,"string");return Vd(e)=="symbol"?e:e+""}function u1e(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function c1e(t,e){return p1e(t)||d1e(t,e)||h1e(t,e)||f1e()}function f1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h1e(t,e){if(t){if(typeof t=="string")return Rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rk(t,e)}}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function p1e(t){if(Array.isArray(t))return t}function SM(){return SM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SM.apply(this,arguments)}var m1e=function(e,n){var r;return Te.isValidElement(e)?r=Te.cloneElement(e,n):Kt(e)?r=e(n):r=Te.createElement("line",SM({},n,{className:"recharts-reference-line-line"})),r},g1e=function(e,n,r,i,a,s,o,l,u){var c=a.x,f=a.y,h=a.width,d=a.height;if(r){var g=u.y,v=e.y.apply(g,{position:s});if(Po(u,"discard")&&!e.y.isInRange(v))return null;var y=[{x:c+h,y:v},{x:c,y:v}];return l==="left"?y.reverse():y}if(n){var x=u.x,w=e.x.apply(x,{position:s});if(Po(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+d},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var S=u.segment,b=S.map(function(T){return e.apply(T,{position:s})});return Po(u,"discard")&&zye(b,function(T){return!e.isInRange(T)})?null:b}return null};function v1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=Zxe(),c=OH(i),f=RH(a),h=e1e();if(!u||!h)return null;ml(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=BO({x:c.scale,y:f.scale}),g=zr(e),v=zr(n),y=r&&r.length===2,x=g1e(d,g,v,y,h,t.position,c.orientation,f.orientation,t);if(!x)return null;var w=c1e(x,2),_=w[0],S=_.x,b=_.y,T=w[1],A=T.x,P=T.y,M=Po(t,"hidden")?"url(#".concat(u,")"):void 0,R=Ok(Ok({clipPath:M},an(t,!0)),{},{x1:S,y1:b,x2:A,y2:P});return Te.createElement(yr,{className:ln("recharts-reference-line",o)},m1e(s,R),Ai.renderCallByParent(t,Cxe({x1:S,y1:b,x2:A,y2:P})))}var VO=function(t){function e(){return n1e(this,e),a1e(this,e,arguments)}return l1e(e,t),i1e(e,[{key:"render",value:function(){return Te.createElement(v1e,this.props)}}])}(Te.Component);GO(VO,"displayName","ReferenceLine");GO(VO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bM(){return bM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bM.apply(this,arguments)}function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){SS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DH(r.key),r)}}function _1e(t,e,n){return e&&x1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w1e(t,e,n){return e=Y_(e),S1e(t,LH()?Reflect.construct(e,n||[],Y_(t).constructor):e.apply(t,n))}function S1e(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b1e(t)}function b1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LH=function(){return!!t})()}function Y_(t){return Y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y_(t)}function E1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EM(t,e)}function EM(t,e){return EM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EM(t,e)}function SS(t,e,n){return e=DH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DH(t){var e=T1e(t,"string");return $d(e)=="symbol"?e:e+""}function T1e(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A1e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=BO({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Po(e,"discard")&&!s.isInRange(o)?null:o},bS=function(t){function e(){return y1e(this,e),w1e(this,e,arguments)}return E1e(e,t),_1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=zr(i),c=zr(a);if(ml(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=A1e(this.props);if(!f)return null;var h=f.x,d=f.y,g=this.props,v=g.shape,y=g.className,x=Po(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=Ik(Ik({clipPath:x},an(this.props,!0)),{},{cx:h,cy:d});return Te.createElement(yr,{className:ln("recharts-reference-dot",y)},e.renderDot(v,w),Ai.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])}(Te.Component);SS(bS,"displayName","ReferenceDot");SS(bS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});SS(bS,"renderDot",function(t,e){var n;return Te.isValidElement(t)?n=Te.cloneElement(t,e):Kt(t)?n=t(e):n=Te.createElement(UO,bM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function TM(){return TM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TM.apply(this,arguments)}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){ES(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FH(r.key),r)}}function P1e(t,e,n){return e&&C1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O1e(t,e,n){return e=q_(e),R1e(t,kH()?Reflect.construct(e,n||[],q_(t).constructor):e.apply(t,n))}function R1e(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N1e(t)}function N1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!t})()}function q_(t){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q_(t)}function I1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AM(t,e)}function AM(t,e){return AM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AM(t,e)}function ES(t,e,n){return e=FH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FH(t){var e=L1e(t,"string");return Xd(e)=="symbol"?e:e+""}function L1e(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D1e=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=BO({x:c.scale,y:f.scale}),d={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Po(a,"discard")&&(!h.isInRange(d)||!h.isInRange(g))?null:bH(d,g)},TS=function(t){function e(){return M1e(this,e),O1e(this,e,arguments)}return I1e(e,t),P1e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ml(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=zr(i),h=zr(a),d=zr(s),g=zr(o),v=this.props.shape;if(!f&&!h&&!d&&!g&&!v)return null;var y=D1e(f,h,d,g,this.props);if(!y&&!v)return null;var x=Po(this.props,"hidden")?"url(#".concat(c,")"):void 0;return Te.createElement(yr,{className:ln("recharts-reference-area",l)},e.renderRect(v,Dk(Dk({clipPath:x},an(this.props,!0)),y)),Ai.renderCallByParent(this.props,y))}}])}(Te.Component);ES(TS,"displayName","ReferenceArea");ES(TS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ES(TS,"renderRect",function(t,e){var n;return Te.isValidElement(t)?n=Te.cloneElement(t,e):Kt(t)?n=t(e):n=Te.createElement(FO,TM({},e,{className:"recharts-reference-area-rect"})),n});function UH(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function k1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Oxe(r,n)}function F1e(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function K_(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function U1e(t,e){return UH(t,e+1)}function B1e(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,u=1,c=s,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:UH(r,u)};var v=l,y,x=function(){return y===void 0&&(y=n(g,v)),y},w=g.coordinate,_=l===0||K_(t,w,x,c,o);_||(l=0,c=s,u+=1),_&&(c=w+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){z1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z1e(t,e,n){return e=j1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j1e(t){var e=H1e(t,"string");return bg(e)=="symbol"?e:e+""}function H1e(t,e){if(bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W1e(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var d=a[h],g,v=function(){return g===void 0&&(g=n(d,h)),g};if(h===s-1){var y=t*(d.coordinate+t*v()/2-l);a[h]=d=Ei(Ei({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate})}else a[h]=d=Ei(Ei({},d),{},{tickCoord:d.coordinate});var x=K_(t,d.tickCoord,v,o,l);x&&(l=d.tickCoord-t*(v()/2+i),a[h]=Ei(Ei({},d),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return a}function G1e(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var c=r[o-1],f=n(c,o-1),h=t*(c.coordinate+t*f/2-u);s[o-1]=c=Ei(Ei({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var d=K_(t,c.tickCoord,function(){return f},l,u);d&&(u=c.tickCoord-t*(f/2+i),s[o-1]=Ei(Ei({},c),{},{isShow:!0}))}for(var g=a?o-1:o,v=function(w){var _=s[w],S,b=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var T=t*(_.coordinate-t*b()/2-l);s[w]=_=Ei(Ei({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else s[w]=_=Ei(Ei({},_),{},{tickCoord:_.coordinate});var A=K_(t,_.tickCoord,b,l,u);A&&(l=_.tickCoord+t*(b()/2+i),s[w]=Ei(Ei({},_),{},{isShow:!0}))},y=0;y<g;y++)v(y);return s}function $O(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(mt(l)||Sp.isSsr)return U1e(i,typeof l=="number"&&mt(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",g=c&&d==="width"?sm(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(_,S){var b=Kt(u)?u(_.value,S):_.value;return d==="width"?k1e(sm(b,{fontSize:e,letterSpacing:n}),g,f):sm(b,{fontSize:e,letterSpacing:n})[d]},y=i.length>=2?Ks(i[1].coordinate-i[0].coordinate):1,x=F1e(a,y,d);return l==="equidistantPreserveStart"?B1e(y,x,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=G1e(y,x,v,i,s,l==="preserveStartEnd"):h=W1e(y,x,v,i,s),h.filter(function(w){return w.isShow}))}var V1e=["viewBox"],$1e=["viewBox"],X1e=["ticks"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){XO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uE(t,e){if(t==null)return{};var n=Y1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zH(r.key),r)}}function K1e(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z1e(t,e,n){return e=Z_(e),J1e(t,BH()?Reflect.construct(e,n||[],Z_(t).constructor):e.apply(t,n))}function J1e(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1e(t)}function Q1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!t})()}function Z_(t){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z_(t)}function e_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MM(t,e)}function MM(t,e){return MM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MM(t,e)}function XO(t,e,n){return e=zH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zH(t){var e=t_e(t,"string");return Yd(e)=="symbol"?e:e+""}function t_e(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ap=function(t){function e(n){var r;return q1e(this,e),r=Z1e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return e_e(e,t),K1e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=uE(r,V1e),o=this.props,l=o.viewBox,u=uE(o,$1e);return!gd(a,l)||!gd(s,u)||!gd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,d,g,v,y,x,w,_=f?-1:1,S=r.tickSize||c,b=mt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":d=g=r.coordinate,y=s+ +!f*l,v=y-_*S,w=v-_*h,x=b;break;case"left":v=y=r.coordinate,g=a+ +!f*o,d=g-_*S,x=d-_*h,w=b;break;case"right":v=y=r.coordinate,g=a+ +f*o,d=g+_*S,x=d+_*h,w=b;break;default:d=g=r.coordinate,y=s+ +f*l,v=y+_*S,w=v+_*h,x=b;break}return{line:{x1:d,y1:v,x2:g,y2:y},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Lr(Lr(Lr({},an(this.props,!1)),an(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Lr(Lr({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var d=+(l==="left"&&!u||l==="right"&&u);f=Lr(Lr({},f),{},{x1:i+d*s,y1:a,x2:i+d*s,y2:a+o})}return Te.createElement("line",nd({},f,{className:ln("recharts-cartesian-axis-line",ys(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,c=o.tick,f=o.tickFormatter,h=o.unit,d=$O(Lr(Lr({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=an(this.props,!1),x=an(c,!1),w=Lr(Lr({},y),{},{fill:"none"},an(l,!1)),_=d.map(function(S,b){var T=s.getTickLineCoord(S),A=T.line,P=T.tick,M=Lr(Lr(Lr(Lr({textAnchor:g,verticalAnchor:v},y),{},{stroke:"none",fill:u},x),P),{},{index:b,payload:S,visibleTicksCount:d.length,tickFormatter:f});return Te.createElement(yr,nd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},i_(s.props,S,b)),l&&Te.createElement("line",nd({},w,A,{className:ln("recharts-cartesian-axis-tick-line",ys(l,"className"))})),c&&e.renderTickItem(c,M,"".concat(Kt(f)?f(S.value,b):S.value).concat(h||"")))});return Te.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,d=uE(f,X1e),g=h;return Kt(l)&&(g=h&&h.length>0?l(this.props):l(d)),s<=0||o<=0||!g||!g.length?null:Te.createElement(yr,{className:ln("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Ai.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=ln(i.className,"recharts-cartesian-axis-tick-value");return Te.isValidElement(r)?s=Te.cloneElement(r,Lr(Lr({},i),{},{className:o})):Kt(r)?s=r(Lr(Lr({},i),{},{className:o})):s=Te.createElement(y_,nd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(fe.Component);XO(Ap,"displayName","CartesianAxis");XO(Ap,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var n_e=["x1","y1","x2","y2","key"],r_e=["offset"];function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){i_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_e(t,e,n){return e=a_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a_e(t){var e=s_e(t,"string");return xf(e)=="symbol"?e:e+""}function s_e(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(this,arguments)}function zk(t,e){if(t==null)return{};var n=o_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var l_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return Te.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function jH(t,e){var n;if(Te.isValidElement(t))n=Te.cloneElement(t,e);else if(Kt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=zk(e,n_e),u=an(l,!1);u.offset;var c=zk(u,r_e);n=Te.createElement("line",Vc({},c,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function u_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Mi(Mi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return jH(i,u)});return Te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function c_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Mi(Mi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return jH(i,u)});return Te.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function f_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==c[0]&&c.unshift(0);var f=c.map(function(h,d){var g=!c[d+1],v=g?i+s-h:c[d+1]-h;if(v<=0)return null;var y=d%e.length;return Te.createElement("rect",{key:"react-".concat(d),y:h,x:r,height:v,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function h_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==c[0]&&c.unshift(0);var f=c.map(function(h,d){var g=!c[d+1],v=g?a+o-h:c[d+1]-h;if(v<=0)return null;var y=d%r.length;return Te.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:v,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var d_e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return Kj($O(Mi(Mi(Mi({},Ap.defaultProps),r),{},{ticks:fl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},p_e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return Kj($O(Mi(Mi(Mi({},Ap.defaultProps),r),{},{ticks:fl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},ch={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CM(t){var e,n,r,i,a,s,o=HO(),l=WO(),u=t1e(),c=Mi(Mi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ch.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ch.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ch.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ch.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ch.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ch.verticalFill,x:mt(t.x)?t.x:u.left,y:mt(t.y)?t.y:u.top,width:mt(t.width)?t.width:u.width,height:mt(t.height)?t.height:u.height}),f=c.x,h=c.y,d=c.width,g=c.height,v=c.syncWithTicks,y=c.horizontalValues,x=c.verticalValues,w=Jxe(),_=Qxe();if(!mt(d)||d<=0||!mt(g)||g<=0||!mt(f)||f!==+f||!mt(h)||h!==+h)return null;var S=c.verticalCoordinatesGenerator||d_e,b=c.horizontalCoordinatesGenerator||p_e,T=c.horizontalPoints,A=c.verticalPoints;if((!T||!T.length)&&Kt(b)){var P=y&&y.length,M=b({yAxis:_?Mi(Mi({},_),{},{ticks:P?y:_.ticks}):void 0,width:o,height:l,offset:u},P?!0:v);ml(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xf(M),"]")),Array.isArray(M)&&(T=M)}if((!A||!A.length)&&Kt(S)){var R=x&&x.length,D=S({xAxis:w?Mi(Mi({},w),{},{ticks:R?x:w.ticks}):void 0,width:o,height:l,offset:u},R?!0:v);ml(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xf(D),"]")),Array.isArray(D)&&(A=D)}return Te.createElement("g",{className:"recharts-cartesian-grid"},Te.createElement(l_e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),Te.createElement(u_e,Vc({},c,{offset:u,horizontalPoints:T,xAxis:w,yAxis:_})),Te.createElement(c_e,Vc({},c,{offset:u,verticalPoints:A,xAxis:w,yAxis:_})),Te.createElement(f_e,Vc({},c,{horizontalPoints:T})),Te.createElement(h_e,Vc({},c,{verticalPoints:A})))}CM.displayName="CartesianGrid";var m_e=["type","layout","connectNulls","ref"],g_e=["key"];function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function jk(t,e){if(t==null)return{};var n=v_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){Ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fh(t){return w_e(t)||__e(t)||x_e(t)||y_e()}function y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x_e(t,e){if(t){if(typeof t=="string")return PM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PM(t,e)}}function __e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w_e(t){if(Array.isArray(t))return PM(t)}function PM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WH(r.key),r)}}function b_e(t,e,n){return e&&Wk(t.prototype,e),n&&Wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E_e(t,e,n){return e=J_(e),T_e(t,HH()?Reflect.construct(e,n||[],J_(t).constructor):e.apply(t,n))}function T_e(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A_e(t)}function A_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!t})()}function J_(t){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J_(t)}function M_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OM(t,e)}function OM(t,e){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OM(t,e)}function Ws(t,e,n){return e=WH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WH(t){var e=C_e(t,"string");return qd(e)=="symbol"?e:e+""}function C_e(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hv=function(t){function e(){var n;S_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=E_e(this,e,[].concat(i)),Ws(n,"state",{isAnimationFinished:!0,totalLength:0}),Ws(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ws(n,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var c=Math.floor(s/u),f=s%u,h=o-s,d=[],g=0,v=0;g<l.length;v+=l[g],++g)if(v+l[g]>f){d=[].concat(fh(l.slice(0,g)),[f-v]);break}var y=d.length%2===0?[0,h]:[h];return[].concat(fh(e.repeat(l,c)),fh(d),y).map(function(x){return"".concat(x,"px")}).join(", ")}),Ws(n,"id",av("recharts-line-")),Ws(n,"pathRef",function(s){n.mainCurve=s}),Ws(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ws(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return M_e(e,t),b_e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=xs(c,fv);if(!f)return null;var h=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:Xa(v.payload,y)}},d={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Te.createElement(yr,d,f.map(function(g){return Te.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,c=o.dataKey,f=an(this.props,!1),h=an(l,!0),d=u.map(function(v,y){var x=La(La(La({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:c,payload:v.payload,points:u});return e.renderDotItem(l,x)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Te.createElement(yr,cm({className:"recharts-line-dots",key:"dots"},g),d)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,u=o.layout,c=o.connectNulls;o.ref;var f=jk(o,m_e),h=La(La(La({},an(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return Te.createElement(sM,cm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,g=s.animateNewValues,v=s.width,y=s.height,x=this.state,w=x.prevPoints,_=x.totalLength;return Te.createElement(Cl,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var b=S.t;if(w){var T=w.length/o.length,A=o.map(function(L,B){var G=Math.floor(B*T);if(w[G]){var z=w[G],Z=Vs(z.x,L.x),ee=Vs(z.y,L.y);return La(La({},L),{},{x:Z(b),y:ee(b)})}if(g){var U=Vs(v*2,L.x),H=Vs(y/2,L.y);return La(La({},L),{},{x:U(b),y:H(b)})}return La(La({},L),{},{x:L.x,y:L.y})});return a.renderCurveStatically(A,r,i)}var P=Vs(0,_),M=P(b),R;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});R=a.getStrokeDasharray(M,_,D)}else R=a.generateSimpleStrokeDasharray(_,M);return a.renderCurveStatically(o,r,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return o&&s&&s.length&&(!u&&c>0||!gS(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,d=i.width,g=i.height,v=i.isAnimationActive,y=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=o.length===1,_=ln("recharts-line",l),S=u&&u.allowDataOverflow,b=c&&c.allowDataOverflow,T=S||b,A=tn(y)?this.id:y,P=(r=an(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=P.r,R=M===void 0?3:M,D=P.strokeWidth,L=D===void 0?2:D,B=HQ(s)?s:{},G=B.clipDot,z=G===void 0?!0:G,Z=R*2+L;return Te.createElement(yr,{className:_},S||b?Te.createElement("defs",null,Te.createElement("clipPath",{id:"clipPath-".concat(A)},Te.createElement("rect",{x:S?h:h-d/2,y:b?f:f-g/2,width:S?d:d*2,height:b?g:g*2})),!z&&Te.createElement("clipPath",{id:"clipPath-dots-".concat(A)},Te.createElement("rect",{x:h-Z/2,y:f-Z/2,width:d+Z,height:g+Z}))):null,!w&&this.renderCurve(T,A),this.renderErrorBar(T,A),(w||s)&&this.renderDots(T,z,A),(!v||x)&&Au.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(fh(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(fh(s),fh(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(Te.isValidElement(r))a=Te.cloneElement(r,i);else if(Kt(r))a=r(i);else{var s=i.key,o=jk(i,g_e),l=ln("recharts-line-dot",typeof r!="boolean"?r.className:"");a=Te.createElement(UO,cm({key:s},o,{className:l}))}return a}}])}(fe.PureComponent);Ws(hv,"displayName","Line");Ws(hv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Sp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ws(hv,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,d){var g=Xa(h,s);return c==="horizontal"?{x:bD({axis:n,ticks:i,bandSize:o,entry:h,index:d}),y:tn(g)?null:r.scale(g),value:g,payload:h}:{x:tn(g)?null:n.scale(g),y:bD({axis:r,ticks:a,bandSize:o,entry:h,index:d}),value:g,payload:h}});return La({points:f,layout:c},u)});function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function P_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$H(r.key),r)}}function R_e(t,e,n){return e&&O_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N_e(t,e,n){return e=Q_(e),I_e(t,GH()?Reflect.construct(e,n||[],Q_(t).constructor):e.apply(t,n))}function I_e(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L_e(t)}function L_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!t})()}function Q_(t){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q_(t)}function D_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RM(t,e)}function RM(t,e){return RM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RM(t,e)}function VH(t,e,n){return e=$H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $H(t){var e=k_e(t,"string");return Kd(e)=="symbol"?e:e+""}function k_e(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NM(){return NM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NM.apply(this,arguments)}function F_e(t){var e=t.xAxisId,n=HO(),r=WO(),i=OH(e);return i==null?null:fe.createElement(Ap,NM({},i,{className:ln("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return fl(s,!0)}}))}var Zd=function(t){function e(){return P_e(this,e),N_e(this,e,arguments)}return D_e(e,t),R_e(e,[{key:"render",value:function(){return fe.createElement(F_e,this.props)}}])}(fe.Component);VH(Zd,"displayName","XAxis");VH(Zd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function U_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qH(r.key),r)}}function z_e(t,e,n){return e&&B_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j_e(t,e,n){return e=ew(e),H_e(t,XH()?Reflect.construct(e,n||[],ew(t).constructor):e.apply(t,n))}function H_e(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_e(t)}function W_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!t})()}function ew(t){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ew(t)}function G_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}function IM(t,e){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IM(t,e)}function YH(t,e,n){return e=qH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qH(t){var e=V_e(t,"string");return Jd(e)=="symbol"?e:e+""}function V_e(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LM(){return LM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LM.apply(this,arguments)}var $_e=function(e){var n=e.yAxisId,r=HO(),i=WO(),a=RH(n);return a==null?null:fe.createElement(Ap,LM({},a,{className:ln("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return fl(o,!0)}}))},Qd=function(t){function e(){return U_e(this,e),j_e(this,e,arguments)}return G_e(e,t),z_e(e,[{key:"render",value:function(){return fe.createElement($_e,this.props)}}])}(fe.Component);YH(Qd,"displayName","YAxis");YH(Qd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Gk(t){return K_e(t)||q_e(t)||Y_e(t)||X_e()}function X_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(t,e){if(t){if(typeof t=="string")return DM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DM(t,e)}}function q_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K_e(t){if(Array.isArray(t))return DM(t)}function DM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kM=function(e,n,r,i,a){var s=xs(e,VO),o=xs(e,bS),l=[].concat(Gk(s),Gk(o)),u=xs(e,TS),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(v,y){if(y.props[c]===r&&Po(y.props,"extendDomain")&&mt(y.props[f])){var x=y.props[f];return[Math.min(v[0],x),Math.max(v[1],x)]}return v},h)),u.length){var d="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(v,y){if(y.props[c]===r&&Po(y.props,"extendDomain")&&mt(y.props[d])&&mt(y.props[g])){var x=y.props[d],w=y.props[g];return[Math.min(v[0],x,w),Math.max(v[1],x,w)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,y){return mt(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},h)),h},KH={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],d]:l._events[g].push(d):(l._events[g]=d,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,g=new Array(d);h<d;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,d,g){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,w,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,h),!0;case 5:return y.fn.call(y.context,c,f,h,d),!0;case 6:return y.fn.call(y.context,c,f,h,d,g),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];y.fn.apply(y.context,w)}else{var S=y.length,b;for(_=0;_<S;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),x){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,c);break;case 3:y[_].fn.call(y[_].context,c,f);break;case 4:y[_].fn.call(y[_].context,c,f,h);break;default:if(!w)for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y[_].fn.apply(y[_].context,w)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var d=n?n+u:u;if(!this._events[d])return this;if(!c)return s(this,d),this;var g=this._events[d];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&s(this,d);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==c||h&&!g[v].once||f&&g[v].context!==f)&&y.push(g[v]);y.length?this._events[d]=y.length===1?y[0]:y:s(this,d)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(KH);var Z_e=KH.exports;const J_e=Mn(Z_e);var cE=new J_e,fE="recharts.syncMouseEvents";function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function Q_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ewe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZH(r.key),r)}}function twe(t,e,n){return e&&ewe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hE(t,e,n){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZH(t){var e=nwe(t,"string");return Eg(e)=="symbol"?e:e+""}function nwe(t,e){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rwe=function(){function t(){Q_e(this,t),hE(this,"activeIndex",0),hE(this,"coordinateList",[]),hE(this,"layout","horizontal")}return twe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function iwe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&mt(r)&&mt(i))return!0}return!1}function awe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JH(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=ci(e,n,r,i),o=ci(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function swe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=ci(o,l,u,f),d=ci(o,l,c,f);r=h.x,i=h.y,a=d.x,s=d.y}else return JH(e);return[{x:r,y:i},{x:a,y:s}]}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){owe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function owe(t,e,n){return e=lwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lwe(t){var e=uwe(t,"string");return Tg(e)=="symbol"?e:e+""}function uwe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cwe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,d=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!d||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,v=sM;if(h==="ScatterChart")g=s,v=cve;else if(h==="BarChart")g=awe(f,s,l,c),v=FO;else if(f==="radial"){var y=JH(s),x=y.cx,w=y.cy,_=y.radius,S=y.startAngle,b=y.endAngle;g={cx:x,cy:w,startAngle:S,endAngle:b,innerRadius:_,outerRadius:_},v=tH}else g={points:swe(f,s,l)},v=sM;var T=Qy(Qy(Qy(Qy({stroke:"#ccc",pointerEvents:"none"},l),g),an(d,!1)),{},{payload:o,payloadIndex:u,className:ln("recharts-tooltip-cursor",d.className)});return fe.isValidElement(d)?fe.cloneElement(d,T):fe.createElement(v,T)}var fwe=["item"],hwe=["children","className","width","height","style","compact","title","desc"];function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(this,arguments)}function $k(t,e){return mwe(t)||pwe(t,e)||e7(t,e)||dwe()}function dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function mwe(t){if(Array.isArray(t))return t}function Xk(t,e){if(t==null)return{};var n=gwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ywe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t7(r.key),r)}}function xwe(t,e,n){return e&&ywe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _we(t,e,n){return e=tw(e),wwe(t,QH()?Reflect.construct(e,n||[],tw(t).constructor):e.apply(t,n))}function wwe(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Swe(t)}function Swe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!t})()}function tw(t){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tw(t)}function bwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FM(t,e)}function FM(t,e){return FM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FM(t,e)}function tp(t){return Awe(t)||Twe(t)||e7(t)||Ewe()}function Ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7(t,e){if(t){if(typeof t=="string")return UM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UM(t,e)}}function Twe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Awe(t){if(Array.isArray(t))return UM(t)}function UM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ft(t,e,n){return e=t7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t7(t){var e=Mwe(t,"string");return ep(e)=="symbol"?e:e+""}function Mwe(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cwe={xAxis:["bottom","top"],yAxis:["left","right"]},Pwe={width:"100%",height:"100%"},n7={x:0,y:0};function ex(t){return t}var Owe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Rwe=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Ze(Ze(Ze({},i),ci(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return Ze(Ze(Ze({},i),ci(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return n7},AS=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(tp(o),tp(u)):o},[]);return s.length>0?s:e&&e.length&&mt(i)&&mt(a)?e.slice(i,a+1):[]};function r7(t){return t==="number"?[0,"auto"]:void 0}var BM=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=AS(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?o:f;h=n_(d,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(tp(l),[Jj(u,h)]):l},[])},qk=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=Owe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Vpe(s,o,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=BM(e,n,c,f),d=Rwe(r,o,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},Nwe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,d=qj(c,a);return r.reduce(function(g,v){var y,x=v.type.defaultProps!==void 0?Ze(Ze({},v.type.defaultProps),v.props):v.props,w=x.type,_=x.dataKey,S=x.allowDataOverflow,b=x.allowDuplicatedCategory,T=x.scale,A=x.ticks,P=x.includeHidden,M=x[s];if(g[M])return g;var R=AS(e.data,{graphicalItems:i.filter(function(N){var V,Y=s in N.props?N.props[s]:(V=N.type.defaultProps)===null||V===void 0?void 0:V[s];return Y===M}),dataStartIndex:l,dataEndIndex:u}),D=R.length,L,B,G;iwe(x.domain,S,w)&&(L=tM(x.domain,null,S),d&&(w==="number"||T!=="auto")&&(G=lm(R,_,"category")));var z=r7(w);if(!L||L.length===0){var Z,ee=(Z=x.domain)!==null&&Z!==void 0?Z:z;if(_){if(L=lm(R,_,w),w==="category"&&d){var U=NQ(L);b&&U?(B=L,L=H_(0,D)):b||(L=MD(ee,L,v).reduce(function(N,V){return N.indexOf(V)>=0?N:[].concat(tp(N),[V])},[]))}else if(w==="category")b?L=L.filter(function(N){return N!==""&&!tn(N)}):L=MD(ee,L,v).reduce(function(N,V){return N.indexOf(V)>=0||V===""||tn(V)?N:[].concat(tp(N),[V])},[]);else if(w==="number"){var H=Kpe(R,i.filter(function(N){var V,Y,q=s in N.props?N.props[s]:(V=N.type.defaultProps)===null||V===void 0?void 0:V[s],ae="hide"in N.props?N.props.hide:(Y=N.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return q===M&&(P||!ae)}),_,a,c);H&&(L=H)}d&&(w==="number"||T!=="auto")&&(G=lm(R,_,"category"))}else d?L=H_(0,D):o&&o[M]&&o[M].hasStack&&w==="number"?L=h==="expand"?[0,1]:Zj(o[M].stackGroups,l,u):L=Yj(R,i.filter(function(N){var V=s in N.props?N.props[s]:N.type.defaultProps[s],Y="hide"in N.props?N.props.hide:N.type.defaultProps.hide;return V===M&&(P||!Y)}),w,c,!0);if(w==="number")L=kM(f,L,M,a,A),ee&&(L=tM(ee,L,S));else if(w==="category"&&ee){var X=ee,F=L.every(function(N){return X.indexOf(N)>=0});F&&(L=X)}}return Ze(Ze({},g),{},Ft({},M,Ze(Ze({},x),{},{axisType:a,domain:L,categoricalDomain:G,duplicateDomain:B,originalDomain:(y=x.domain)!==null&&y!==void 0?y:z,isCategorical:d,layout:c})))},{})},Iwe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=AS(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),d=h.length,g=qj(c,a),v=-1;return r.reduce(function(y,x){var w=x.type.defaultProps!==void 0?Ze(Ze({},x.type.defaultProps),x.props):x.props,_=w[s],S=r7("number");if(!y[_]){v++;var b;return g?b=H_(0,d):o&&o[_]&&o[_].hasStack?(b=Zj(o[_].stackGroups,l,u),b=kM(f,b,_,a)):(b=tM(S,Yj(h,r.filter(function(T){var A,P,M=s in T.props?T.props[s]:(A=T.type.defaultProps)===null||A===void 0?void 0:A[s],R="hide"in T.props?T.props.hide:(P=T.type.defaultProps)===null||P===void 0?void 0:P.hide;return M===_&&!R}),"number",c),i.defaultProps.allowDataOverflow),b=kM(f,b,_,a)),Ze(Ze({},y),{},Ft({},_,Ze(Ze({axisType:a},i.defaultProps),{},{hide:!0,orientation:ys(Cwe,"".concat(a,".").concat(v%2),null),domain:b,originalDomain:S,isCategorical:g,layout:c})))}return y},{})},Lwe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=xs(c,a),d={};return h&&h.length?d=Nwe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(d=Iwe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),d},Dwe=function(e){var n=uu(e),r=fl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:cO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:N_(n,r)}},Kk=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ua(n,Wd),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},kwe=function(e){return!e||!e.length?!1:e.some(function(n){var r=pl(n&&n.type);return r&&r.indexOf("Bar")>=0})},Zk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Fwe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,c=r.height,f=r.children,h=r.margin||{},d=Ua(f,Wd),g=Ua(f,Qc),v=Object.keys(l).reduce(function(b,T){var A=l[T],P=A.orientation;return!A.mirror&&!A.hide?Ze(Ze({},b),{},Ft({},P,b[P]+A.width)):b},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(b,T){var A=s[T],P=A.orientation;return!A.mirror&&!A.hide?Ze(Ze({},b),{},Ft({},P,ys(b,"".concat(P))+A.height)):b},{top:h.top||0,bottom:h.bottom||0}),x=Ze(Ze({},y),v),w=x.bottom;d&&(x.bottom+=d.props.height||Wd.defaultProps.height),g&&n&&(x=Ype(x,i,r,n));var _=u-x.left-x.right,S=c-x.top-x.bottom;return Ze(Ze({brushBottom:w},x),{},{width:Math.max(_,0),height:Math.max(S,0)})},Uwe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},i7=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var _=w.graphicalItems,S=w.stackGroups,b=w.offset,T=w.updateId,A=w.dataStartIndex,P=w.dataEndIndex,M=x.barSize,R=x.layout,D=x.barGap,L=x.barCategoryGap,B=x.maxBarSize,G=Zk(R),z=G.numericAxisName,Z=G.cateAxisName,ee=kwe(_),U=[];return _.forEach(function(H,X){var F=AS(x.data,{graphicalItems:[H],dataStartIndex:A,dataEndIndex:P}),N=H.type.defaultProps!==void 0?Ze(Ze({},H.type.defaultProps),H.props):H.props,V=N.dataKey,Y=N.maxBarSize,q=N["".concat(z,"Id")],ae=N["".concat(Z,"Id")],pe={},ye=l.reduce(function(Le,lt){var Q=w["".concat(lt.axisType,"Map")],K=N["".concat(lt.axisType,"Id")];Q&&Q[K]||lt.axisType==="zAxis"||yf();var xe=Q[K];return Ze(Ze({},Le),{},Ft(Ft({},lt.axisType,xe),"".concat(lt.axisType,"Ticks"),fl(xe)))},pe),ge=ye[Z],Se=ye["".concat(Z,"Ticks")],we=S&&S[q]&&S[q].hasStack&&l0e(H,S[q].stackGroups),W=pl(H.type).indexOf("Bar")>=0,Pe=N_(ge,Se),ve=[],Ie=ee&&$pe({barSize:M,stackGroups:S,totalSize:Uwe(ye,Z)});if(W){var be,Ae,Ne=tn(Y)?B:Y,He=(be=(Ae=N_(ge,Se,!0))!==null&&Ae!==void 0?Ae:Ne)!==null&&be!==void 0?be:0;ve=Xpe({barGap:D,barCategoryGap:L,bandSize:He!==Pe?He:Pe,sizeList:Ie[ae],maxBarSize:Ne}),He!==Pe&&(ve=ve.map(function(Le){return Ze(Ze({},Le),{},{position:Ze(Ze({},Le.position),{},{offset:Le.position.offset-He/2})})}))}var qe=H&&H.type&&H.type.getComposedData;qe&&U.push({props:Ze(Ze({},qe(Ze(Ze({},ye),{},{displayedData:F,props:x,dataKey:V,item:H,bandSize:Pe,barPosition:ve,offset:b,stackedData:we,layout:R,dataStartIndex:A,dataEndIndex:P}))),{},Ft(Ft(Ft({key:H.key||"item-".concat(X)},z,ye[z]),Z,ye[Z]),"animationId",T)),childIndex:VQ(H,x.children),item:H})}),U},d=function(x,w){var _=x.props,S=x.dataStartIndex,b=x.dataEndIndex,T=x.updateId;if(!x4({props:_}))return null;var A=_.children,P=_.layout,M=_.stackOffset,R=_.data,D=_.reverseStackOrder,L=Zk(P),B=L.numericAxisName,G=L.cateAxisName,z=xs(A,r),Z=a0e(R,z,"".concat(B,"Id"),"".concat(G,"Id"),M,D),ee=l.reduce(function(N,V){var Y="".concat(V.axisType,"Map");return Ze(Ze({},N),{},Ft({},Y,Lwe(_,Ze(Ze({},V),{},{graphicalItems:z,stackGroups:V.axisType===B&&Z,dataStartIndex:S,dataEndIndex:b}))))},{}),U=Fwe(Ze(Ze({},ee),{},{props:_,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(ee).forEach(function(N){ee[N]=c(_,ee[N],U,N.replace("Map",""),n)});var H=ee["".concat(G,"Map")],X=Dwe(H),F=h(_,Ze(Ze({},ee),{},{dataStartIndex:S,dataEndIndex:b,updateId:T,graphicalItems:z,stackGroups:Z,offset:U}));return Ze(Ze({formattedGraphicalItems:F,graphicalItems:z,offset:U,stackGroups:Z},X),ee)},g=function(y){function x(w){var _,S,b;return vwe(this,x),b=_we(this,x,[w]),Ft(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ft(b,"accessibilityManager",new rwe),Ft(b,"handleLegendBBoxUpdate",function(T){if(T){var A=b.state,P=A.dataStartIndex,M=A.dataEndIndex,R=A.updateId;b.setState(Ze({legendBBox:T},d({props:b.props,dataStartIndex:P,dataEndIndex:M,updateId:R},Ze(Ze({},b.state),{},{legendBBox:T}))))}}),Ft(b,"handleReceiveSyncEvent",function(T,A,P){if(b.props.syncId===T){if(P===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(A)}}),Ft(b,"handleBrushChange",function(T){var A=T.startIndex,P=T.endIndex;if(A!==b.state.dataStartIndex||P!==b.state.dataEndIndex){var M=b.state.updateId;b.setState(function(){return Ze({dataStartIndex:A,dataEndIndex:P},d({props:b.props,dataStartIndex:A,dataEndIndex:P,updateId:M},b.state))}),b.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),Ft(b,"handleMouseEnter",function(T){var A=b.getMouseInfo(T);if(A){var P=Ze(Ze({},A),{},{isTooltipActive:!0});b.setState(P),b.triggerSyncEvent(P);var M=b.props.onMouseEnter;Kt(M)&&M(P,T)}}),Ft(b,"triggeredAfterMouseMove",function(T){var A=b.getMouseInfo(T),P=A?Ze(Ze({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(P),b.triggerSyncEvent(P);var M=b.props.onMouseMove;Kt(M)&&M(P,T)}),Ft(b,"handleItemMouseEnter",function(T){b.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Ft(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Ft(b,"handleMouseMove",function(T){T.persist(),b.throttleTriggeredAfterMouseMove(T)}),Ft(b,"handleMouseLeave",function(T){b.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};b.setState(A),b.triggerSyncEvent(A);var P=b.props.onMouseLeave;Kt(P)&&P(A,T)}),Ft(b,"handleOuterEvent",function(T){var A=GQ(T),P=ys(b.props,"".concat(A));if(A&&Kt(P)){var M,R;/.*touch.*/i.test(A)?R=b.getMouseInfo(T.changedTouches[0]):R=b.getMouseInfo(T),P((M=R)!==null&&M!==void 0?M:{},T)}}),Ft(b,"handleClick",function(T){var A=b.getMouseInfo(T);if(A){var P=Ze(Ze({},A),{},{isTooltipActive:!0});b.setState(P),b.triggerSyncEvent(P);var M=b.props.onClick;Kt(M)&&M(P,T)}}),Ft(b,"handleMouseDown",function(T){var A=b.props.onMouseDown;if(Kt(A)){var P=b.getMouseInfo(T);A(P,T)}}),Ft(b,"handleMouseUp",function(T){var A=b.props.onMouseUp;if(Kt(A)){var P=b.getMouseInfo(T);A(P,T)}}),Ft(b,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Ft(b,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&b.handleMouseDown(T.changedTouches[0])}),Ft(b,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&b.handleMouseUp(T.changedTouches[0])}),Ft(b,"handleDoubleClick",function(T){var A=b.props.onDoubleClick;if(Kt(A)){var P=b.getMouseInfo(T);A(P,T)}}),Ft(b,"handleContextMenu",function(T){var A=b.props.onContextMenu;if(Kt(A)){var P=b.getMouseInfo(T);A(P,T)}}),Ft(b,"triggerSyncEvent",function(T){b.props.syncId!==void 0&&cE.emit(fE,b.props.syncId,T,b.eventEmitterSymbol)}),Ft(b,"applySyncEvent",function(T){var A=b.props,P=A.layout,M=A.syncMethod,R=b.state.updateId,D=T.dataStartIndex,L=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)b.setState(Ze({dataStartIndex:D,dataEndIndex:L},d({props:b.props,dataStartIndex:D,dataEndIndex:L,updateId:R},b.state)));else if(T.activeTooltipIndex!==void 0){var B=T.chartX,G=T.chartY,z=T.activeTooltipIndex,Z=b.state,ee=Z.offset,U=Z.tooltipTicks;if(!ee)return;if(typeof M=="function")z=M(U,T);else if(M==="value"){z=-1;for(var H=0;H<U.length;H++)if(U[H].value===T.activeLabel){z=H;break}}var X=Ze(Ze({},ee),{},{x:ee.left,y:ee.top}),F=Math.min(B,X.x+X.width),N=Math.min(G,X.y+X.height),V=U[z]&&U[z].value,Y=BM(b.state,b.props.data,z),q=U[z]?{x:P==="horizontal"?U[z].coordinate:F,y:P==="horizontal"?N:U[z].coordinate}:n7;b.setState(Ze(Ze({},T),{},{activeLabel:V,activeCoordinate:q,activePayload:Y,activeTooltipIndex:z}))}else b.setState(T)}),Ft(b,"renderCursor",function(T){var A,P=b.state,M=P.isTooltipActive,R=P.activeCoordinate,D=P.activePayload,L=P.offset,B=P.activeTooltipIndex,G=P.tooltipAxisBandSize,z=b.getTooltipEventType(),Z=(A=T.props.active)!==null&&A!==void 0?A:M,ee=b.props.layout,U=T.key||"_recharts-cursor";return Te.createElement(cwe,{key:U,activeCoordinate:R,activePayload:D,activeTooltipIndex:B,chartName:n,element:T,isActive:Z,layout:ee,offset:L,tooltipAxisBandSize:G,tooltipEventType:z})}),Ft(b,"renderPolarAxis",function(T,A,P){var M=ys(T,"type.axisType"),R=ys(b.state,"".concat(M,"Map")),D=T.type.defaultProps,L=D!==void 0?Ze(Ze({},D),T.props):T.props,B=R&&R[L["".concat(M,"Id")]];return fe.cloneElement(T,Ze(Ze({},B),{},{className:ln(M,B.className),key:T.key||"".concat(A,"-").concat(P),ticks:fl(B,!0)}))}),Ft(b,"renderPolarGrid",function(T){var A=T.props,P=A.radialLines,M=A.polarAngles,R=A.polarRadius,D=b.state,L=D.radiusAxisMap,B=D.angleAxisMap,G=uu(L),z=uu(B),Z=z.cx,ee=z.cy,U=z.innerRadius,H=z.outerRadius;return fe.cloneElement(T,{polarAngles:Array.isArray(M)?M:fl(z,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(R)?R:fl(G,!0).map(function(X){return X.coordinate}),cx:Z,cy:ee,innerRadius:U,outerRadius:H,key:T.key||"polar-grid",radialLines:P})}),Ft(b,"renderLegend",function(){var T=b.state.formattedGraphicalItems,A=b.props,P=A.children,M=A.width,R=A.height,D=b.props.margin||{},L=M-(D.left||0)-(D.right||0),B=$j({children:P,formattedGraphicalItems:T,legendWidth:L,legendContent:u});if(!B)return null;var G=B.item,z=Xk(B,fwe);return fe.cloneElement(G,Ze(Ze({},z),{},{chartWidth:M,chartHeight:R,margin:D,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Ft(b,"renderTooltip",function(){var T,A=b.props,P=A.children,M=A.accessibilityLayer,R=Ua(P,js);if(!R)return null;var D=b.state,L=D.isTooltipActive,B=D.activeCoordinate,G=D.activePayload,z=D.activeLabel,Z=D.offset,ee=(T=R.props.active)!==null&&T!==void 0?T:L;return fe.cloneElement(R,{viewBox:Ze(Ze({},Z),{},{x:Z.left,y:Z.top}),active:ee,label:z,payload:ee?G:[],coordinate:B,accessibilityLayer:M})}),Ft(b,"renderBrush",function(T){var A=b.props,P=A.margin,M=A.data,R=b.state,D=R.offset,L=R.dataStartIndex,B=R.dataEndIndex,G=R.updateId;return fe.cloneElement(T,{key:T.key||"_recharts-brush",onChange:qy(b.handleBrushChange,T.props.onChange),data:M,x:mt(T.props.x)?T.props.x:D.left,y:mt(T.props.y)?T.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:mt(T.props.width)?T.props.width:D.width,startIndex:L,endIndex:B,updateId:"brush-".concat(G)})}),Ft(b,"renderReferenceElement",function(T,A,P){if(!T)return null;var M=b,R=M.clipPathId,D=b.state,L=D.xAxisMap,B=D.yAxisMap,G=D.offset,z=T.type.defaultProps||{},Z=T.props,ee=Z.xAxisId,U=ee===void 0?z.xAxisId:ee,H=Z.yAxisId,X=H===void 0?z.yAxisId:H;return fe.cloneElement(T,{key:T.key||"".concat(A,"-").concat(P),xAxis:L[U],yAxis:B[X],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:R})}),Ft(b,"renderActivePoints",function(T){var A=T.item,P=T.activePoint,M=T.basePoint,R=T.childIndex,D=T.isRange,L=[],B=A.props.key,G=A.item.type.defaultProps!==void 0?Ze(Ze({},A.item.type.defaultProps),A.item.props):A.item.props,z=G.activeDot,Z=G.dataKey,ee=Ze(Ze({index:R,dataKey:Z,cx:P.x,cy:P.y,r:4,fill:kO(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},an(z,!1)),r_(z));return L.push(x.renderActiveDot(z,ee,"".concat(B,"-activePoint-").concat(R))),M?L.push(x.renderActiveDot(z,Ze(Ze({},ee),{},{cx:M.x,cy:M.y}),"".concat(B,"-basePoint-").concat(R))):D&&L.push(null),L}),Ft(b,"renderGraphicChild",function(T,A,P){var M=b.filterFormatItem(T,A,P);if(!M)return null;var R=b.getTooltipEventType(),D=b.state,L=D.isTooltipActive,B=D.tooltipAxis,G=D.activeTooltipIndex,z=D.activeLabel,Z=b.props.children,ee=Ua(Z,js),U=M.props,H=U.points,X=U.isRange,F=U.baseLine,N=M.item.type.defaultProps!==void 0?Ze(Ze({},M.item.type.defaultProps),M.item.props):M.item.props,V=N.activeDot,Y=N.hide,q=N.activeBar,ae=N.activeShape,pe=!!(!Y&&L&&ee&&(V||q||ae)),ye={};R!=="axis"&&ee&&ee.props.trigger==="click"?ye={onClick:qy(b.handleItemMouseEnter,T.props.onClick)}:R!=="axis"&&(ye={onMouseLeave:qy(b.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:qy(b.handleItemMouseEnter,T.props.onMouseEnter)});var ge=fe.cloneElement(T,Ze(Ze({},M.props),ye));function Se(lt){return typeof B.dataKey=="function"?B.dataKey(lt.payload):null}if(pe)if(G>=0){var we,W;if(B.dataKey&&!B.allowDuplicatedCategory){var Pe=typeof B.dataKey=="function"?Se:"payload.".concat(B.dataKey.toString());we=n_(H,Pe,z),W=X&&F&&n_(F,Pe,z)}else we=H==null?void 0:H[G],W=X&&F&&F[G];if(ae||q){var ve=T.props.activeIndex!==void 0?T.props.activeIndex:G;return[fe.cloneElement(T,Ze(Ze(Ze({},M.props),ye),{},{activeIndex:ve})),null,null]}if(!tn(we))return[ge].concat(tp(b.renderActivePoints({item:M,activePoint:we,basePoint:W,childIndex:G,isRange:X})))}else{var Ie,be=(Ie=b.getItemByXY(b.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:ge},Ae=be.graphicalItem,Ne=Ae.item,He=Ne===void 0?T:Ne,qe=Ae.childIndex,Le=Ze(Ze(Ze({},M.props),ye),{},{activeIndex:qe});return[fe.cloneElement(He,Le),null,null]}return X?[ge,null,null]:[ge,null]}),Ft(b,"renderCustomized",function(T,A,P){return fe.cloneElement(T,Ze(Ze({key:"recharts-customized-".concat(P)},b.props),b.state))}),Ft(b,"renderMap",{CartesianGrid:{handler:ex,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:ex},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:ex},YAxis:{handler:ex},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:av("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=Vz(b.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),b.state={},b}return bwe(x,y),xwe(x,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,b=_.data,T=_.height,A=_.layout,P=Ua(S,js);if(P){var M=P.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,D=BM(this.state,b,M,R),L=this.state.tooltipTicks[M].coordinate,B=(this.state.offset.top+T)/2,G=A==="horizontal",z=G?{x:L,y:B}:{y:L,x:B},Z=this.state.formattedGraphicalItems.find(function(U){var H=U.item;return H.type.name==="Scatter"});Z&&(z=Ze(Ze({},z),Z.props.points[M].tooltipPosition),D=Z.props.points[M].tooltipPayload);var ee={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:R,activePayload:D,activeCoordinate:z};this.setState(ee),this.renderCursor(P),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var b,T;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){gA([Ua(_.children,js)],[Ua(this.props.children,js)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ua(this.props.children,js);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,b=S.getBoundingClientRect(),T=vce(b),A={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},P=b.width/S.offsetWidth||1,M=this.inRange(A.chartX,A.chartY,P);if(!M)return null;var R=this.state,D=R.xAxisMap,L=R.yAxisMap,B=this.getTooltipEventType(),G=qk(this.state,this.props.data,this.props.layout,M);if(B!=="axis"&&D&&L){var z=uu(D).scale,Z=uu(L).scale,ee=z&&z.invert?z.invert(A.chartX):null,U=Z&&Z.invert?Z.invert(A.chartY):null;return Ze(Ze({},A),{},{xValue:ee,yValue:U},G)}return G?Ze(Ze({},A),G):null}},{key:"inRange",value:function(_,S){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=_/b,P=S/b;if(T==="horizontal"||T==="vertical"){var M=this.state.offset,R=A>=M.left&&A<=M.left+M.width&&P>=M.top&&P<=M.top+M.height;return R?{x:A,y:P}:null}var D=this.state,L=D.angleAxisMap,B=D.radiusAxisMap;if(L&&B){var G=uu(L);return OD({x:A,y:P},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),b=Ua(_,js),T={};b&&S==="axis"&&(b.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=r_(this.props,this.handleOuterEvent);return Ze(Ze({},A),T)}},{key:"addListener",value:function(){cE.on(fE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cE.removeListener(fE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,b){for(var T=this.state.formattedGraphicalItems,A=0,P=T.length;A<P;A++){var M=T[A];if(M.item===_||M.props.key===_.key||S===pl(M.item.type)&&b===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,b=S.left,T=S.top,A=S.height,P=S.width;return Te.createElement("defs",null,Te.createElement("clipPath",{id:_},Te.createElement("rect",{x:b,y:T,height:A,width:P})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,b){var T=$k(b,2),A=T[0],P=T[1];return Ze(Ze({},S),{},Ft({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,b){var T=$k(b,2),A=T[0],P=T[1];return Ze(Ze({},S),{},Ft({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,b=S.formattedGraphicalItems,T=S.activeItem;if(b&&b.length)for(var A=0,P=b.length;A<P;A++){var M=b[A],R=M.props,D=M.item,L=D.type.defaultProps!==void 0?Ze(Ze({},D.type.defaultProps),D.props):D.props,B=pl(D.type);if(B==="Bar"){var G=(R.data||[]).find(function(U){return eve(_,U)});if(G)return{graphicalItem:M,payload:G}}else if(B==="RadialBar"){var z=(R.data||[]).find(function(U){return OD(_,U)});if(z)return{graphicalItem:M,payload:z}}else if(xS(M,T)||_S(M,T)||xg(M,T)){var Z=rye({graphicalItem:M,activeTooltipItem:T,itemData:L.data}),ee=L.activeIndex===void 0?Z:L.activeIndex;return{graphicalItem:Ze(Ze({},M),{},{childIndex:ee}),payload:xg(M,T)?L.data[Z]:M.props.data[Z]}}}return null}},{key:"render",value:function(){var _=this;if(!x4(this))return null;var S=this.props,b=S.children,T=S.className,A=S.width,P=S.height,M=S.style,R=S.compact,D=S.title,L=S.desc,B=Xk(S,hwe),G=an(B,!1);if(R)return Te.createElement(Ck,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Te.createElement(yA,rd({},G,{width:A,height:P,title:D,desc:L}),this.renderClipPath(),w4(b,this.renderMap)));if(this.props.accessibilityLayer){var z,Z;G.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,G.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",G.onKeyDown=function(U){_.accessibilityManager.keyboardEvent(U)},G.onFocus=function(){_.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return Te.createElement(Ck,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Te.createElement("div",rd({className:ln("recharts-wrapper",T),style:Ze({position:"relative",cursor:"default",width:A,height:P},M)},ee,{ref:function(H){_.container=H}}),Te.createElement(yA,rd({},G,{width:A,height:P,title:D,desc:L,style:Pwe}),this.renderClipPath(),w4(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(fe.Component);Ft(g,"displayName",n),Ft(g,"defaultProps",Ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ft(g,"getDerivedStateFromProps",function(y,x){var w=y.dataKey,_=y.data,S=y.children,b=y.width,T=y.height,A=y.layout,P=y.stackOffset,M=y.margin,R=x.dataStartIndex,D=x.dataEndIndex;if(x.updateId===void 0){var L=Kk(y);return Ze(Ze(Ze({},L),{},{updateId:0},d(Ze(Ze({props:y},L),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:_,prevWidth:b,prevHeight:T,prevLayout:A,prevStackOffset:P,prevMargin:M,prevChildren:S})}if(w!==x.prevDataKey||_!==x.prevData||b!==x.prevWidth||T!==x.prevHeight||A!==x.prevLayout||P!==x.prevStackOffset||!gd(M,x.prevMargin)){var B=Kk(y),G={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},z=Ze(Ze({},qk(x,_,A)),{},{updateId:x.updateId+1}),Z=Ze(Ze(Ze({},B),G),z);return Ze(Ze(Ze({},Z),d(Ze({props:y},Z),x)),{},{prevDataKey:w,prevData:_,prevWidth:b,prevHeight:T,prevLayout:A,prevStackOffset:P,prevMargin:M,prevChildren:S})}if(!gA(S,x.prevChildren)){var ee,U,H,X,F=Ua(S,Wd),N=F&&(ee=(U=F.props)===null||U===void 0?void 0:U.startIndex)!==null&&ee!==void 0?ee:R,V=F&&(H=(X=F.props)===null||X===void 0?void 0:X.endIndex)!==null&&H!==void 0?H:D,Y=N!==R||V!==D,q=!tn(_),ae=q&&!Y?x.updateId:x.updateId+1;return Ze(Ze({updateId:ae},d(Ze(Ze({props:y},x),{},{updateId:ae,dataStartIndex:N,dataEndIndex:V}),x)),{},{prevChildren:S,dataStartIndex:N,dataEndIndex:V})}return null}),Ft(g,"renderActiveDot",function(y,x,w){var _;return fe.isValidElement(y)?_=fe.cloneElement(y,x):Kt(y)?_=y(x):_=Te.createElement(UO,x),Te.createElement(yr,{className:"recharts-active-dot",key:w},_)});var v=fe.forwardRef(function(x,w){return Te.createElement(g,rd({},x,{ref:w}))});return v.displayName=g.displayName,v},Bwe=i7({chartName:"LineChart",GraphicalChild:hv,axisComponents:[{axisType:"xAxis",AxisComp:Zd},{axisType:"yAxis",AxisComp:Qd}],formatAxisMap:SH}),zwe=i7({chartName:"BarChart",GraphicalChild:Df,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zd},{axisType:"yAxis",AxisComp:Qd}],formatAxisMap:SH});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jwe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hwe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Rn=(t,e)=>{const n=fe.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>fe.createElement("svg",{ref:c,...jwe,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Hwe(t)}`,o].join(" "),...u},[...e.map(([f,h])=>fe.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Rn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Rn("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wwe=Rn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gwe=Rn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vwe=Rn("Cable",[["path",{d:"M4 9a2 2 0 0 1-2-2V5h6v2a2 2 0 0 1-2 2Z",key:"1s6oa5"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M7 5V3",key:"1t1388"}],["path",{d:"M19 15V6.5a3.5 3.5 0 0 0-7 0v11a3.5 3.5 0 0 1-7 0V9",key:"1ytv72"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M22 19h-6v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2Z",key:"sdz6o8"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $we=Rn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xwe=Rn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Rn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ywe=Rn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Rn("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qwe=Rn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kwe=Rn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zwe=Rn("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jwe=Rn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qwe=Rn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eSe=Rn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tSe=Rn("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=Rn("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nSe=Rn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rSe=Rn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=Rn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iSe=Rn("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Rn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Rn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),tx=({title:t,value:e,subtitle:n,icon:r,color:i})=>{const a={cyan:"from-cyan-500/20 to-cyan-600/20 border-cyan-500/30",blue:"from-blue-500/20 to-blue-600/20 border-blue-500/30",purple:"from-purple-500/20 to-purple-600/20 border-purple-500/30",red:"from-red-500/20 to-red-600/20 border-red-500/30",green:"from-green-500/20 to-green-600/20 border-green-500/30"};return O.jsx("div",{className:`card-glow bg-gradient-to-br ${a[i]} p-6 rounded-xl`,children:O.jsxs("div",{className:"flex items-start justify-between",children:[O.jsxs("div",{children:[O.jsx("p",{className:"text-sm text-gray-400 mb-2",children:t}),O.jsx("p",{className:"text-3xl font-bold text-white mb-1",children:e}),O.jsx("p",{className:"text-xs text-gray-500",children:n})]}),O.jsx("div",{className:"text-2xl opacity-50",children:r})]})})},aSe=()=>{const[t]=fe.useState([{id:1,type:"error",message:"15 cables exceeding voltage drop limit in Building 8",time:"now"},{id:2,type:"warning",message:"3 trays overfill/limit in Comber C",time:"9min"},{id:3,type:"info",message:"3 unrouted cables in Pariel A",time:"2min"}]),e=[{name:"PHF-03",fill:88},{name:"PHF-05",fill:87},{name:"PHF-07",fill:88},{name:"PHF-12",fill:79}],n=[{id:"PHF-03",size:"300 x 100",fill:88,cables:16},{id:"PHF-12",size:"400 x 75",fill:87,cables:24},{id:"PHF-07",size:"400 x 100",fill:88,cables:27},{id:"PHF-16",size:"500 x 100",fill:79,cables:32}];return O.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[O.jsxs("div",{className:"flex items-center justify-between mb-8",children:[O.jsxs("div",{children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Executive Summary"}),O.jsx("p",{className:"text-gray-400",children:"Project L-03  Cable Engineering Dashboard"})]}),O.jsxs("div",{className:"flex gap-3",children:[O.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:[O.jsx(Kwe,{className:"w-4 h-4"}),"Filter"]}),O.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors",children:[O.jsx(YO,{className:"w-4 h-4"}),"Export"]})]})]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[O.jsx(tx,{title:"Total Cables",value:"12,347",subtitle:"Total Cables",icon:O.jsx(Vwe,{}),color:"cyan"}),O.jsx(tx,{title:"Total Trays",value:"731",subtitle:"Total Trays",icon:O.jsx(Ag,{}),color:"blue"}),O.jsx(tx,{title:"Overfilled Trays",value:"52",subtitle:"Requires Action",icon:O.jsx(fm,{}),color:"red"}),O.jsx(tx,{title:"Cables Pending Ver",value:"2:3",subtitle:"Verification Status",icon:O.jsx(Xwe,{}),color:"purple"})]}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[O.jsxs("div",{className:"lg:col-span-2 card-glow p-6 rounded-xl",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Cable Load Distribution"}),O.jsx(yL,{width:"100%",height:300,children:O.jsxs(Bwe,{data:[{name:"Building A",power:240},{name:"Building C",power:140},{name:"Cluster 1S",power:220},{name:"Admin",power:100}],children:[O.jsx(CM,{strokeDasharray:"3 3",stroke:"#334155"}),O.jsx(Zd,{dataKey:"name",stroke:"#9ca3af"}),O.jsx(Qd,{stroke:"#9ca3af"}),O.jsx(js,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),O.jsx(Qc,{}),O.jsx(hv,{type:"monotone",dataKey:"power",stroke:"#06b6d4",strokeWidth:2,name:"Power Load (kW)"})]})})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Tray Fill Status"}),O.jsx(yL,{width:"100%",height:300,children:O.jsxs(zwe,{data:e,children:[O.jsx(CM,{strokeDasharray:"3 3",stroke:"#334155"}),O.jsx(Zd,{dataKey:"name",stroke:"#9ca3af"}),O.jsx(Qd,{stroke:"#9ca3af"}),O.jsx(js,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),O.jsx(Df,{dataKey:"fill",fill:"#22d3ee"})]})})]})]}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[O.jsxs("div",{className:"lg:col-span-2 card-glow p-6 rounded-xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tray Fill Heatmap"}),O.jsx("button",{className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 text-sm font-medium transition-colors",children:"Aute Quite"})]}),O.jsx("div",{className:"grid grid-cols-8 gap-2 mb-6",children:Array.from({length:64}).map((r,i)=>{const a=Math.random()*100,s=a>80?"bg-red-500/60":a>60?"bg-orange-500/60":"bg-cyan-500/30";return O.jsx("div",{className:`w-8 h-8 rounded ${s} cursor-pointer hover:scale-110 transition-transform`,title:`${a.toFixed(0)}%`},i)})}),O.jsxs("div",{className:"flex gap-4 justify-center text-xs",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-3 h-3 rounded bg-cyan-500/30"}),O.jsx("span",{className:"text-gray-400",children:"<50.00%"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-3 h-3 rounded bg-orange-500/60"}),O.jsx("span",{className:"text-gray-400",children:"50 - 50%"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-3 h-3 rounded bg-red-500/60"}),O.jsx("span",{className:"text-gray-400",children:"> 80%"})]})]})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Cable Length | Alsi"}),O.jsx("div",{className:"bg-slate-900/50 rounded-lg p-6 mb-6",children:O.jsxs("div",{className:"text-center",children:[O.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Drum"}),O.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Estimation"}),O.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"+ 143,680 m"}),O.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"required"}),O.jsx("p",{className:"text-xs text-gray-500",children:"(4 types"})]})})]}),O.jsxs("div",{className:"lg:col-span-2 card-glow p-6 rounded-xl",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Top Trays/Issues"}),O.jsx("div",{className:"overflow-x-auto",children:O.jsxs("table",{className:"w-full text-sm",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"border-b border-gray-600",children:[O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Tray"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Size"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Fill %"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Cables"})]})}),O.jsx("tbody",{children:n.map(r=>O.jsxs("tr",{className:"border-b border-gray-700 hover:bg-cyan-500/10 transition-colors",children:[O.jsx("td",{className:"py-3 px-4 text-gray-300 font-medium",children:r.id}),O.jsx("td",{className:"py-3 px-4 text-gray-400",children:r.size}),O.jsx("td",{className:"py-3 px-4",children:O.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.fill>80?"bg-red-500/20 text-red-400":"bg-cyan-500/20 text-cyan-400"}`,children:[r.fill,"%"]})}),O.jsx("td",{className:"py-3 px-4 text-gray-400",children:r.cables})]},r.id))})]})})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Smart Notifications"}),O.jsx("div",{className:"space-y-3",children:t.map(r=>O.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-slate-800/40 border border-gray-700",children:[O.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${r.type==="error"?"bg-red-500":r.type==="warning"?"bg-orange-500":"bg-blue-500"}`}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("p",{className:"text-xs text-gray-300",children:r.message}),O.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.time})]}),O.jsx("button",{className:"text-gray-500 hover:text-gray-400",children:O.jsx(g1,{className:"w-3 h-3"})})]},r.id))}),O.jsxs("div",{className:"mt-6 flex gap-2 text-xs",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),O.jsx("span",{className:"text-gray-500",children:"Power"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),O.jsx("span",{className:"text-gray-500",children:"Control"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),O.jsx("span",{className:"text-gray-500",children:"Instrumen"})]})]})]})]})]})};function o7(t,e){return function(){return t.apply(e,arguments)}}const{toString:sSe}=Object.prototype,{getPrototypeOf:KO}=Object,{iterator:MS,toStringTag:l7}=Symbol,CS=(t=>e=>{const n=sSe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ao=t=>(t=t.toLowerCase(),e=>CS(e)===t),PS=t=>e=>typeof e===t,{isArray:Mp}=Array,np=PS("undefined");function dv(t){return t!==null&&!np(t)&&t.constructor!==null&&!np(t.constructor)&&va(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const u7=ao("ArrayBuffer");function oSe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&u7(t.buffer),e}const lSe=PS("string"),va=PS("function"),c7=PS("number"),pv=t=>t!==null&&typeof t=="object",uSe=t=>t===!0||t===!1,v1=t=>{if(CS(t)!=="object")return!1;const e=KO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(l7 in t)&&!(MS in t)},cSe=t=>{if(!pv(t)||dv(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},fSe=ao("Date"),hSe=ao("File"),dSe=ao("Blob"),pSe=ao("FileList"),mSe=t=>pv(t)&&va(t.pipe),gSe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||va(t.append)&&((e=CS(t))==="formdata"||e==="object"&&va(t.toString)&&t.toString()==="[object FormData]"))},vSe=ao("URLSearchParams"),[ySe,xSe,_Se,wSe]=["ReadableStream","Request","Response","Headers"].map(ao),SSe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Mp(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(dv(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(r=0;r<s;r++)o=a[r],e.call(null,t[o],o,t)}}function f7(t,e){if(dv(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const $c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,h7=t=>!np(t)&&t!==$c;function zM(){const{caseless:t,skipUndefined:e}=h7(this)&&this||{},n={},r=(i,a)=>{const s=t&&f7(n,a)||a;v1(n[s])&&v1(i)?n[s]=zM(n[s],i):v1(i)?n[s]=zM({},i):Mp(i)?n[s]=i.slice():(!e||!np(i))&&(n[s]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&mv(arguments[i],r);return n}const bSe=(t,e,n,{allOwnKeys:r}={})=>(mv(e,(i,a)=>{n&&va(i)?t[a]=o7(i,n):t[a]=i},{allOwnKeys:r}),t),ESe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TSe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ASe=(t,e,n,r)=>{let i,a,s;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!r||r(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&KO(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},MSe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},CSe=t=>{if(!t)return null;if(Mp(t))return t;let e=t.length;if(!c7(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},PSe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&KO(Uint8Array)),OSe=(t,e)=>{const r=(t&&t[MS]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},RSe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},NSe=ao("HTMLFormElement"),ISe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),eF=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),LSe=ao("RegExp"),d7=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};mv(n,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(r[a]=s||i)}),Object.defineProperties(t,r)},DSe=t=>{d7(t,(e,n)=>{if(va(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(va(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kSe=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Mp(t)?r(t):r(String(t).split(e)),n},FSe=()=>{},USe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function BSe(t){return!!(t&&va(t.append)&&t[l7]==="FormData"&&t[MS])}const zSe=t=>{const e=new Array(10),n=(r,i)=>{if(pv(r)){if(e.indexOf(r)>=0)return;if(dv(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Mp(r)?[]:{};return mv(r,(s,o)=>{const l=n(s,i+1);!np(l)&&(a[o]=l)}),e[i]=void 0,a}}return r};return n(t,0)},jSe=ao("AsyncFunction"),HSe=t=>t&&(pv(t)||va(t))&&va(t.then)&&va(t.catch),p7=((t,e)=>t?setImmediate:e?((n,r)=>($c.addEventListener("message",({source:i,data:a})=>{i===$c&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),$c.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",va($c.postMessage)),WSe=typeof queueMicrotask<"u"?queueMicrotask.bind($c):typeof process<"u"&&process.nextTick||p7,GSe=t=>t!=null&&va(t[MS]),je={isArray:Mp,isArrayBuffer:u7,isBuffer:dv,isFormData:gSe,isArrayBufferView:oSe,isString:lSe,isNumber:c7,isBoolean:uSe,isObject:pv,isPlainObject:v1,isEmptyObject:cSe,isReadableStream:ySe,isRequest:xSe,isResponse:_Se,isHeaders:wSe,isUndefined:np,isDate:fSe,isFile:hSe,isBlob:dSe,isRegExp:LSe,isFunction:va,isStream:mSe,isURLSearchParams:vSe,isTypedArray:PSe,isFileList:pSe,forEach:mv,merge:zM,extend:bSe,trim:SSe,stripBOM:ESe,inherits:TSe,toFlatObject:ASe,kindOf:CS,kindOfTest:ao,endsWith:MSe,toArray:CSe,forEachEntry:OSe,matchAll:RSe,isHTMLForm:NSe,hasOwnProperty:eF,hasOwnProp:eF,reduceDescriptors:d7,freezeMethods:DSe,toObjectSet:kSe,toCamelCase:ISe,noop:FSe,toFiniteNumber:USe,findKey:f7,global:$c,isContextDefined:h7,isSpecCompliantForm:BSe,toJSONObject:zSe,isAsyncFn:jSe,isThenable:HSe,setImmediate:p7,asap:WSe,isIterable:GSe};function Wt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}je.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const m7=Wt.prototype,g7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{g7[t]={value:t}});Object.defineProperties(Wt,g7);Object.defineProperty(m7,"isAxiosError",{value:!0});Wt.from=(t,e,n,r,i,a)=>{const s=Object.create(m7);je.toFlatObject(t,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Wt.call(s,o,l,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",a&&Object.assign(s,a),s};const VSe=null;function jM(t){return je.isPlainObject(t)||je.isArray(t)}function v7(t){return je.endsWith(t,"[]")?t.slice(0,-2):t}function tF(t,e,n){return t?t.concat(e).map(function(i,a){return i=v7(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function $Se(t){return je.isArray(t)&&!t.some(jM)}const XSe=je.toFlatObject(je,{},null,function(e){return/^is[A-Z]/.test(e)});function OS(t,e,n){if(!je.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=je.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!je.isUndefined(y[v])});const r=n.metaTokens,i=n.visitor||c,a=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(e);if(!je.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(je.isDate(g))return g.toISOString();if(je.isBoolean(g))return g.toString();if(!l&&je.isBlob(g))throw new Wt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(g)||je.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,v,y){let x=g;if(g&&!y&&typeof g=="object"){if(je.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(je.isArray(g)&&$Se(g)||(je.isFileList(g)||je.endsWith(v,"[]"))&&(x=je.toArray(g)))return v=v7(v),x.forEach(function(_,S){!(je.isUndefined(_)||_===null)&&e.append(s===!0?tF([v],S,a):s===null?v:v+"[]",u(_))}),!1}return jM(g)?!0:(e.append(tF(y,v,a),u(g)),!1)}const f=[],h=Object.assign(XSe,{defaultVisitor:c,convertValue:u,isVisitable:jM});function d(g,v){if(!je.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),je.forEach(g,function(x,w){(!(je.isUndefined(x)||x===null)&&i.call(e,x,je.isString(w)?w.trim():w,v,h))===!0&&d(x,v?v.concat(w):[w])}),f.pop()}}if(!je.isObject(t))throw new TypeError("data must be an object");return d(t),e}function nF(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ZO(t,e){this._pairs=[],t&&OS(t,this,e)}const y7=ZO.prototype;y7.append=function(e,n){this._pairs.push([e,n])};y7.toString=function(e){const n=e?function(r){return e.call(this,r,nF)}:nF;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function YSe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function x7(t,e,n){if(!e)return t;const r=n&&n.encode||YSe;je.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=je.isURLSearchParams(e)?e.toString():new ZO(e,n).toString(r),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class rF{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){je.forEach(this.handlers,function(r){r!==null&&e(r)})}}const _7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qSe=typeof URLSearchParams<"u"?URLSearchParams:ZO,KSe=typeof FormData<"u"?FormData:null,ZSe=typeof Blob<"u"?Blob:null,JSe={isBrowser:!0,classes:{URLSearchParams:qSe,FormData:KSe,Blob:ZSe},protocols:["http","https","file","blob","url","data"]},JO=typeof window<"u"&&typeof document<"u",HM=typeof navigator=="object"&&navigator||void 0,QSe=JO&&(!HM||["ReactNative","NativeScript","NS"].indexOf(HM.product)<0),ebe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tbe=JO&&window.location.href||"http://localhost",nbe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JO,hasStandardBrowserEnv:QSe,hasStandardBrowserWebWorkerEnv:ebe,navigator:HM,origin:tbe},Symbol.toStringTag,{value:"Module"})),Ci={...nbe,...JSe};function rbe(t,e){return OS(t,new Ci.classes.URLSearchParams,{visitor:function(n,r,i,a){return Ci.isNode&&je.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function ibe(t){return je.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function abe(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function w7(t){function e(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=a>=n.length;return s=!s&&je.isArray(i)?i.length:s,l?(je.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):((!i[s]||!je.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],a)&&je.isArray(i[s])&&(i[s]=abe(i[s])),!o)}if(je.isFormData(t)&&je.isFunction(t.entries)){const n={};return je.forEachEntry(t,(r,i)=>{e(ibe(r),i,n,0)}),n}return null}function sbe(t,e,n){if(je.isString(t))try{return(e||JSON.parse)(t),je.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const gv={transitional:_7,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=je.isObject(e);if(a&&je.isHTMLForm(e)&&(e=new FormData(e)),je.isFormData(e))return i?JSON.stringify(w7(e)):e;if(je.isArrayBuffer(e)||je.isBuffer(e)||je.isStream(e)||je.isFile(e)||je.isBlob(e)||je.isReadableStream(e))return e;if(je.isArrayBufferView(e))return e.buffer;if(je.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rbe(e,this.formSerializer).toString();if((o=je.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return OS(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),sbe(e)):e}],transformResponse:[function(e){const n=this.transitional||gv.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(je.isResponse(e)||je.isReadableStream(e))return e;if(e&&je.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?Wt.from(o,Wt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ci.classes.FormData,Blob:Ci.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],t=>{gv.headers[t]={}});const obe=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lbe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&obe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},iF=Symbol("internals");function A0(t){return t&&String(t).trim().toLowerCase()}function y1(t){return t===!1||t==null?t:je.isArray(t)?t.map(y1):String(t)}function ube(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const cbe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function pE(t,e,n,r,i){if(je.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!je.isString(e)){if(je.isString(r))return e.indexOf(r)!==-1;if(je.isRegExp(r))return r.test(e)}}function fbe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function hbe(t,e){const n=je.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let ya=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(o,l,u){const c=A0(l);if(!c)throw new Error("header name must be a non-empty string");const f=je.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=y1(o))}const s=(o,l)=>je.forEach(o,(u,c)=>a(u,c,l));if(je.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(je.isString(e)&&(e=e.trim())&&!cbe(e))s(lbe(e),n);else if(je.isObject(e)&&je.isIterable(e)){let o={},l,u;for(const c of e){if(!je.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(l=o[u])?je.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(o,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=A0(e),e){const r=je.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return ube(i);if(je.isFunction(n))return n.call(this,i,r);if(je.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=A0(e),e){const r=je.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||pE(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(s){if(s=A0(s),s){const o=je.findKey(r,s);o&&(!n||pE(r,r[o],o,n))&&(delete r[o],i=!0)}}return je.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||pE(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return je.forEach(this,(i,a)=>{const s=je.findKey(r,a);if(s){n[s]=y1(i),delete n[a];return}const o=e?fbe(a):String(a).trim();o!==a&&delete n[a],n[o]=y1(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return je.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&je.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[iF]=this[iF]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=A0(s);r[o]||(hbe(i,s),r[o]=!0)}return je.isArray(e)?e.forEach(a):a(e),this}};ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(ya.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});je.freezeMethods(ya);function mE(t,e){const n=this||gv,r=e||n,i=ya.from(r.headers);let a=r.data;return je.forEach(t,function(o){a=o.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function S7(t){return!!(t&&t.__CANCEL__)}function Cp(t,e,n){Wt.call(this,t??"canceled",Wt.ERR_CANCELED,e,n),this.name="CanceledError"}je.inherits(Cp,Wt,{__CANCEL__:!0});function b7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Wt("Request failed with status code "+n.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function dbe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function pbe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[a];s||(s=u),n[i]=l,r[i]=u;let f=a,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-s<e)return;const d=c&&u-c;return d?Math.round(h*1e3/d):void 0}}function mbe(t,e){let n=0,r=1e3/e,i,a;const s=(u,c=Date.now())=>{n=c,i=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=r?s(u,c):(i=u,a||(a=setTimeout(()=>{a=null,s(i)},r-f)))},()=>i&&s(i)]}const nw=(t,e,n=3)=>{let r=0;const i=pbe(50,250);return mbe(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,l=s-r,u=i(l),c=s<=o;r=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-s)/u:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},aF=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},sF=t=>(...e)=>je.asap(()=>t(...e)),gbe=Ci.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ci.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ci.origin),Ci.navigator&&/(msie|trident)/i.test(Ci.navigator.userAgent)):()=>!0,vbe=Ci.hasStandardBrowserEnv?{write(t,e,n,r,i,a,s){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];je.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),je.isString(r)&&o.push(`path=${r}`),je.isString(i)&&o.push(`domain=${i}`),a===!0&&o.push("secure"),je.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ybe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function xbe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function E7(t,e,n){let r=!ybe(e);return t&&(r||n==!1)?xbe(t,e):e}const oF=t=>t instanceof ya?{...t}:t;function _f(t,e){e=e||{};const n={};function r(u,c,f,h){return je.isPlainObject(u)&&je.isPlainObject(c)?je.merge.call({caseless:h},u,c):je.isPlainObject(c)?je.merge({},c):je.isArray(c)?c.slice():c}function i(u,c,f,h){if(je.isUndefined(c)){if(!je.isUndefined(u))return r(void 0,u,f,h)}else return r(u,c,f,h)}function a(u,c){if(!je.isUndefined(c))return r(void 0,c)}function s(u,c){if(je.isUndefined(c)){if(!je.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function o(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,c,f)=>i(oF(u),oF(c),f,!0)};return je.forEach(Object.keys({...t,...e}),function(c){const f=l[c]||i,h=f(t[c],e[c],c);je.isUndefined(h)&&f!==o||(n[c]=h)}),n}const T7=t=>{const e=_f({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=e;if(e.headers=s=ya.from(s),e.url=x7(E7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),je.isFormData(n)){if(Ci.hasStandardBrowserEnv||Ci.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(je.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,f])=>{u.includes(c.toLowerCase())&&s.set(c,f)})}}if(Ci.hasStandardBrowserEnv&&(r&&je.isFunction(r)&&(r=r(e)),r||r!==!1&&gbe(e.url))){const l=i&&a&&vbe.read(a);l&&s.set(i,l)}return e},_be=typeof XMLHttpRequest<"u",wbe=_be&&function(t){return new Promise(function(n,r){const i=T7(t);let a=i.data;const s=ya.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,c,f,h,d,g;function v(){d&&d(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;const _=ya.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:_,config:t,request:y};b7(function(A){n(A),v()},function(A){r(A),v()},b),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(r(new Wt("Request aborted",Wt.ECONNABORTED,t,y)),y=null)},y.onerror=function(S){const b=S&&S.message?S.message:"Network Error",T=new Wt(b,Wt.ERR_NETWORK,t,y);T.event=S||null,r(T),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const b=i.transitional||_7;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new Wt(S,b.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,t,y)),y=null},a===void 0&&s.setContentType(null),"setRequestHeader"in y&&je.forEach(s.toJSON(),function(S,b){y.setRequestHeader(b,S)}),je.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),u&&([h,g]=nw(u,!0),y.addEventListener("progress",h)),l&&y.upload&&([f,d]=nw(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",d)),(i.cancelToken||i.signal)&&(c=_=>{y&&(r(!_||_.type?new Cp(null,t,y):_),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const w=dbe(i.url);if(w&&Ci.protocols.indexOf(w)===-1){r(new Wt("Unsupported protocol "+w+":",Wt.ERR_BAD_REQUEST,t));return}y.send(a||null)})},Sbe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(u){if(!i){i=!0,o();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Wt?c:new Cp(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,a(new Wt(`timeout ${e} of ms exceeded`,Wt.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>je.asap(o),l}},bbe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Ebe=async function*(t,e){for await(const n of Tbe(t))yield*bbe(n,e)},Tbe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},lF=(t,e,n,r)=>{const i=Ebe(t,e);let a=0,s,o=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){o(),l.close();return}let f=c.byteLength;if(n){let h=a+=f;n(h)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},uF=64*1024,{isFunction:nx}=je,Abe=(({Request:t,Response:e})=>({Request:t,Response:e}))(je.global),{ReadableStream:cF,TextEncoder:fF}=je.global,hF=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Mbe=t=>{t=je.merge.call({skipUndefined:!0},Abe,t);const{fetch:e,Request:n,Response:r}=t,i=e?nx(e):typeof fetch=="function",a=nx(n),s=nx(r);if(!i)return!1;const o=i&&nx(cF),l=i&&(typeof fF=="function"?(g=>v=>g.encode(v))(new fF):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=a&&o&&hF(()=>{let g=!1;const v=new n(Ci.origin,{body:new cF,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),c=s&&o&&hF(()=>je.isReadableStream(new r("").body)),f={stream:c&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(v,y)=>{let x=v&&v[g];if(x)return x.call(v);throw new Wt(`Response type '${g}' is not supported`,Wt.ERR_NOT_SUPPORT,y)})});const h=async g=>{if(g==null)return 0;if(je.isBlob(g))return g.size;if(je.isSpecCompliantForm(g))return(await new n(Ci.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(je.isArrayBufferView(g)||je.isArrayBuffer(g))return g.byteLength;if(je.isURLSearchParams(g)&&(g=g+""),je.isString(g))return(await l(g)).byteLength},d=async(g,v)=>{const y=je.toFiniteNumber(g.getContentLength());return y??h(v)};return async g=>{let{url:v,method:y,data:x,signal:w,cancelToken:_,timeout:S,onDownloadProgress:b,onUploadProgress:T,responseType:A,headers:P,withCredentials:M="same-origin",fetchOptions:R}=T7(g),D=e||fetch;A=A?(A+"").toLowerCase():"text";let L=Sbe([w,_&&_.toAbortSignal()],S),B=null;const G=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let z;try{if(T&&u&&y!=="get"&&y!=="head"&&(z=await d(P,x))!==0){let F=new n(v,{method:"POST",body:x,duplex:"half"}),N;if(je.isFormData(x)&&(N=F.headers.get("content-type"))&&P.setContentType(N),F.body){const[V,Y]=aF(z,nw(sF(T)));x=lF(F.body,uF,V,Y)}}je.isString(M)||(M=M?"include":"omit");const Z=a&&"credentials"in n.prototype,ee={...R,signal:L,method:y.toUpperCase(),headers:P.normalize().toJSON(),body:x,duplex:"half",credentials:Z?M:void 0};B=a&&new n(v,ee);let U=await(a?D(B,R):D(v,ee));const H=c&&(A==="stream"||A==="response");if(c&&(b||H&&G)){const F={};["status","statusText","headers"].forEach(q=>{F[q]=U[q]});const N=je.toFiniteNumber(U.headers.get("content-length")),[V,Y]=b&&aF(N,nw(sF(b),!0))||[];U=new r(lF(U.body,uF,V,()=>{Y&&Y(),G&&G()}),F)}A=A||"text";let X=await f[je.findKey(f,A)||"text"](U,g);return!H&&G&&G(),await new Promise((F,N)=>{b7(F,N,{data:X,headers:ya.from(U.headers),status:U.status,statusText:U.statusText,config:g,request:B})})}catch(Z){throw G&&G(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,g,B),{cause:Z.cause||Z}):Wt.from(Z,Z&&Z.code,g,B)}}},Cbe=new Map,A7=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let s=a.length,o=s,l,u,c=Cbe;for(;o--;)l=a[o],u=c.get(l),u===void 0&&c.set(l,u=o?new Map:Mbe(e)),c=u;return u};A7();const QO={http:VSe,xhr:wbe,fetch:{get:A7}};je.forEach(QO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const dF=t=>`- ${t}`,Pbe=t=>je.isFunction(t)||t===null||t===!1;function Obe(t,e){t=je.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let s=0;s<n;s++){r=t[s];let o;if(i=r,!Pbe(r)&&(i=QO[(o=String(r)).toLowerCase()],i===void 0))throw new Wt(`Unknown adapter '${o}'`);if(i&&(je.isFunction(i)||(i=i.get(e))))break;a[o||"#"+s]=i}if(!i){const s=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?s.length>1?`since :
`+s.map(dF).join(`
`):" "+dF(s[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const M7={getAdapter:Obe,adapters:QO};function gE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cp(null,t)}function pF(t){return gE(t),t.headers=ya.from(t.headers),t.data=mE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),M7.getAdapter(t.adapter||gv.adapter,t)(t).then(function(r){return gE(t),r.data=mE.call(t,t.transformResponse,r),r.headers=ya.from(r.headers),r},function(r){return S7(r)||(gE(t),r&&r.response&&(r.response.data=mE.call(t,t.transformResponse,r.response),r.response.headers=ya.from(r.response.headers))),Promise.reject(r)})}const C7="1.13.2",RS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{RS[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const mF={};RS.transitional=function(e,n,r){function i(a,s){return"[Axios v"+C7+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,o)=>{if(e===!1)throw new Wt(i(s," has been removed"+(n?" in "+n:"")),Wt.ERR_DEPRECATED);return n&&!mF[s]&&(mF[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,o):!0}};RS.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Rbe(t,e,n){if(typeof t!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const o=t[a],l=o===void 0||s(o,a,t);if(l!==!0)throw new Wt("option "+a+" must be "+l,Wt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Wt("Unknown option "+a,Wt.ERR_BAD_OPTION)}}const x1={assertOptions:Rbe,validators:RS},yo=x1.validators;let nf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new rF,response:new rF}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_f(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&x1.assertOptions(r,{silentJSONParsing:yo.transitional(yo.boolean),forcedJSONParsing:yo.transitional(yo.boolean),clarifyTimeoutError:yo.transitional(yo.boolean)},!1),i!=null&&(je.isFunction(i)?n.paramsSerializer={serialize:i}:x1.assertOptions(i,{encode:yo.function,serialize:yo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),x1.assertOptions(n,{baseUrl:yo.spelling("baseURL"),withXsrfToken:yo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&je.merge(a.common,a[n.method]);a&&je.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=ya.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,f=0,h;if(!l){const g=[pF.bind(this),void 0];for(g.unshift(...o),g.push(...u),h=g.length,c=Promise.resolve(n);f<h;)c=c.then(g[f++],g[f++]);return c}h=o.length;let d=n;for(;f<h;){const g=o[f++],v=o[f++];try{d=g(d)}catch(y){v.call(this,y);break}}try{c=pF.call(this,d)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=_f(this.defaults,e);const n=E7(e.baseURL,e.url,e.allowAbsoluteUrls);return x7(n,e.params,e.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(e){nf.prototype[e]=function(n,r){return this.request(_f(r||{},{method:e,url:n,data:(r||{}).data}))}});je.forEach(["post","put","patch"],function(e){function n(r){return function(a,s,o){return this.request(_f(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}nf.prototype[e]=n(),nf.prototype[e+"Form"]=n(!0)});let Nbe=class P7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{r.subscribe(o),a=o}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,o){r.reason||(r.reason=new Cp(a,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new P7(function(i){e=i}),cancel:e}}};function Ibe(t){return function(n){return t.apply(null,n)}}function Lbe(t){return je.isObject(t)&&t.isAxiosError===!0}const WM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(WM).forEach(([t,e])=>{WM[e]=t});function O7(t){const e=new nf(t),n=o7(nf.prototype.request,e);return je.extend(n,nf.prototype,e,{allOwnKeys:!0}),je.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return O7(_f(t,i))},n}const Fn=O7(gv);Fn.Axios=nf;Fn.CanceledError=Cp;Fn.CancelToken=Nbe;Fn.isCancel=S7;Fn.VERSION=C7;Fn.toFormData=OS;Fn.AxiosError=Wt;Fn.Cancel=Fn.CanceledError;Fn.all=function(e){return Promise.all(e)};Fn.spread=Ibe;Fn.isAxiosError=Lbe;Fn.mergeConfig=_f;Fn.AxiosHeaders=ya;Fn.formToJSON=t=>w7(je.isHTMLForm(t)?new FormData(t):t);Fn.getAdapter=M7.getAdapter;Fn.HttpStatusCode=WM;Fn.default=Fn;const{Axios:LUe,AxiosError:DUe,CanceledError:kUe,isCancel:FUe,CancelToken:UUe,VERSION:BUe,all:zUe,Cancel:jUe,isAxiosError:HUe,spread:WUe,toFormData:GUe,AxiosHeaders:VUe,HttpStatusCode:$Ue,formToJSON:XUe,getAdapter:YUe,mergeConfig:qUe}=Fn;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var rw={};rw.version="0.18.5";var R7=1252,Dbe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],N7=function(t){Dbe.indexOf(t)!=-1&&(R7=t)};function kbe(){N7(1252)}var Mg=function(t){N7(t)};function Fbe(){Mg(1200),kbe()}var rx=function(e){return String.fromCharCode(e)},gF=function(e){return String.fromCharCode(e)},iw,pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Cg(t){for(var e="",n=0,r=0,i=0,a=0,s=0,o=0,l=0,u=0;u<t.length;)n=t.charCodeAt(u++),a=n>>2,r=t.charCodeAt(u++),s=(n&3)<<4|r>>4,i=t.charCodeAt(u++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=pu.charAt(a)+pu.charAt(s)+pu.charAt(o)+pu.charAt(l);return e}function Pl(t){var e="",n=0,r=0,i=0,a=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)a=pu.indexOf(t.charAt(u++)),s=pu.indexOf(t.charAt(u++)),n=a<<2|s>>4,e+=String.fromCharCode(n),o=pu.indexOf(t.charAt(u++)),r=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=pu.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var mn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ul=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function wf(t){return mn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function vF(t){return mn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ys=function(e){return mn?Ul(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function NS(t){if(typeof ArrayBuffer>"u")return Ys(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function vv(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Ube(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var li=mn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ul(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Bbe(t){for(var e=[],n=0,r=t.length+250,i=wf(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|o>>6&15|(s&3)<<4,i[n++]=128|o&63}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|s&63;n>r&&(e.push(i.slice(0,n)),n=0,i=wf(65535),r=65530)}return e.push(i.slice(0,n)),li(e)}var hm=/\u0000/g,ix=/[\u0001-\u0006]/g;function xd(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Zs(t,e){var n=""+t;return n.length>=e?n:or("0",e-n.length)+n}function e3(t,e){var n=""+t;return n.length>=e?n:or(" ",e-n.length)+n}function aw(t,e){var n=""+t;return n.length>=e?n:n+or(" ",e-n.length)}function zbe(t,e){var n=""+Math.round(t);return n.length>=e?n:or("0",e-n.length)+n}function jbe(t,e){var n=""+t;return n.length>=e?n:or("0",e-n.length)+n}var yF=Math.pow(2,32);function hh(t,e){if(t>yF||t<-yF)return zbe(t,e);var n=Math.round(t);return jbe(n,e)}function sw(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var xF=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],vE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Hbe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},_F={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Wbe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ow(t,e,n){for(var r=t<0?-1:1,i=t*r,a=0,s=1,o=0,l=1,u=0,c=0,f=Math.floor(i);u<e&&(f=Math.floor(i),o=f*s+a,c=f*u+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=a):(c=u,o=s)),!n)return[0,r*o,c];var h=Math.floor(r*o/c);return[h,r*o-h*c,c]}function ax(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),a=0,s=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)s=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=Kbe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var I7=new Date(1899,11,31,0,0,0),Gbe=I7.getTime(),Vbe=new Date(1900,2,1,0,0,0);function L7(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Vbe&&(n+=24*60*60*1e3),(n-(Gbe+(t.getTimezoneOffset()-I7.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function t3(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $be(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Xbe(t){var e=t<0?12:11,n=t3(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Ybe(t){var e=t3(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function qbe(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Xbe(t):e===10?n=t.toFixed(10).substr(0,12):n=Ybe(t),t3($be(n.toUpperCase()))}function GM(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):qbe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Lu(14,L7(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Kbe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Zbe(t,e,n,r){var i="",a=0,s=0,o=n.y,l,u=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,u=e.length;break;case 3:return vE[n.m-1][1];case 5:return vE[n.m-1][0];default:return vE[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,u=e.length;break;case 3:return xF[n.q][0];default:return xF[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Zs(n.S,e.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(n.S+n.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Zs(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?Zs(l,u):"";return c}function mu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var D7=/%/g;function Jbe(t,e,n){var r=e.replace(D7,""),i=e.length-r.length;return vl(t,r,n*Math.pow(10,2*i))+or("%",i)}function Qbe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return vl(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function k7(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+k7(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var F7=/# (\?+)( ?)\/( ?)(\d+)/;function e2e(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),a=Math.floor(i/r),s=i-a*r,o=r;return n+(a===0?"":""+a)+" "+(s===0?or(" ",t[1].length+1+t[4].length):e3(s,t[1].length)+t[2]+"/"+t[3]+Zs(o,t[4].length))}function t2e(t,e,n){return n+(e===0?"":""+e)+or(" ",t[1].length+2+t[4].length)}var U7=/^#*0*\.([0#]+)/,B7=/\).*[0#]/,z7=/\(###\) ###\\?-####/;function Xi(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function wF(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function SF(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function n2e(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function r2e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function us(t,e,n){if(t.charCodeAt(0)===40&&!e.match(B7)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?us("n",r,n):"("+us("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Qbe(t,e,n);if(e.indexOf("%")!==-1)return Jbe(t,e,n);if(e.indexOf("E")!==-1)return k7(e,n);if(e.charCodeAt(0)===36)return"$"+us(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),u=n<0?"-":"";if(e.match(/^00+$/))return u+hh(l,e.length);if(e.match(/^[#?]+$/))return i=hh(n,0),i==="0"&&(i=""),i.length>e.length?i:Xi(e.substr(0,e.length-i.length))+i;if(a=e.match(F7))return e2e(a,l,u);if(e.match(/^#+0+$/))return u+hh(l,e.length-e.indexOf("0"));if(a=e.match(U7))return i=wF(n,a[1].length).replace(/^([^\.]+)$/,"$1."+Xi(a[1])).replace(/\.$/,"."+Xi(a[1])).replace(/\.(\d*)$/,function(g,v){return"."+v+or("0",Xi(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+wF(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+mu(hh(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+us(t,e,-n):mu(""+(Math.floor(n)+n2e(n,a[1].length)))+"."+Zs(SF(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return us(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xd(us(t,e.replace(/[\\-]/g,""),n)),s=0,xd(xd(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(e.match(z7))return i=us(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=ow(l,Math.pow(10,s)-1,!1),i=""+u,c=vl("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=aw(o[2],s),c.length<a[4].length&&(c=Xi(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=ow(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?e3(o[1],s)+a[2]+"/"+a[3]+aw(o[2],s):or(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=hh(n,0),e.length<=i.length?i:Xi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,h=e.length-i.length-f;return Xi(e.substr(0,f)+i+e.substr(e.length-h))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=SF(n,a[1].length),n<0?"-"+us(t,e,-n):mu(r2e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Zs(0,3-g.length):"")+g})+"."+Zs(s,a[1].length);switch(e){case"###,##0.00":return us(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var d=mu(hh(l,0));return d!=="0"?u+d:"";case"###,###.00":return us(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return us(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function i2e(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return vl(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function a2e(t,e,n){var r=e.replace(D7,""),i=e.length-r.length;return vl(t,r,n*Math.pow(10,2*i))+or("%",i)}function j7(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+j7(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function xo(t,e,n){if(t.charCodeAt(0)===40&&!e.match(B7)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xo("n",r,n):"("+xo("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return i2e(t,e,n);if(e.indexOf("%")!==-1)return a2e(t,e,n);if(e.indexOf("E")!==-1)return j7(e,n);if(e.charCodeAt(0)===36)return"$"+xo(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),u=n<0?"-":"";if(e.match(/^00+$/))return u+Zs(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Xi(e.substr(0,e.length-i.length))+i;if(a=e.match(F7))return t2e(a,l,u);if(e.match(/^#+0+$/))return u+Zs(l,e.length-e.indexOf("0"));if(a=e.match(U7))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Xi(a[1])).replace(/\.$/,"."+Xi(a[1])),i=i.replace(/\.(\d*)$/,function(g,v){return"."+v+or("0",Xi(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+mu(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xo(t,e,-n):mu(""+n)+"."+or("0",a[1].length);if(a=e.match(/^#,#*,#0/))return xo(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xd(xo(t,e.replace(/[\\-]/g,""),n)),s=0,xd(xd(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(e.match(z7))return i=xo(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=ow(l,Math.pow(10,s)-1,!1),i=""+u,c=vl("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=aw(o[2],s),c.length<a[4].length&&(c=Xi(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=ow(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?e3(o[1],s)+a[2]+"/"+a[3]+aw(o[2],s):or(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Xi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,h=e.length-i.length-f;return Xi(e.substr(0,f)+i+e.substr(e.length-h))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+xo(t,e,-n):mu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Zs(0,3-g.length):"")+g})+"."+Zs(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var d=mu(""+l);return d!=="0"?u+d:"";default:if(e.match(/\.[0#?]*$/))return xo(t,e.slice(0,e.lastIndexOf(".")),n)+Xi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function vl(t,e,n){return(n|0)===n?xo(t,e,n):us(t,e,n)}function s2e(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var H7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function W7(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":sw(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(H7))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function o2e(t,e,n,r){for(var i=[],a="",s=0,o="",l="t",u,c,f,h="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!sw(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var d=t.charAt(++s),g=d==="("||d===")"?d:"t";i[i.length]={t:g,v:d},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(u==null&&(u=ax(e,n,t.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=ax(e,n),u==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(u==null&&(u=ax(e,n)),t.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",h="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",s+=5,h="h"):t.substr(s,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",s+=5,h="h"):(v.t="t",++s),u==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(H7)){if(u==null&&(u=ax(e,n),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",W7(t)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var y=0,x=0,w;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=h,l="h",y<1&&(y=1);break;case"s":(w=i[s].v.match(/\.0+$/))&&(x=Math.max(x,w[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[s].v.match(/[Hh]/)&&(y=1),y<2&&i[s].v.match(/[Mm]/)&&(y=2),y<3&&i[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",S;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Zbe(i[s].t.charCodeAt(0),i[s].v,u,x),i[s].t="t";break;case"n":case"?":for(S=s+1;i[S]!=null&&((o=i[S].t)==="?"||o==="D"||(o===" "||o==="t")&&i[S+1]!=null&&(i[S+1].t==="?"||i[S+1].t==="t"&&i[S+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[S].v==="/"||i[S].v===" "&&i[S+1]!=null&&i[S+1].t=="?"));)i[s].v+=i[S].v,i[S]={v:"",t:";"},++S;_+=i[s].v,s=S-1;break;case"G":i[s].t="t",i[s].v=GM(e,n);break}var b="",T,A;if(_.length>0){_.charCodeAt(0)==40?(T=e<0&&_.charCodeAt(0)===45?-e:e,A=vl("n",_,T)):(T=e<0&&r>1?-e:e,A=vl("n",_,T),T<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),S=A.length-1;var P=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){P=s;break}var M=i.length;if(P===i.length&&A.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(S>=i[s].v.length-1?(S-=i[s].v.length,i[s].v=A.substr(S+1,i[s].v.length)):S<0?i[s].v="":(i[s].v=A.substr(0,S+1),S=-1),i[s].t="t",M=s);S>=0&&M<i.length&&(i[M].v=A.substr(0,S+1)+i[M].v)}else if(P!==i.length&&A.indexOf("E")===-1){for(S=A.indexOf(".")-1,s=P;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===P?i[s].v.indexOf(".")-1:i[s].v.length-1,b=i[s].v.substr(c+1);c>=0;--c)S>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(b=A.charAt(S--)+b);i[s].v=b,i[s].t="t",M=s}for(S>=0&&M<i.length&&(i[M].v=A.substr(0,S+1)+i[M].v),S=A.indexOf(".")+1,s=P;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==P)){for(c=i[s].v.indexOf(".")>-1&&s===P?i[s].v.indexOf(".")+1:0,b=i[s].v.substr(0,c);c<i[s].v.length;++c)S<A.length&&(b+=A.charAt(S++));i[s].v=b,i[s].t="t",M=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(T=r>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=vl(i[s].t,i[s].v,T),i[s].t="t");var R="";for(s=0;s!==i.length;++s)i[s]!=null&&(R+=i[s].v);return R}var bF=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function EF(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function l2e(t,e){var n=s2e(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(bF),o=n[1].match(bF);return EF(e,s)?[r,n[0]]:EF(e,o)?[r,n[1]]:[r,n[s!=null&&o!=null?2:1]]}return[r,a]}function Lu(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:ur)[t],r==null&&(r=n.table&&n.table[_F[t]]||ur[_F[t]]),r==null&&(r=Wbe[t]||"General");break}if(sw(r,0))return GM(e,n);e instanceof Date&&(e=L7(e,n.date1904));var i=l2e(r,e);if(sw(i[1]))return GM(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return o2e(i[1],e,n,i[0])}function G7(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(ur[n]==null){e<0&&(e=n);continue}if(ur[n]==t){e=n;break}}e<0&&(e=391)}return ur[e]=t,e}function IS(t){for(var e=0;e!=392;++e)t[e]!==void 0&&G7(t[e],e)}function LS(){ur=Hbe()}var V7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function u2e(t){var e=typeof t=="number"?ur[t]:t;return e=e.replace(V7,"(\\d+)"),new RegExp("^"+e+"$")}function c2e(t,e,n){var r=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(V7)||[]).forEach(function(f,h){var d=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=d;break;case"d":a=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:i=d;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:r==-1&&i==-1&&a==-1?c:u+"T"+c}var f2e=function(){var t={};t.version="1.2.0";function e(){for(var A=0,P=new Array(256),M=0;M!=256;++M)A=M,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,P[M]=A;return typeof Int32Array<"u"?new Int32Array(P):P}var n=e();function r(A){var P=0,M=0,R=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)D[R]=A[R];for(R=0;R!=256;++R)for(M=A[R],P=256+R;P<4096;P+=256)M=D[P]=M>>>8^A[M&255];var L=[];for(R=1;R!=16;++R)L[R-1]=typeof Int32Array<"u"?D.subarray(R*256,R*256+256):D.slice(R*256,R*256+256);return L}var i=r(n),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],d=i[8],g=i[9],v=i[10],y=i[11],x=i[12],w=i[13],_=i[14];function S(A,P){for(var M=P^-1,R=0,D=A.length;R<D;)M=M>>>8^n[(M^A.charCodeAt(R++))&255];return~M}function b(A,P){for(var M=P^-1,R=A.length-15,D=0;D<R;)M=_[A[D++]^M&255]^w[A[D++]^M>>8&255]^x[A[D++]^M>>16&255]^y[A[D++]^M>>>24]^v[A[D++]]^g[A[D++]]^d[A[D++]]^h[A[D++]]^f[A[D++]]^c[A[D++]]^u[A[D++]]^l[A[D++]]^o[A[D++]]^s[A[D++]]^a[A[D++]]^n[A[D++]];for(R+=15;D<R;)M=M>>>8^n[(M^A[D++])&255];return~M}function T(A,P){for(var M=P^-1,R=0,D=A.length,L=0,B=0;R<D;)L=A.charCodeAt(R++),L<128?M=M>>>8^n[(M^L)&255]:L<2048?(M=M>>>8^n[(M^(192|L>>6&31))&255],M=M>>>8^n[(M^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,B=A.charCodeAt(R++)&1023,M=M>>>8^n[(M^(240|L>>8&7))&255],M=M>>>8^n[(M^(128|L>>2&63))&255],M=M>>>8^n[(M^(128|B>>6&15|(L&3)<<4))&255],M=M>>>8^n[(M^(128|B&63))&255]):(M=M>>>8^n[(M^(224|L>>12&15))&255],M=M>>>8^n[(M^(128|L>>6&63))&255],M=M>>>8^n[(M^(128|L&63))&255]);return~M}return t.table=n,t.bstr=S,t.buf=b,t.str=T,t}(),An=function(){var e={};e.version="1.2.1";function n(J,le){for(var te=J.split("/"),ie=le.split("/"),ue=0,k=0,re=Math.min(te.length,ie.length);ue<re;++ue){if(k=te[ue].length-ie[ue].length)return k;if(te[ue]!=ie[ue])return te[ue]<ie[ue]?-1:1}return te.length-ie.length}function r(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:r(J.slice(0,-1));var le=J.lastIndexOf("/");return le===-1?J:J.slice(0,le+1)}function i(J){if(J.charAt(J.length-1)=="/")return i(J.slice(0,-1));var le=J.lastIndexOf("/");return le===-1?J:J.slice(le+1)}function a(J,le){typeof le=="string"&&(le=new Date(le));var te=le.getHours();te=te<<6|le.getMinutes(),te=te<<5|le.getSeconds()>>>1,J.write_shift(2,te);var ie=le.getFullYear()-1980;ie=ie<<4|le.getMonth()+1,ie=ie<<5|le.getDate(),J.write_shift(2,ie)}function s(J){var le=J.read_shift(2)&65535,te=J.read_shift(2)&65535,ie=new Date,ue=te&31;te>>>=5;var k=te&15;te>>>=4,ie.setMilliseconds(0),ie.setFullYear(te+1980),ie.setMonth(k-1),ie.setDate(ue);var re=le&31;le>>>=5;var me=le&63;return le>>>=6,ie.setHours(le),ie.setMinutes(me),ie.setSeconds(re<<1),ie}function o(J){Ba(J,0);for(var le={},te=0;J.l<=J.length-4;){var ie=J.read_shift(2),ue=J.read_shift(2),k=J.l+ue,re={};switch(ie){case 21589:te=J.read_shift(1),te&1&&(re.mtime=J.read_shift(4)),ue>5&&(te&2&&(re.atime=J.read_shift(4)),te&4&&(re.ctime=J.read_shift(4))),re.mtime&&(re.mt=new Date(re.mtime*1e3));break}J.l=k,le[ie]=re}return le}var l;function u(){return l||(l={})}function c(J,le){if(J[0]==80&&J[1]==75)return ze(J,le);if((J[0]|32)==109&&(J[1]|32)==105)return Qt(J,le);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var te=3,ie=512,ue=0,k=0,re=0,me=0,ne=0,oe=[],_e=J.slice(0,512);Ba(_e,0);var Ue=f(_e);switch(te=Ue[0],te){case 3:ie=512;break;case 4:ie=4096;break;case 0:if(Ue[1]==0)return ze(J,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}ie!==512&&(_e=J.slice(0,ie),Ba(_e,28));var Ge=J.slice(0,ie);h(_e,te);var et=_e.read_shift(4,"i");if(te===3&&et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+et);_e.l+=4,re=_e.read_shift(4,"i"),_e.l+=4,_e.chk("00100000","Mini Stream Cutoff Size: "),me=_e.read_shift(4,"i"),ue=_e.read_shift(4,"i"),ne=_e.read_shift(4,"i"),k=_e.read_shift(4,"i");for(var Ve=-1,Me=0;Me<109&&(Ve=_e.read_shift(4,"i"),!(Ve<0));++Me)oe[Me]=Ve;var ot=d(J,ie);y(ne,k,ot,ie,oe);var Lt=w(ot,re,oe,ie);Lt[re].name="!Directory",ue>0&&me!==B&&(Lt[me].name="!MiniFAT"),Lt[oe[0]].name="!FAT",Lt.fat_addrs=oe,Lt.ssz=ie;var Rt={},rn=[],tr=[],en=[];_(re,Lt,ot,rn,ue,Rt,tr,me),g(tr,en,rn),rn.shift();var Nt={FileIndex:tr,FullPaths:en};return le&&le.raw&&(Nt.raw={header:Ge,sectors:ot}),Nt}function f(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(G,"Header Signature: "),J.l+=16;var le=J.read_shift(2,"u");return[J.read_shift(2,"u"),le]}function h(J,le){var te=9;switch(J.l+=2,te=J.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function d(J,le){for(var te=Math.ceil(J.length/le)-1,ie=[],ue=1;ue<te;++ue)ie[ue-1]=J.slice(ue*le,(ue+1)*le);return ie[te-1]=J.slice(te*le),ie}function g(J,le,te){for(var ie=0,ue=0,k=0,re=0,me=0,ne=te.length,oe=[],_e=[];ie<ne;++ie)oe[ie]=_e[ie]=ie,le[ie]=te[ie];for(;me<_e.length;++me)ie=_e[me],ue=J[ie].L,k=J[ie].R,re=J[ie].C,oe[ie]===ie&&(ue!==-1&&oe[ue]!==ue&&(oe[ie]=oe[ue]),k!==-1&&oe[k]!==k&&(oe[ie]=oe[k])),re!==-1&&(oe[re]=ie),ue!==-1&&ie!=oe[ie]&&(oe[ue]=oe[ie],_e.lastIndexOf(ue)<me&&_e.push(ue)),k!==-1&&ie!=oe[ie]&&(oe[k]=oe[ie],_e.lastIndexOf(k)<me&&_e.push(k));for(ie=1;ie<ne;++ie)oe[ie]===ie&&(k!==-1&&oe[k]!==k?oe[ie]=oe[k]:ue!==-1&&oe[ue]!==ue&&(oe[ie]=oe[ue]));for(ie=1;ie<ne;++ie)if(J[ie].type!==0){if(me=ie,me!=oe[me])do me=oe[me],le[ie]=le[me]+"/"+le[ie];while(me!==0&&oe[me]!==-1&&me!=oe[me]);oe[ie]=-1}for(le[0]+="/",ie=1;ie<ne;++ie)J[ie].type!==2&&(le[ie]+="/")}function v(J,le,te){for(var ie=J.start,ue=J.size,k=[],re=ie;te&&ue>0&&re>=0;)k.push(le.slice(re*L,re*L+L)),ue-=L,re=kc(te,re*4);return k.length===0?Ye(0):li(k).slice(0,J.size)}function y(J,le,te,ie,ue){var k=B;if(J===B){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var re=te[J],me=(ie>>>2)-1;if(!re)return;for(var ne=0;ne<me&&(k=kc(re,ne*4))!==B;++ne)ue.push(k);y(kc(re,ie-4),le-1,te,ie,ue)}}function x(J,le,te,ie,ue){var k=[],re=[];ue||(ue=[]);var me=ie-1,ne=0,oe=0;for(ne=le;ne>=0;){ue[ne]=!0,k[k.length]=ne,re.push(J[ne]);var _e=te[Math.floor(ne*4/ie)];if(oe=ne*4&me,ie<4+oe)throw new Error("FAT boundary crossed: "+ne+" 4 "+ie);if(!J[_e])break;ne=kc(J[_e],oe)}return{nodes:k,data:NF([re])}}function w(J,le,te,ie){var ue=J.length,k=[],re=[],me=[],ne=[],oe=ie-1,_e=0,Ue=0,Ge=0,et=0;for(_e=0;_e<ue;++_e)if(me=[],Ge=_e+le,Ge>=ue&&(Ge-=ue),!re[Ge]){ne=[];var Ve=[];for(Ue=Ge;Ue>=0;){Ve[Ue]=!0,re[Ue]=!0,me[me.length]=Ue,ne.push(J[Ue]);var Me=te[Math.floor(Ue*4/ie)];if(et=Ue*4&oe,ie<4+et)throw new Error("FAT boundary crossed: "+Ue+" 4 "+ie);if(!J[Me]||(Ue=kc(J[Me],et),Ve[Ue]))break}k[Ge]={nodes:me,data:NF([ne])}}return k}function _(J,le,te,ie,ue,k,re,me){for(var ne=0,oe=ie.length?2:0,_e=le[J].data,Ue=0,Ge=0,et;Ue<_e.length;Ue+=128){var Ve=_e.slice(Ue,Ue+128);Ba(Ve,64),Ge=Ve.read_shift(2),et=s3(Ve,0,Ge-oe),ie.push(et);var Me={name:et,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},ot=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);ot!==0&&(Me.ct=S(Ve,Ve.l-8));var Lt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Lt!==0&&(Me.mt=S(Ve,Ve.l-8)),Me.start=Ve.read_shift(4,"i"),Me.size=Ve.read_shift(4,"i"),Me.size<0&&Me.start<0&&(Me.size=Me.type=0,Me.start=B,Me.name=""),Me.type===5?(ne=Me.start,ue>0&&ne!==B&&(le[ne].name="!StreamData")):Me.size>=4096?(Me.storage="fat",le[Me.start]===void 0&&(le[Me.start]=x(te,Me.start,le.fat_addrs,le.ssz)),le[Me.start].name=Me.name,Me.content=le[Me.start].data.slice(0,Me.size)):(Me.storage="minifat",Me.size<0?Me.size=0:ne!==B&&Me.start!==B&&le[ne]&&(Me.content=v(Me,le[ne].data,(le[me]||{}).data))),Me.content&&Ba(Me.content,0),k[et]=Me,re.push(Me)}}function S(J,le){return new Date((ja(J,le+4)/1e7*Math.pow(2,32)+ja(J,le)/1e7-11644473600)*1e3)}function b(J,le){return u(),c(l.readFileSync(J),le)}function T(J,le){var te=le&&le.type;switch(te||mn&&Buffer.isBuffer(J)&&(te="buffer"),te||"base64"){case"file":return b(J,le);case"base64":return c(Ys(Pl(J)),le);case"binary":return c(Ys(J),le)}return c(J,le)}function A(J,le){var te=le||{},ie=te.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=ie+"/",J.FileIndex[0]={name:ie,type:5}),te.CLSID&&(J.FileIndex[0].clsid=te.CLSID),P(J)}function P(J){var le="Sh33tJ5";if(!An.find(J,"/"+le)){var te=Ye(4);te[0]=55,te[1]=te[3]=50,te[2]=54,J.FileIndex.push({name:le,type:2,content:te,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+le),M(J)}}function M(J,le){A(J);for(var te=!1,ie=!1,ue=J.FullPaths.length-1;ue>=0;--ue){var k=J.FileIndex[ue];switch(k.type){case 0:ie?te=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:ie=!0,isNaN(k.R*k.L*k.C)&&(te=!0),k.R>-1&&k.L>-1&&k.R==k.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!le)){var re=new Date(1987,1,19),me=0,ne=Object.create?Object.create(null):{},oe=[];for(ue=0;ue<J.FullPaths.length;++ue)ne[J.FullPaths[ue]]=!0,J.FileIndex[ue].type!==0&&oe.push([J.FullPaths[ue],J.FileIndex[ue]]);for(ue=0;ue<oe.length;++ue){var _e=r(oe[ue][0]);ie=ne[_e],ie||(oe.push([_e,{name:i(_e).replace("/",""),type:1,clsid:Z,ct:re,mt:re,content:null}]),ne[_e]=!0)}for(oe.sort(function(et,Ve){return n(et[0],Ve[0])}),J.FullPaths=[],J.FileIndex=[],ue=0;ue<oe.length;++ue)J.FullPaths[ue]=oe[ue][0],J.FileIndex[ue]=oe[ue][1];for(ue=0;ue<oe.length;++ue){var Ue=J.FileIndex[ue],Ge=J.FullPaths[ue];if(Ue.name=i(Ge).replace("/",""),Ue.L=Ue.R=Ue.C=-(Ue.color=1),Ue.size=Ue.content?Ue.content.length:0,Ue.start=0,Ue.clsid=Ue.clsid||Z,ue===0)Ue.C=oe.length>1?1:-1,Ue.size=0,Ue.type=5;else if(Ge.slice(-1)=="/"){for(me=ue+1;me<oe.length&&r(J.FullPaths[me])!=Ge;++me);for(Ue.C=me>=oe.length?-1:me,me=ue+1;me<oe.length&&r(J.FullPaths[me])!=r(Ge);++me);Ue.R=me>=oe.length?-1:me,Ue.type=1}else r(J.FullPaths[ue+1]||"")==r(Ge)&&(Ue.R=ue+1),Ue.type=2}}}function R(J,le){var te=le||{};if(te.fileType=="mad")return Gt(J,te);switch(M(J),te.fileType){case"zip":return st(J,te)}var ie=function(et){for(var Ve=0,Me=0,ot=0;ot<et.FileIndex.length;++ot){var Lt=et.FileIndex[ot];if(Lt.content){var Rt=Lt.content.length;Rt>0&&(Rt<4096?Ve+=Rt+63>>6:Me+=Rt+511>>9)}}for(var rn=et.FullPaths.length+3>>2,tr=Ve+7>>3,en=Ve+127>>7,Nt=tr+Me+rn+en,jt=Nt+127>>7,It=jt<=109?0:Math.ceil((jt-109)/127);Nt+jt+It+127>>7>jt;)It=++jt<=109?0:Math.ceil((jt-109)/127);var pn=[1,It,jt,en,rn,Me,Ve,0];return et.FileIndex[0].size=Ve<<6,pn[7]=(et.FileIndex[0].start=pn[0]+pn[1]+pn[2]+pn[3]+pn[4]+pn[5])+(pn[6]+7>>3),pn}(J),ue=Ye(ie[7]<<9),k=0,re=0;{for(k=0;k<8;++k)ue.write_shift(1,z[k]);for(k=0;k<8;++k)ue.write_shift(2,0);for(ue.write_shift(2,62),ue.write_shift(2,3),ue.write_shift(2,65534),ue.write_shift(2,9),ue.write_shift(2,6),k=0;k<3;++k)ue.write_shift(2,0);for(ue.write_shift(4,0),ue.write_shift(4,ie[2]),ue.write_shift(4,ie[0]+ie[1]+ie[2]+ie[3]-1),ue.write_shift(4,0),ue.write_shift(4,4096),ue.write_shift(4,ie[3]?ie[0]+ie[1]+ie[2]-1:B),ue.write_shift(4,ie[3]),ue.write_shift(-4,ie[1]?ie[0]-1:B),ue.write_shift(4,ie[1]),k=0;k<109;++k)ue.write_shift(-4,k<ie[2]?ie[1]+k:-1)}if(ie[1])for(re=0;re<ie[1];++re){for(;k<236+re*127;++k)ue.write_shift(-4,k<ie[2]?ie[1]+k:-1);ue.write_shift(-4,re===ie[1]-1?B:re+1)}var me=function(et){for(re+=et;k<re-1;++k)ue.write_shift(-4,k+1);et&&(++k,ue.write_shift(-4,B))};for(re=k=0,re+=ie[1];k<re;++k)ue.write_shift(-4,ee.DIFSECT);for(re+=ie[2];k<re;++k)ue.write_shift(-4,ee.FATSECT);me(ie[3]),me(ie[4]);for(var ne=0,oe=0,_e=J.FileIndex[0];ne<J.FileIndex.length;++ne)_e=J.FileIndex[ne],_e.content&&(oe=_e.content.length,!(oe<4096)&&(_e.start=re,me(oe+511>>9)));for(me(ie[6]+7>>3);ue.l&511;)ue.write_shift(-4,ee.ENDOFCHAIN);for(re=k=0,ne=0;ne<J.FileIndex.length;++ne)_e=J.FileIndex[ne],_e.content&&(oe=_e.content.length,!(!oe||oe>=4096)&&(_e.start=re,me(oe+63>>6)));for(;ue.l&511;)ue.write_shift(-4,ee.ENDOFCHAIN);for(k=0;k<ie[4]<<2;++k){var Ue=J.FullPaths[k];if(!Ue||Ue.length===0){for(ne=0;ne<17;++ne)ue.write_shift(4,0);for(ne=0;ne<3;++ne)ue.write_shift(4,-1);for(ne=0;ne<12;++ne)ue.write_shift(4,0);continue}_e=J.FileIndex[k],k===0&&(_e.start=_e.size?_e.start-1:B);var Ge=k===0&&te.root||_e.name;if(oe=2*(Ge.length+1),ue.write_shift(64,Ge,"utf16le"),ue.write_shift(2,oe),ue.write_shift(1,_e.type),ue.write_shift(1,_e.color),ue.write_shift(-4,_e.L),ue.write_shift(-4,_e.R),ue.write_shift(-4,_e.C),_e.clsid)ue.write_shift(16,_e.clsid,"hex");else for(ne=0;ne<4;++ne)ue.write_shift(4,0);ue.write_shift(4,_e.state||0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,_e.start),ue.write_shift(4,_e.size),ue.write_shift(4,0)}for(k=1;k<J.FileIndex.length;++k)if(_e=J.FileIndex[k],_e.size>=4096)if(ue.l=_e.start+1<<9,mn&&Buffer.isBuffer(_e.content))_e.content.copy(ue,ue.l,0,_e.size),ue.l+=_e.size+511&-512;else{for(ne=0;ne<_e.size;++ne)ue.write_shift(1,_e.content[ne]);for(;ne&511;++ne)ue.write_shift(1,0)}for(k=1;k<J.FileIndex.length;++k)if(_e=J.FileIndex[k],_e.size>0&&_e.size<4096)if(mn&&Buffer.isBuffer(_e.content))_e.content.copy(ue,ue.l,0,_e.size),ue.l+=_e.size+63&-64;else{for(ne=0;ne<_e.size;++ne)ue.write_shift(1,_e.content[ne]);for(;ne&63;++ne)ue.write_shift(1,0)}if(mn)ue.l=ue.length;else for(;ue.l<ue.length;)ue.write_shift(1,0);return ue}function D(J,le){var te=J.FullPaths.map(function(ne){return ne.toUpperCase()}),ie=te.map(function(ne){var oe=ne.split("/");return oe[oe.length-(ne.slice(-1)=="/"?2:1)]}),ue=!1;le.charCodeAt(0)===47?(ue=!0,le=te[0].slice(0,-1)+le):ue=le.indexOf("/")!==-1;var k=le.toUpperCase(),re=ue===!0?te.indexOf(k):ie.indexOf(k);if(re!==-1)return J.FileIndex[re];var me=!k.match(ix);for(k=k.replace(hm,""),me&&(k=k.replace(ix,"!")),re=0;re<te.length;++re)if((me?te[re].replace(ix,"!"):te[re]).replace(hm,"")==k||(me?ie[re].replace(ix,"!"):ie[re]).replace(hm,"")==k)return J.FileIndex[re];return null}var L=64,B=-2,G="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function U(J,le,te){u();var ie=R(J,te);l.writeFileSync(le,ie)}function H(J){for(var le=new Array(J.length),te=0;te<J.length;++te)le[te]=String.fromCharCode(J[te]);return le.join("")}function X(J,le){var te=R(J,le);switch(le&&le.type||"buffer"){case"file":return u(),l.writeFileSync(le.filename,te),te;case"binary":return typeof te=="string"?te:H(te);case"base64":return Cg(typeof te=="string"?te:H(te));case"buffer":if(mn)return Buffer.isBuffer(te)?te:Ul(te);case"array":return typeof te=="string"?Ys(te):te}return te}var F;function N(J){try{var le=J.InflateRaw,te=new le;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)F=J;else throw new Error("zlib does not expose bytesRead")}catch(ie){console.error("cannot use native zlib: "+(ie.message||ie))}}function V(J,le){if(!F)return ut(J,le);var te=F.InflateRaw,ie=new te,ue=ie._processChunk(J.slice(J.l),ie._finishFlushFlag);return J.l+=ie.bytesRead,ue}function Y(J){return F?F.deflateRawSync(J):Ke(J)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(J){var le=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(le>>16|le>>8|le)&255}for(var ge=typeof Uint8Array<"u",Se=ge?new Uint8Array(256):[],we=0;we<256;++we)Se[we]=ye(we);function W(J,le){var te=Se[J&255];return le<=8?te>>>8-le:(te=te<<8|Se[J>>8&255],le<=16?te>>>16-le:(te=te<<8|Se[J>>16&255],te>>>24-le))}function Pe(J,le){var te=le&7,ie=le>>>3;return(J[ie]|(te<=6?0:J[ie+1]<<8))>>>te&3}function ve(J,le){var te=le&7,ie=le>>>3;return(J[ie]|(te<=5?0:J[ie+1]<<8))>>>te&7}function Ie(J,le){var te=le&7,ie=le>>>3;return(J[ie]|(te<=4?0:J[ie+1]<<8))>>>te&15}function be(J,le){var te=le&7,ie=le>>>3;return(J[ie]|(te<=3?0:J[ie+1]<<8))>>>te&31}function Ae(J,le){var te=le&7,ie=le>>>3;return(J[ie]|(te<=1?0:J[ie+1]<<8))>>>te&127}function Ne(J,le,te){var ie=le&7,ue=le>>>3,k=(1<<te)-1,re=J[ue]>>>ie;return te<8-ie||(re|=J[ue+1]<<8-ie,te<16-ie)||(re|=J[ue+2]<<16-ie,te<24-ie)||(re|=J[ue+3]<<24-ie),re&k}function He(J,le,te){var ie=le&7,ue=le>>>3;return ie<=5?J[ue]|=(te&7)<<ie:(J[ue]|=te<<ie&255,J[ue+1]=(te&7)>>8-ie),le+3}function qe(J,le,te){var ie=le&7,ue=le>>>3;return te=(te&1)<<ie,J[ue]|=te,le+1}function Le(J,le,te){var ie=le&7,ue=le>>>3;return te<<=ie,J[ue]|=te&255,te>>>=8,J[ue+1]=te,le+8}function lt(J,le,te){var ie=le&7,ue=le>>>3;return te<<=ie,J[ue]|=te&255,te>>>=8,J[ue+1]=te&255,J[ue+2]=te>>>8,le+16}function Q(J,le){var te=J.length,ie=2*te>le?2*te:le+5,ue=0;if(te>=le)return J;if(mn){var k=vF(ie);if(J.copy)J.copy(k);else for(;ue<J.length;++ue)k[ue]=J[ue];return k}else if(ge){var re=new Uint8Array(ie);if(re.set)re.set(J);else for(;ue<te;++ue)re[ue]=J[ue];return re}return J.length=ie,J}function K(J){for(var le=new Array(J),te=0;te<J;++te)le[te]=0;return le}function xe(J,le,te){var ie=1,ue=0,k=0,re=0,me=0,ne=J.length,oe=ge?new Uint16Array(32):K(32);for(k=0;k<32;++k)oe[k]=0;for(k=ne;k<te;++k)J[k]=0;ne=J.length;var _e=ge?new Uint16Array(ne):K(ne);for(k=0;k<ne;++k)oe[ue=J[k]]++,ie<ue&&(ie=ue),_e[k]=0;for(oe[0]=0,k=1;k<=ie;++k)oe[k+16]=me=me+oe[k-1]<<1;for(k=0;k<ne;++k)me=J[k],me!=0&&(_e[k]=oe[me+16]++);var Ue=0;for(k=0;k<ne;++k)if(Ue=J[k],Ue!=0)for(me=W(_e[k],ie)>>ie-Ue,re=(1<<ie+4-Ue)-1;re>=0;--re)le[me|re<<Ue]=Ue&15|k<<4;return ie}var Je=ge?new Uint16Array(512):K(512),De=ge?new Uint16Array(32):K(32);if(!ge){for(var Fe=0;Fe<512;++Fe)Je[Fe]=0;for(Fe=0;Fe<32;++Fe)De[Fe]=0}(function(){for(var J=[],le=0;le<32;le++)J.push(5);xe(J,De,32);var te=[];for(le=0;le<=143;le++)te.push(8);for(;le<=255;le++)te.push(9);for(;le<=279;le++)te.push(7);for(;le<=287;le++)te.push(8);xe(te,Je,288)})();var tt=function(){for(var le=ge?new Uint8Array(32768):[],te=0,ie=0;te<pe.length-1;++te)for(;ie<pe[te+1];++ie)le[ie]=te;for(;ie<32768;++ie)le[ie]=29;var ue=ge?new Uint8Array(259):[];for(te=0,ie=0;te<ae.length-1;++te)for(;ie<ae[te+1];++ie)ue[ie]=te;function k(me,ne){for(var oe=0;oe<me.length;){var _e=Math.min(65535,me.length-oe),Ue=oe+_e==me.length;for(ne.write_shift(1,+Ue),ne.write_shift(2,_e),ne.write_shift(2,~_e&65535);_e-- >0;)ne[ne.l++]=me[oe++]}return ne.l}function re(me,ne){for(var oe=0,_e=0,Ue=ge?new Uint16Array(32768):[];_e<me.length;){var Ge=Math.min(65535,me.length-_e);if(Ge<10){for(oe=He(ne,oe,+(_e+Ge==me.length)),oe&7&&(oe+=8-(oe&7)),ne.l=oe/8|0,ne.write_shift(2,Ge),ne.write_shift(2,~Ge&65535);Ge-- >0;)ne[ne.l++]=me[_e++];oe=ne.l*8;continue}oe=He(ne,oe,+(_e+Ge==me.length)+2);for(var et=0;Ge-- >0;){var Ve=me[_e];et=(et<<5^Ve)&32767;var Me=-1,ot=0;if((Me=Ue[et])&&(Me|=_e&-32768,Me>_e&&(Me-=32768),Me<_e))for(;me[Me+ot]==me[_e+ot]&&ot<250;)++ot;if(ot>2){Ve=ue[ot],Ve<=22?oe=Le(ne,oe,Se[Ve+1]>>1)-1:(Le(ne,oe,3),oe+=5,Le(ne,oe,Se[Ve-23]>>5),oe+=3);var Lt=Ve<8?0:Ve-4>>2;Lt>0&&(lt(ne,oe,ot-ae[Ve]),oe+=Lt),Ve=le[_e-Me],oe=Le(ne,oe,Se[Ve]>>3),oe-=3;var Rt=Ve<4?0:Ve-2>>1;Rt>0&&(lt(ne,oe,_e-Me-pe[Ve]),oe+=Rt);for(var rn=0;rn<ot;++rn)Ue[et]=_e&32767,et=(et<<5^me[_e])&32767,++_e;Ge-=ot-1}else Ve<=143?Ve=Ve+48:oe=qe(ne,oe,1),oe=Le(ne,oe,Se[Ve]),Ue[et]=_e&32767,++_e}oe=Le(ne,oe,0)-1}return ne.l=(oe+7)/8|0,ne.l}return function(ne,oe){return ne.length<8?k(ne,oe):re(ne,oe)}}();function Ke(J){var le=Ye(50+Math.floor(J.length*1.1)),te=tt(J,le);return le.slice(0,te)}var Re=ge?new Uint16Array(32768):K(32768),ft=ge?new Uint16Array(32768):K(32768),at=ge?new Uint16Array(128):K(128),it=1,Xe=1;function ce(J,le){var te=be(J,le)+257;le+=5;var ie=be(J,le)+1;le+=5;var ue=Ie(J,le)+4;le+=4;for(var k=0,re=ge?new Uint8Array(19):K(19),me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=1,oe=ge?new Uint8Array(8):K(8),_e=ge?new Uint8Array(8):K(8),Ue=re.length,Ge=0;Ge<ue;++Ge)re[q[Ge]]=k=ve(J,le),ne<k&&(ne=k),oe[k]++,le+=3;var et=0;for(oe[0]=0,Ge=1;Ge<=ne;++Ge)_e[Ge]=et=et+oe[Ge-1]<<1;for(Ge=0;Ge<Ue;++Ge)(et=re[Ge])!=0&&(me[Ge]=_e[et]++);var Ve=0;for(Ge=0;Ge<Ue;++Ge)if(Ve=re[Ge],Ve!=0){et=Se[me[Ge]]>>8-Ve;for(var Me=(1<<7-Ve)-1;Me>=0;--Me)at[et|Me<<Ve]=Ve&7|Ge<<3}var ot=[];for(ne=1;ot.length<te+ie;)switch(et=at[Ae(J,le)],le+=et&7,et>>>=3){case 16:for(k=3+Pe(J,le),le+=2,et=ot[ot.length-1];k-- >0;)ot.push(et);break;case 17:for(k=3+ve(J,le),le+=3;k-- >0;)ot.push(0);break;case 18:for(k=11+Ae(J,le),le+=7;k-- >0;)ot.push(0);break;default:ot.push(et),ne<et&&(ne=et);break}var Lt=ot.slice(0,te),Rt=ot.slice(te);for(Ge=te;Ge<286;++Ge)Lt[Ge]=0;for(Ge=ie;Ge<30;++Ge)Rt[Ge]=0;return it=xe(Lt,Re,286),Xe=xe(Rt,ft,30),le}function Be(J,le){if(J[0]==3&&!(J[1]&3))return[wf(le),2];for(var te=0,ie=0,ue=vF(le||1<<18),k=0,re=ue.length>>>0,me=0,ne=0;!(ie&1);){if(ie=ve(J,te),te+=3,ie>>>1)ie>>1==1?(me=9,ne=5):(te=ce(J,te),me=it,ne=Xe);else{te&7&&(te+=8-(te&7));var oe=J[te>>>3]|J[(te>>>3)+1]<<8;if(te+=32,oe>0)for(!le&&re<k+oe&&(ue=Q(ue,k+oe),re=ue.length);oe-- >0;)ue[k++]=J[te>>>3],te+=8;continue}for(;;){!le&&re<k+32767&&(ue=Q(ue,k+32767),re=ue.length);var _e=Ne(J,te,me),Ue=ie>>>1==1?Je[_e]:Re[_e];if(te+=Ue&15,Ue>>>=4,!(Ue>>>8&255))ue[k++]=Ue;else{if(Ue==256)break;Ue-=257;var Ge=Ue<8?0:Ue-4>>2;Ge>5&&(Ge=0);var et=k+ae[Ue];Ge>0&&(et+=Ne(J,te,Ge),te+=Ge),_e=Ne(J,te,ne),Ue=ie>>>1==1?De[_e]:ft[_e],te+=Ue&15,Ue>>>=4;var Ve=Ue<4?0:Ue-2>>1,Me=pe[Ue];for(Ve>0&&(Me+=Ne(J,te,Ve),te+=Ve),!le&&re<et&&(ue=Q(ue,et+100),re=ue.length);k<et;)ue[k]=ue[k-Me],++k}}}return le?[ue,te+7>>>3]:[ue.slice(0,k),te+7>>>3]}function ut(J,le){var te=J.slice(J.l||0),ie=Be(te,le);return J.l+=ie[1],ie[0]}function de(J,le){if(J)typeof console<"u"&&console.error(le);else throw new Error(le)}function ze(J,le){var te=J;Ba(te,0);var ie=[],ue=[],k={FileIndex:ie,FullPaths:ue};A(k,{root:le.root});for(var re=te.length-4;(te[re]!=80||te[re+1]!=75||te[re+2]!=5||te[re+3]!=6)&&re>=0;)--re;te.l=re+4,te.l+=4;var me=te.read_shift(2);te.l+=6;var ne=te.read_shift(4);for(te.l=ne,re=0;re<me;++re){te.l+=20;var oe=te.read_shift(4),_e=te.read_shift(4),Ue=te.read_shift(2),Ge=te.read_shift(2),et=te.read_shift(2);te.l+=8;var Ve=te.read_shift(4),Me=o(te.slice(te.l+Ue,te.l+Ue+Ge));te.l+=Ue+Ge+et;var ot=te.l;te.l=Ve+4,Oe(te,oe,_e,k,Me),te.l=ot}return k}function Oe(J,le,te,ie,ue){J.l+=2;var k=J.read_shift(2),re=J.read_shift(2),me=s(J);if(k&8257)throw new Error("Unsupported ZIP encryption");for(var ne=J.read_shift(4),oe=J.read_shift(4),_e=J.read_shift(4),Ue=J.read_shift(2),Ge=J.read_shift(2),et="",Ve=0;Ve<Ue;++Ve)et+=String.fromCharCode(J[J.l++]);if(Ge){var Me=o(J.slice(J.l,J.l+Ge));(Me[21589]||{}).mt&&(me=Me[21589].mt),((ue||{})[21589]||{}).mt&&(me=ue[21589].mt)}J.l+=Ge;var ot=J.slice(J.l,J.l+oe);switch(re){case 8:ot=V(J,_e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+re)}var Lt=!1;k&8&&(ne=J.read_shift(4),ne==134695760&&(ne=J.read_shift(4),Lt=!0),oe=J.read_shift(4),_e=J.read_shift(4)),oe!=le&&de(Lt,"Bad compressed size: "+le+" != "+oe),_e!=te&&de(Lt,"Bad uncompressed size: "+te+" != "+_e),_r(ie,et,ot,{unsafe:!0,mt:me})}function st(J,le){var te=le||{},ie=[],ue=[],k=Ye(1),re=te.compression?8:0,me=0,ne=0,oe=0,_e=0,Ue=0,Ge=J.FullPaths[0],et=Ge,Ve=J.FileIndex[0],Me=[],ot=0;for(ne=1;ne<J.FullPaths.length;++ne)if(et=J.FullPaths[ne].slice(Ge.length),Ve=J.FileIndex[ne],!(!Ve.size||!Ve.content||et=="Sh33tJ5")){var Lt=_e,Rt=Ye(et.length);for(oe=0;oe<et.length;++oe)Rt.write_shift(1,et.charCodeAt(oe)&127);Rt=Rt.slice(0,Rt.l),Me[Ue]=f2e.buf(Ve.content,0);var rn=Ve.content;re==8&&(rn=Y(rn)),k=Ye(30),k.write_shift(4,67324752),k.write_shift(2,20),k.write_shift(2,me),k.write_shift(2,re),Ve.mt?a(k,Ve.mt):k.write_shift(4,0),k.write_shift(-4,Me[Ue]),k.write_shift(4,rn.length),k.write_shift(4,Ve.content.length),k.write_shift(2,Rt.length),k.write_shift(2,0),_e+=k.length,ie.push(k),_e+=Rt.length,ie.push(Rt),_e+=rn.length,ie.push(rn),k=Ye(46),k.write_shift(4,33639248),k.write_shift(2,0),k.write_shift(2,20),k.write_shift(2,me),k.write_shift(2,re),k.write_shift(4,0),k.write_shift(-4,Me[Ue]),k.write_shift(4,rn.length),k.write_shift(4,Ve.content.length),k.write_shift(2,Rt.length),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(4,0),k.write_shift(4,Lt),ot+=k.l,ue.push(k),ot+=Rt.length,ue.push(Rt),++Ue}return k=Ye(22),k.write_shift(4,101010256),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(2,Ue),k.write_shift(2,Ue),k.write_shift(4,ot),k.write_shift(4,_e),k.write_shift(2,0),li([li(ie),li(ue),k])}var nt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function vt(J,le){if(J.ctype)return J.ctype;var te=J.name||"",ie=te.match(/\.([^\.]+)$/);return ie&&nt[ie[1]]||le&&(ie=(te=le).match(/[\.\\]([^\.\\])+$/),ie&&nt[ie[1]])?nt[ie[1]]:"application/octet-stream"}function Mt(J){for(var le=Cg(J),te=[],ie=0;ie<le.length;ie+=76)te.push(le.slice(ie,ie+76));return te.join(`\r
`)+`\r
`}function Ct(J){var le=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(oe){var _e=oe.charCodeAt(0).toString(16).toUpperCase();return"="+(_e.length==1?"0"+_e:_e)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],ie=le.split(`\r
`),ue=0;ue<ie.length;++ue){var k=ie[ue];if(k.length==0){te.push("");continue}for(var re=0;re<k.length;){var me=76,ne=k.slice(re,re+me);ne.charAt(me-1)=="="?me--:ne.charAt(me-2)=="="?me-=2:ne.charAt(me-3)=="="&&(me-=3),ne=k.slice(re,re+me),re+=me,re<k.length&&(ne+="="),te.push(ne)}}return te.join(`\r
`)}function Et(J){for(var le=[],te=0;te<J.length;++te){for(var ie=J[te];te<=J.length&&ie.charAt(ie.length-1)=="=";)ie=ie.slice(0,ie.length-1)+J[++te];le.push(ie)}for(var ue=0;ue<le.length;++ue)le[ue]=le[ue].replace(/[=][0-9A-Fa-f]{2}/g,function(k){return String.fromCharCode(parseInt(k.slice(1),16))});return Ys(le.join(`\r
`))}function Tt(J,le,te){for(var ie="",ue="",k="",re,me=0;me<10;++me){var ne=le[me];if(!ne||ne.match(/^\s*$/))break;var oe=ne.match(/^(.*?):\s*([^\s].*)$/);if(oe)switch(oe[1].toLowerCase()){case"content-location":ie=oe[2].trim();break;case"content-type":k=oe[2].trim();break;case"content-transfer-encoding":ue=oe[2].trim();break}}switch(++me,ue.toLowerCase()){case"base64":re=Ys(Pl(le.slice(me).join("")));break;case"quoted-printable":re=Et(le.slice(me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ue)}var _e=_r(J,ie.slice(te.length),re,{unsafe:!0});k&&(_e.ctype=k)}function Qt(J,le){if(H(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=le&&le.root||"",ie=(mn&&Buffer.isBuffer(J)?J.toString("binary"):H(J)).split(`\r
`),ue=0,k="";for(ue=0;ue<ie.length;++ue)if(k=ie[ue],!!/^Content-Location:/i.test(k)&&(k=k.slice(k.indexOf("file")),te||(te=k.slice(0,k.lastIndexOf("/")+1)),k.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),k.slice(0,te.length)!=te););var re=(ie[1]||"").match(/boundary="(.*?)"/);if(!re)throw new Error("MAD cannot find boundary");var me="--"+(re[1]||""),ne=[],oe=[],_e={FileIndex:ne,FullPaths:oe};A(_e);var Ue,Ge=0;for(ue=0;ue<ie.length;++ue){var et=ie[ue];et!==me&&et!==me+"--"||(Ge++&&Tt(_e,ie.slice(Ue,ue),te),Ue=ue)}return _e}function Gt(J,le){var te=le||{},ie=te.boundary||"SheetJS";ie="------="+ie;for(var ue=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ie.slice(2)+'"',"","",""],k=J.FullPaths[0],re=k,me=J.FileIndex[0],ne=1;ne<J.FullPaths.length;++ne)if(re=J.FullPaths[ne].slice(k.length),me=J.FileIndex[ne],!(!me.size||!me.content||re=="Sh33tJ5")){re=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var oe=me.content,_e=mn&&Buffer.isBuffer(oe)?oe.toString("binary"):H(oe),Ue=0,Ge=Math.min(1024,_e.length),et=0,Ve=0;Ve<=Ge;++Ve)(et=_e.charCodeAt(Ve))>=32&&et<128&&++Ue;var Me=Ue>=Ge*4/5;ue.push(ie),ue.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+re),ue.push("Content-Transfer-Encoding: "+(Me?"quoted-printable":"base64")),ue.push("Content-Type: "+vt(me,re)),ue.push(""),ue.push(Me?Ct(_e):Mt(_e))}return ue.push(ie+`--\r
`),ue.join(`\r
`)}function Nn(J){var le={};return A(le,J),le}function _r(J,le,te,ie){var ue=ie&&ie.unsafe;ue||A(J);var k=!ue&&An.find(J,le);if(!k){var re=J.FullPaths[0];le.slice(0,re.length)==re?re=le:(re.slice(-1)!="/"&&(re+="/"),re=(re+le).replace("//","/")),k={name:i(le),type:2},J.FileIndex.push(k),J.FullPaths.push(re),ue||An.utils.cfb_gc(J)}return k.content=te,k.size=te?te.length:0,ie&&(ie.CLSID&&(k.clsid=ie.CLSID),ie.mt&&(k.mt=ie.mt),ie.ct&&(k.ct=ie.ct)),k}function Di(J,le){A(J);var te=An.find(J,le);if(te){for(var ie=0;ie<J.FileIndex.length;++ie)if(J.FileIndex[ie]==te)return J.FileIndex.splice(ie,1),J.FullPaths.splice(ie,1),!0}return!1}function wr(J,le,te){A(J);var ie=An.find(J,le);if(ie){for(var ue=0;ue<J.FileIndex.length;++ue)if(J.FileIndex[ue]==ie)return J.FileIndex[ue].name=i(te),J.FullPaths[ue]=te,!0}return!1}function ki(J){M(J,!0)}return e.find=D,e.read=T,e.parse=c,e.write=X,e.writeFile=U,e.utils={cfb_new:Nn,cfb_add:_r,cfb_del:Di,cfb_mov:wr,cfb_gc:ki,ReadShift:pm,CheckField:uW,prep_blob:Ba,bconcat:li,use_zlib:N,_deflateRaw:Ke,_inflateRaw:ut,consts:ee},e}();function h2e(t){return typeof t=="string"?NS(t):Array.isArray(t)?Ube(t):t}function yv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=NS(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Og(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([h2e(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=vv(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function pi(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function TF(t,e){for(var n=[],r=pi(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function n3(t){for(var e=[],n=pi(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function DS(t){for(var e=[],n=pi(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function d2e(t){for(var e=[],n=pi(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var lw=new Date(1899,11,30,0,0,0);function _a(t,e){var n=t.getTime(),r=lw.getTime()+(t.getTimezoneOffset()-lw.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var $7=new Date,p2e=lw.getTime()+($7.getTimezoneOffset()-lw.getTimezoneOffset())*6e4,AF=$7.getTimezoneOffset();function X7(t){var e=new Date;return e.setTime(t*24*60*60*1e3+p2e),e.getTimezoneOffset()!==AF&&e.setTime(e.getTime()+(e.getTimezoneOffset()-AF)*6e4),e}var MF=new Date("2017-02-19T19:06:09.000Z"),Y7=isNaN(MF.getFullYear())?new Date("2/19/17"):MF,m2e=Y7.getFullYear()==2017;function Zi(t,e){var n=new Date(t);if(m2e)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(Y7.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function kS(t,e){if(mn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function wa(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=wa(t[n]));return e}function or(t,e){for(var n="";n.length<e;)n+=t;return n}function yl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(e=Number(r)))?e/n:e}var g2e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Pg(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&g2e.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function Yt(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return mn?r=Ul(n):r=Bbe(n),An.utils.cfb_add(t,e,r)}An.utils.cfb_add(t,e,n)}else t.file(e,n)}function r3(){return An.utils.cfb_new()}var Nr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,v2e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},i3=n3(v2e),a3=/[&<>'"]/g,y2e=/[\u0000-\u0008\u000b-\u001f]/g;function _n(t){var e=t+"";return e.replace(a3,function(n){return i3[n]}).replace(y2e,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function CF(t){return _n(t).replace(/ /g,"_x0020_")}var q7=/[\u0000-\u001f]/g;function x2e(t){var e=t+"";return e.replace(a3,function(n){return i3[n]}).replace(/\n/g,"<br/>").replace(q7,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function _2e(t){var e=t+"";return e.replace(a3,function(n){return i3[n]}).replace(q7,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function w2e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function S2e(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function yE(t){for(var e="",n=0,r=0,i=0,a=0,s=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){s=(r&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function PF(t){var e=wf(2*t.length),n,r,i=1,a=0,s=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=n%256,e[a++]=n>>>8;return e.slice(0,a).toString("ucs2")}function OF(t){return Ul(t,"binary").toString("utf8")}var sx="foo bar baz",dm=mn&&(OF(sx)==yE(sx)&&OF||PF(sx)==yE(sx)&&PF)||yE,Og=mn?function(t){return Ul(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},b2e=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),K7=/(^\s|\s$|\n)/;function ui(t,e){return"<"+t+(e.match(K7)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Rg(t){return pi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function dt(t,e,n){return"<"+t+(n!=null?Rg(n):"")+(e!=null?(e.match(K7)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function VM(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function E2e(t,e){switch(typeof t){case"string":var n=dt("vt:lpwstr",_n(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return dt((t|0)==t?"vt:i4":"vt:r8",_n(String(t)));case"boolean":return dt("vt:bool",t?"true":"false")}if(t instanceof Date)return dt("vt:filetime",VM(t));throw new Error("Unable to serialize "+t)}var Zr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Pp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],za={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function T2e(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function A2e(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=r?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[n+o]=a&255;t[n+6]=(i&15)<<4|a&15,t[n+7]=i>>4|r}var RF=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,a=t[0][r].length;i<a;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},NF=mn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ul(e)})):RF(t)}:RF,IF=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(X0(t,i)));return r.join("").replace(hm,"")},s3=mn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(hm,""):IF(t,e,n)}:IF,LF=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},Z7=mn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):LF(t,e,n)}:LF,DF=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(zh(t,i)));return r.join("")},xv=mn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):DF(e,n,r)}:DF,J7=function(t,e){var n=ja(t,e);return n>0?xv(t,e+4,e+4+n-1):""},Q7=J7,eW=function(t,e){var n=ja(t,e);return n>0?xv(t,e+4,e+4+n-1):""},tW=eW,nW=function(t,e){var n=2*ja(t,e);return n>0?xv(t,e+4,e+4+n-1):""},rW=nW,iW=function(e,n){var r=ja(e,n);return r>0?s3(e,n+4,n+4+r):""},aW=iW,sW=function(t,e){var n=ja(t,e);return n>0?xv(t,e+4,e+4+n):""},oW=sW,lW=function(t,e){return T2e(t,e)},uw=lW,o3=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};mn&&(Q7=function(e,n){if(!Buffer.isBuffer(e))return J7(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},tW=function(e,n){if(!Buffer.isBuffer(e))return eW(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},rW=function(e,n){if(!Buffer.isBuffer(e))return nW(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},aW=function(e,n){if(!Buffer.isBuffer(e))return iW(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},oW=function(e,n){if(!Buffer.isBuffer(e))return sW(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},uw=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):lW(e,n)},o3=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var zh=function(t,e){return t[e]},X0=function(t,e){return t[e+1]*256+t[e]},M2e=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},ja=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},kc=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},C2e=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function pm(t,e){var n="",r,i,a=[],s,o,l,u;switch(e){case"dbcs":if(u=this.l,mn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(X0(this,u)),u+=2;t*=2;break;case"utf8":n=xv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=s3(this,this.l,this.l+t);break;case"wstr":return pm.call(this,t,"dbcs");case"lpstr-ansi":n=Q7(this,this.l),t=4+ja(this,this.l);break;case"lpstr-cp":n=tW(this,this.l),t=4+ja(this,this.l);break;case"lpwstr":n=rW(this,this.l),t=4+2*ja(this,this.l);break;case"lpp4":t=4+ja(this,this.l),n=aW(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ja(this,this.l),n=oW(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(s=zh(this,this.l+t++))!==0;)a.push(rx(s));n=a.join("");break;case"_wstr":for(t=0,n="";(s=X0(this,this.l+t))!==0;)a.push(rx(s)),t+=2;t+=2,n=a.join("");break;case"dbcs-cont":for(n="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=zh(this,u),this.l=u+1,o=pm.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(rx(X0(this,u))),u+=2}n=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=zh(this,u),this.l=u+1,o=pm.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(rx(zh(this,u))),u+=1}n=a.join("");break;default:switch(t){case 1:return r=zh(this,this.l),this.l++,r;case 2:return r=(e==="i"?M2e:X0)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(t>0?kc:C2e)(this,this.l),this.l+=4,r):(i=ja(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=uw(this,this.l):i=uw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=Z7(this,this.l,t);break}}return this.l+=t,n}var P2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},O2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},R2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function N2e(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)R2e(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,P2e(this,e,this.l);break;case 8:if(r=8,n==="f"){A2e(this,e,this.l);break}case 16:break;case-4:r=4,O2e(this,e,this.l);break}return this.l+=r,this}function uW(t,e){var n=Z7(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Ba(t,e){t.l=e,t.read_shift=pm,t.chk=uW,t.write_shift=N2e}function Lo(t,e){t.l+=e}function Ye(t){var e=wf(t);return Ba(e,0),e}function xa(){var t=[],e=mn?256:2048,n=function(u){var c=Ye(u);return Ba(c,0),c},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},a=function(u){return r&&u<r.length-r.l?r:(i(),r=n(Math.max(u+1,e)))},s=function(){return i(),li(t)},o=function(u){i(),r=u,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function rt(t,e,n,r){var i=+e,a;if(!isNaN(i)){r||(r=TPe[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)s.write_shift(1,(r&127)+128),r>>=7;else{s.write_shift(1,r);break}r>0&&o3(n)&&t.push(n)}}function mm(t,e,n){var r=wa(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function kF(t,e,n){var r=wa(t);return r.s=mm(r.s,e.s,n),r.e=mm(r.e,e.s,n),r}function gm(t,e){if(t.cRel&&t.c<0)for(t=wa(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=wa(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Sn(t);return!t.cRel&&t.cRel!=null&&(n=D2e(n)),!t.rRel&&t.rRel!=null&&(n=I2e(n)),n}function xE(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Oi(t.s.c)+":"+(t.e.cRel?"":"$")+Oi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+hi(t.s.r)+":"+(t.e.rRel?"":"$")+hi(t.e.r):gm(t.s,e.biff)+":"+gm(t.e,e.biff)}function l3(t){return parseInt(L2e(t),10)-1}function hi(t){return""+(t+1)}function I2e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function L2e(t){return t.replace(/\$(\d+)$/,"$1")}function u3(t){for(var e=k2e(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Oi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function D2e(t){return t.replace(/^([A-Z])/,"$$$1")}function k2e(t){return t.replace(/^\$([A-Z])/,"$1")}function F2e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Jr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Sn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Ya(t){var e=t.indexOf(":");return e==-1?{s:Jr(t),e:Jr(t)}:{s:Jr(t.slice(0,e)),e:Jr(t.slice(e+1))}}function Rr(t,e){return typeof e>"u"||typeof e=="number"?Rr(t.s,t.e):(typeof t!="string"&&(t=Sn(t)),typeof e!="string"&&(e=Sn(e)),t==e?t:t+":"+e)}function Wn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=t.length;for(n=0;r<a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function FF(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Lu(t.z,n?_a(e):e)}catch{}try{return t.w=Lu((t.XF||{}).numFmtId||(n?14:0),n?_a(e):e)}catch{return""+e}}function Ol(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?_v[t.v]||t.v:e==null?FF(t,t.v):FF(t,e))}function kf(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function cW(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Jr(r.origin):r.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Wn(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var d={v:e[f][h]},g=s+f,v=o+h;if(u.s.r>g&&(u.s.r=g),u.s.c>v&&(u.s.c=v),u.e.r<g&&(u.e.r=g),u.e.c<v&&(u.e.c=v),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))d=e[f][h];else if(Array.isArray(d.v)&&(d.f=e[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(r.nullError)d.t="e",d.v=0;else if(r.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=r.dateNF||ur[14],r.cellDates?(d.t="d",d.w=Lu(d.z,_a(d.v))):(d.t="n",d.v=_a(d.v),d.w=Lu(d.z,d.v))):d.t="s";if(i)a[g]||(a[g]=[]),a[g][v]&&a[g][v].z&&(d.z=a[g][v].z),a[g][v]=d;else{var y=Sn({c:v,r:g});a[y]&&a[y].z&&(d.z=a[y].z),a[y]=d}}}return u.s.c<1e7&&(a["!ref"]=Rr(u)),a}function Op(t,e){return cW(null,t,e)}function U2e(t){return t.read_shift(4,"i")}function eo(t,e){return e||(e=Ye(4)),e.write_shift(4,t),e}function Ri(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Qr(t,e){var n=!1;return e==null&&(n=!0,e=Ye(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function B2e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function z2e(t,e){return e||(e=Ye(4)),e.write_shift(2,0),e.write_shift(2,0),e}function c3(t,e){var n=t.l,r=t.read_shift(1),i=Ri(t),a=[],s={t:i,h:i};if(r&1){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(B2e(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=n+e,s}function j2e(t,e){var n=!1;return e==null&&(n=!0,e=Ye(15+4*t.t.length)),e.write_shift(1,0),Qr(t.t,e),n?e.slice(0,e.l):e}var H2e=c3;function W2e(t,e){var n=!1;return e==null&&(n=!0,e=Ye(23+4*t.t.length)),e.write_shift(1,1),Qr(t.t,e),e.write_shift(4,1),z2e({},e),n?e.slice(0,e.l):e}function Ts(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Ff(t,e){return e==null&&(e=Ye(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Uf(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Bf(t,e){return e==null&&(e=Ye(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var G2e=Ri,fW=Qr;function f3(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function cw(t,e){var n=!1;return e==null&&(n=!0,e=Ye(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var V2e=Ri,$M=f3,h3=cw;function hW(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?uw([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):kc(e,0)>>2;return n?i/100:i}function dW(t,e){e==null&&(e=Ye(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function pW(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function $2e(t,e){return e||(e=Ye(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var zf=pW,Rp=$2e;function Np(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Sf(t,e){return(e||Ye(8)).write_shift(8,t,"f")}function X2e(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=nEe[i];u&&(e.rgb=YF(u));break;case 2:e.rgb=YF([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function fw(t,e){if(e||(e=Ye(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function Y2e(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function q2e(t,e){e||(e=Ye(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var mW=2,ka=3,ox=11,hw=19,lx=64,K2e=65,Z2e=71,J2e=4108,Q2e=4126,oi=80,UF={1:{n:"CodePage",t:mW},2:{n:"Category",t:oi},3:{n:"PresentationFormat",t:oi},4:{n:"ByteCount",t:ka},5:{n:"LineCount",t:ka},6:{n:"ParagraphCount",t:ka},7:{n:"SlideCount",t:ka},8:{n:"NoteCount",t:ka},9:{n:"HiddenCount",t:ka},10:{n:"MultimediaClipCount",t:ka},11:{n:"ScaleCrop",t:ox},12:{n:"HeadingPairs",t:J2e},13:{n:"TitlesOfParts",t:Q2e},14:{n:"Manager",t:oi},15:{n:"Company",t:oi},16:{n:"LinksUpToDate",t:ox},17:{n:"CharacterCount",t:ka},19:{n:"SharedDoc",t:ox},22:{n:"HyperlinksChanged",t:ox},23:{n:"AppVersion",t:ka,p:"version"},24:{n:"DigSig",t:K2e},26:{n:"ContentType",t:oi},27:{n:"ContentStatus",t:oi},28:{n:"Language",t:oi},29:{n:"Version",t:oi},255:{},2147483648:{n:"Locale",t:hw},2147483651:{n:"Behavior",t:hw},1919054434:{}},BF={1:{n:"CodePage",t:mW},2:{n:"Title",t:oi},3:{n:"Subject",t:oi},4:{n:"Author",t:oi},5:{n:"Keywords",t:oi},6:{n:"Comments",t:oi},7:{n:"Template",t:oi},8:{n:"LastAuthor",t:oi},9:{n:"RevNumber",t:oi},10:{n:"EditTime",t:lx},11:{n:"LastPrinted",t:lx},12:{n:"CreatedDate",t:lx},13:{n:"ModifiedDate",t:lx},14:{n:"PageCount",t:ka},15:{n:"WordCount",t:ka},16:{n:"CharCount",t:ka},17:{n:"Thumbnail",t:Z2e},18:{n:"Application",t:oi},19:{n:"DocSecurity",t:ka},255:{},2147483648:{n:"Locale",t:hw},2147483651:{n:"Behavior",t:hw},1919054434:{}};function eEe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var tEe=eEe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nEe=wa(tEe),_v={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},rEe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ux={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function gW(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vW(t,e){var n=d2e(rEe),r=[],i;r[r.length]=Nr,r[r.length]=dt("Types",null,{xmlns:Zr.CT,"xmlns:xsd":Zr.xsd,"xmlns:xsi":Zr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return dt("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=dt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:ux[l][e.bookType]||ux[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(u){r[r.length]=dt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:ux[l][e.bookType]||ux[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){r[r.length]=dt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var fn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function yW(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function _d(t){var e=[Nr,dt("Relationships",null,{xmlns:Zr.RELS})];return pi(t["!id"]).forEach(function(n){e[e.length]=dt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function xn(t,e,n,r,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[fn.HLINK,fn.XPATH,fn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function iEe(t){var e=[Nr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function zF(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function aEe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function sEe(t){var e=[Nr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(zF(t[n][0],t[n][1])),e.push(aEe("",t[n][0]));return e.push(zF("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function xW(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+rw.version+"</meta:generator></office:meta></office:document-meta>"}var rf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function _E(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=_n(e),r[r.length]=n?dt(t,e,n):ui(t,e))}function _W(t,e){var n=e||{},r=[Nr,dt("cp:coreProperties",null,{"xmlns:cp":Zr.CORE_PROPS,"xmlns:dc":Zr.dc,"xmlns:dcterms":Zr.dcterms,"xmlns:dcmitype":Zr.dcmitype,"xmlns:xsi":Zr.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&_E("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:VM(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&_E("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:VM(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=rf.length;++a){var s=rf[a],o=n.Props&&n.Props[s[1]]!=null?n.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&_E(s[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var wd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],wW=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function SW(t){var e=[],n=dt;return t||(t={}),t.Application="SheetJS",e[e.length]=Nr,e[e.length]=dt("Properties",null,{xmlns:Zr.EXT_PROPS,"xmlns:vt":Zr.vt}),wd.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=_n(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+_n(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function bW(t){var e=[Nr,dt("Properties",null,{xmlns:Zr.CUST_PROPS,"xmlns:vt":Zr.vt})];if(!t)return e.join("");var n=1;return pi(t).forEach(function(i){++n,e[e.length]=dt("property",E2e(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:_n(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var jF={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function oEe(t,e){var n=[];return pi(jF).map(function(r){for(var i=0;i<rf.length;++i)if(rf[i][1]==r)return rf[i];for(i=0;i<wd.length;++i)if(wd[i][1]==r)return wd[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(ui(jF[r[1]]||r[1],i))}}),dt("DocumentProperties",n.join(""),{xmlns:za.o})}function lEe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&pi(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<rf.length;++s)if(a==rf[s][1])return;for(s=0;s<wd.length;++s)if(a==wd[s][1])return;for(s=0;s<n.length;++s)if(a==n[s])return;var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(dt(CF(a),o,{"dt:dt":l}))}}),e&&pi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(dt(CF(a),s,{"dt:dt":o}))}}),"<"+r+' xmlns="'+za.o+'">'+i.join("")+"</"+r+">"}function uEe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var s=Ye(8);return s.write_shift(4,r),s.write_shift(4,i),s}function HF(t,e){var n=Ye(4),r=Ye(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=Ye(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=uEe(e);break;case 31:case 80:for(r=Ye(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return li([n,r])}var EW=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function cEe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function WF(t,e,n){var r=Ye(8),i=[],a=[],s=8,o=0,l=Ye(8),u=Ye(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),a.push(l),i.push(u),s+=8+l.length,!e){u=Ye(8),u.write_shift(4,0),i.unshift(u);var c=[Ye(4)];for(c[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=Ye(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=li(c),a.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(EW.indexOf(t[o][0])>-1||wW.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],d=0;if(e){d=+e[t[o][0]];var g=n[d];if(g.p=="version"&&typeof h=="string"){var v=h.split(".");h=(+v[0]<<16)+(+v[1]||0)}l=HF(g.t,h)}else{var y=cEe(h);y==-1&&(y=31,h=String(h)),l=HF(y,h)}a.push(l),u=Ye(8),u.write_shift(4,e?d:2+o),i.push(u),s+=8+l.length}var x=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,x),x+=a[o].length;return r.write_shift(4,s),r.write_shift(4,a.length),li([r].concat(i).concat(a))}function GF(t,e,n,r,i,a){var s=Ye(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,An.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var l=WF(t,n,r);if(o.push(l),i){var u=WF(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(u)}return li(o)}function fEe(t,e){e||(e=Ye(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function hEe(t,e){return t.read_shift(e)===1}function Yi(t,e){return e||(e=Ye(2)),e.write_shift(2,+!!t),e}function TW(t){return t.read_shift(2,"u")}function fs(t,e){return e||(e=Ye(2)),e.write_shift(2,t),e}function AW(t,e,n){return n||(n=Ye(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function MW(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var s=r?t.read_shift(r,i):"";return s}function dEe(t){var e=t.t||"",n=Ye(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=Ye(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return li(i)}function pEe(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function mEe(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):pEe(t,r,n)}function gEe(t,e,n){if(n.biff>5)return mEe(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function CW(t,e,n){return n||(n=Ye(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function VF(t,e){e||(e=Ye(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function vEe(t){var e=Ye(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)e.write_shift(4,s[n]);if(a==28)r=r.slice(1),VF(r,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),a&8&&VF(i>-1?r.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function bf(t,e,n,r){return r||(r=Ye(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function yEe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),a=t.read_shift(r,"i"),s=t.read_shift(r,"i");return[i,a,s]}function xEe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function PW(t,e){return e||(e=Ye(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function d3(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ye(i);return a.write_shift(2,r),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function _Ee(t,e){var n=!e||e.biff==8,r=Ye(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function wEe(t,e){var n=!e||e.biff>=8?2:1,r=Ye(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function SEe(t,e){var n=Ye(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=dEe(t[i]);var a=li([n].concat(r));return a.parts=[n.length].concat(r.map(function(s){return s.length})),a}function bEe(){var t=Ye(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function EEe(t){var e=Ye(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function TEe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,a=Ye(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function AEe(t,e,n,r){var i=Ye(10);return bf(t,e,r,i),i.write_shift(4,n),i}function MEe(t,e,n,r,i){var a=!i||i.biff==8,s=Ye(8+ +a+(1+a)*n.length);return bf(t,e,r,s),s.write_shift(2,n.length),a&&s.write_shift(1,1),s.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),s}function CEe(t,e,n,r){var i=n&&n.biff==5;r||(r=Ye(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function PEe(t,e){var n=e.biff==8||!e.biff?4:2,r=Ye(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function $F(t,e,n,r){var i=n&&n.biff==5;r||(r=Ye(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function OEe(t){var e=Ye(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function REe(t,e,n,r,i,a){var s=Ye(8);return bf(t,e,r,s),AW(n,a,s),s}function NEe(t,e,n,r){var i=Ye(14);return bf(t,e,r,i),Sf(n,i),i}function IEe(t,e,n){if(n.biff<8)return LEe(t,e,n);for(var r=[],i=t.l+e,a=t.read_shift(n.biff>8?4:2);a--!==0;)r.push(yEe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function LEe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=MW(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function DEe(t){var e=Ye(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)PW(t[n],e);return e}function kEe(t){var e=Ye(24),n=Jr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return li([e,vEe(t[1])])}function FEe(t){var e=t[1].Tooltip,n=Ye(10+2*(e.length+1));n.write_shift(2,2048);var r=Jr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function UEe(t){return t||(t=Ye(4)),t.write_shift(2,1),t.write_shift(2,1),t}function BEe(t,e,n){if(!n.cellStyles)return Lo(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),a=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function zEe(t,e){var n=Ye(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function jEe(t){for(var e=Ye(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function HEe(t,e,n){var r=Ye(15);return Sv(r,t,e),r.write_shift(8,n,"f"),r}function WEe(t,e,n){var r=Ye(9);return Sv(r,t,e),r.write_shift(2,n),r}var GEe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=n3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var u=[],c=wf(1);switch(l.type){case"base64":c=Ys(Pl(o));break;case"binary":c=Ys(o);break;case"buffer":case"array":c=o;break}Ba(c,0);var f=c.read_shift(1),h=!!(f&136),d=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,y=521;f==2&&(v=c.read_shift(2)),c.l+=3,f!=2&&(v=c.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(y=c.read_shift(2));var x=c.read_shift(2),w=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(w=t[c[c.l]]),c.l+=1,c.l+=2),g&&(c.l+=36);for(var _=[],S={},b=Math.min(c.length,f==2?521:y-10-(d?264:0)),T=g?32:11;c.l<b&&c[c.l]!=13;)switch(S={},S.name=iw.utils.decode(w,c.slice(c.l,c.l+T)).replace(/[\u0000\r\n].*$/g,""),c.l+=T,S.type=String.fromCharCode(c.read_shift(1)),f!=2&&!g&&(S.offset=c.read_shift(4)),S.len=c.read_shift(1),f==2&&(S.offset=c.read_shift(2)),S.dec=c.read_shift(1),S.name.length&&_.push(S),f!=2&&(c.l+=g?13:14),S.type){case"B":(!d||S.len!=8)&&l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(c[c.l]!==13&&(c.l=y-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=y;var A=0,P=0;for(u[0]=[],P=0;P!=_.length;++P)u[0][P]=_[P].name;for(;v-- >0;){if(c[c.l]===42){c.l+=x;continue}for(++c.l,u[++A]=[],P=0,P=0;P!=_.length;++P){var M=c.slice(c.l,c.l+_[P].len);c.l+=_[P].len,Ba(M,0);var R=iw.utils.decode(w,M);switch(_[P].type){case"C":R.trim().length&&(u[A][P]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[A][P]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[A][P]=R;break;case"F":u[A][P]=parseFloat(R.trim());break;case"+":case"I":u[A][P]=g?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[A][P]=!0;break;case"N":case"F":u[A][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[A][P]="##MEMO##"+(g?parseInt(R.trim(),10):M.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[A][P]=+R||0);break;case"@":u[A][P]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":u[A][P]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":u[A][P]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][P]=-M.read_shift(-8,"f");break;case"B":if(d&&_[P].len==8){u[A][P]=M.read_shift(8,"f");break}case"G":case"P":M.l+=_[P].len;break;case"0":if(_[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[P].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=_,u}function r(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=Op(n(o,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function i(o,l){try{return kf(r(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&Mg(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=xa(),f=vw(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),g=o["!cols"]||[],v=0,y=0,x=0,w=1;for(v=0;v<h.length;++v){if(((g[v]||{}).DBF||{}).name){h[v]=g[v].DBF.name,++x;continue}if(h[v]!=null){if(++x,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(y=0;y<1024;++y)if(h.indexOf(h[v]+"_"+y)==-1){h[v]+="_"+y;break}}}}var _=Wn(o["!ref"]),S=[],b=[],T=[];for(v=0;v<=_.e.c-_.s.c;++v){var A="",P="",M=0,R=[];for(y=0;y<d.length;++y)d[y][v]!=null&&R.push(d[y][v]);if(R.length==0||h[v]==null){S[v]="?";continue}for(y=0;y<R.length;++y){switch(typeof R[y]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=R[y]instanceof Date?"D":"C";break;default:P="C"}M=Math.max(M,String(R[y]).length),A=A&&A!=P?"C":P}M>250&&(M=250),P=((g[v]||{}).DBF||{}).type,P=="C"&&g[v].DBF.len>M&&(M=g[v].DBF.len),A=="B"&&P=="N"&&(A="N",T[v]=g[v].DBF.dec,M=g[v].DBF.len),b[v]=A=="C"||P=="N"?M:a[A]||0,w+=b[v],S[v]=A}var D=c.next(32);for(D.write_shift(4,318902576),D.write_shift(4,d.length),D.write_shift(2,296+32*x),D.write_shift(2,w),v=0;v<4;++v)D.write_shift(4,0);for(D.write_shift(4,0|(+e[R7]||3)<<8),v=0,y=0;v<h.length;++v)if(h[v]!=null){var L=c.next(32),B=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,B,"sbcs"),L.write_shift(1,S[v]=="?"?"C":S[v],"sbcs"),L.write_shift(4,y),L.write_shift(1,b[v]||a[S[v]]||0),L.write_shift(1,T[v]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),y+=b[v]||a[S[v]]||0}var G=c.next(264);for(G.write_shift(4,13),v=0;v<65;++v)G.write_shift(4,0);for(v=0;v<d.length;++v){var z=c.next(w);for(z.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(S[y]){case"L":z.write_shift(1,d[v][y]==null?63:d[v][y]?84:70);break;case"B":z.write_shift(8,d[v][y]||0,"f");break;case"N":var Z="0";for(typeof d[v][y]=="number"&&(Z=d[v][y].toFixed(T[y]||0)),x=0;x<b[y]-Z.length;++x)z.write_shift(1,32);z.write_shift(1,Z,"sbcs");break;case"D":d[v][y]?(z.write_shift(4,("0000"+d[v][y].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(d[v][y].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+d[v][y].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(d[v][y]!=null?d[v][y]:"").slice(0,b[y]);for(z.write_shift(1,ee,"sbcs"),x=0;x<b[y]-ee.length;++x)z.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}}(),VEe=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+pi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,d){var g=t[d];return typeof g=="number"?gF(g):g},r=function(h,d,g){var v=d.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return v==59?h:gF(v)};t["|"]=254;function i(h,d){switch(d.type){case"base64":return a(Pl(h),d);case"binary":return a(h,d);case"buffer":return a(mn&&Buffer.isBuffer(h)?h.toString("binary"):vv(h),d);case"array":return a(kS(h),d)}throw new Error("Unrecognized type "+d.type)}function a(h,d){var g=h.split(/[\n\r]+/),v=-1,y=-1,x=0,w=0,_=[],S=[],b=null,T={},A=[],P=[],M=[],R=0,D;for(+d.codepage>=0&&Mg(+d.codepage);x!==g.length;++x){R=0;var L=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),B=L.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),G=B[0],z;if(L.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&S.push(L.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,ee=!1,U=!1,H=!1,X=-1,F=-1;for(w=1;w<B.length;++w)switch(B[w].charAt(0)){case"A":break;case"X":y=parseInt(B[w].slice(1))-1,ee=!0;break;case"Y":for(v=parseInt(B[w].slice(1))-1,ee||(y=0),D=_.length;D<=v;++D)_[D]=[];break;case"K":z=B[w].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(yl(z))?isNaN(Pg(z).getDate())||(z=Zi(z)):(z=yl(z),b!==null&&W7(b)&&(z=X7(z))),Z=!0;break;case"E":H=!0;var N=WTe(B[w].slice(1),{r:v,c:y});_[v][y]=[_[v][y],N];break;case"S":U=!0,_[v][y]=[_[v][y],"S5S"];break;case"G":break;case"R":X=parseInt(B[w].slice(1))-1;break;case"C":F=parseInt(B[w].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+L)}if(Z&&(_[v][y]&&_[v][y].length==2?_[v][y][0]=z:_[v][y]=z,b=null),U){if(H)throw new Error("SYLK shared formula cannot have own formula");var V=X>-1&&_[X][F];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");_[v][y][1]=GTe(V[1],{r:v-X,c:y-F})}break;case"F":var Y=0;for(w=1;w<B.length;++w)switch(B[w].charAt(0)){case"X":y=parseInt(B[w].slice(1))-1,++Y;break;case"Y":for(v=parseInt(B[w].slice(1))-1,D=_.length;D<=v;++D)_[D]=[];break;case"M":R=parseInt(B[w].slice(1))/20;break;case"F":break;case"G":break;case"P":b=S[parseInt(B[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=B[w].slice(1).split(" "),D=parseInt(M[0],10);D<=parseInt(M[1],10);++D)R=parseInt(M[2],10),P[D-1]=R===0?{hidden:!0}:{wch:R},p3(P[D-1]);break;case"C":y=parseInt(B[w].slice(1))-1,P[y]||(P[y]={});break;case"R":v=parseInt(B[w].slice(1))-1,A[v]||(A[v]={}),R>0?(A[v].hpt=R,A[v].hpx=LW(R)):R===0&&(A[v].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+L)}Y<1&&(b=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+L)}}return A.length>0&&(T["!rows"]=A),P.length>0&&(T["!cols"]=P),d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),[_,T]}function s(h,d){var g=i(h,d),v=g[0],y=g[1],x=Op(v,d);return pi(y).forEach(function(w){x[w]=y[w]}),x}function o(h,d){return kf(s(h,d),d)}function l(h,d,g,v){var y="C;Y"+(g+1)+";X"+(v+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+g3(h.f,{r:g,c:v}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,d){d.forEach(function(g,v){var y="F;W"+(v+1)+" "+(v+1)+" ";g.hidden?y+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=dw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=pw(g.wpx)),typeof g.wch=="number"&&(y+=Math.round(g.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function c(h,d){d.forEach(function(g,v){var y="F;";g.hidden?y+="M0;":g.hpt?y+="M"+20*g.hpt+";":g.hpx&&(y+="M"+20*mw(g.hpx)+";"),y.length>2&&h.push(y+"R"+(v+1))})}function f(h,d){var g=["ID;PWXL;N;E"],v=[],y=Wn(h["!ref"]),x,w=Array.isArray(h),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&c(g,h["!rows"]),g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var S=y.s.r;S<=y.e.r;++S)for(var b=y.s.c;b<=y.e.c;++b){var T=Sn({r:S,c:b});x=w?(h[S]||[])[b]:h[T],!(!x||x.v==null&&(!x.f||x.F))&&v.push(l(x,h,S,b))}return g.join(_)+_+v.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),$Ee=function(){function t(a,s){switch(s.type){case"base64":return e(Pl(a),s);case"binary":return e(a,s);case"buffer":return e(mn&&Buffer.isBuffer(a)?a.toString("binary"):vv(a),s);case"array":return e(kS(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,u=-1,c=0,f=[];c!==o.length;++c){if(o[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[c].trim().split(","),d=h[0],g=h[1];++c;for(var v=o[c]||"";(v.match(/["]/g)||[]).length&1&&c<o.length-1;)v+=`
`+o[++c];switch(v=v.trim(),+d){case-1:if(v==="BOT"){f[++l]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][u]=!0:v==="FALSE"?f[l][u]=!1:isNaN(yl(g))?isNaN(Pg(g).getDate())?f[l][u]=g:f[l][u]=Zi(g):f[l][u]=yl(g),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][u++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function n(a,s){return Op(t(a,s),s)}function r(a,s){return kf(n(a,s),s)}var i=function(){var a=function(l,u,c,f,h){l.push(u),l.push(c+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=Wn(l["!ref"]),f,h=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var d=c.s.r;d<=c.e.r;++d){s(u,-1,0,"BOT");for(var g=c.s.c;g<=c.e.c;++g){var v=Sn({r:d,c:g});if(f=h?(l[d]||[])[g]:l[v],!f){s(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,y,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Lu(f.z||ur[14],_a(Zi(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var x=`\r
`,w=u.join(x);return w}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),OW=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var d=f.split(`
`),g=-1,v=-1,y=0,x=[];y!==d.length;++y){var w=d[y].trim().split(":");if(w[0]==="cell"){var _=Jr(w[1]);if(x.length<=_.r)for(g=x.length;g<=_.r;++g)x[g]||(x[g]=[]);switch(g=_.r,v=_.c,w[2]){case"t":x[g][v]=t(w[3]);break;case"v":x[g][v]=+w[3];break;case"vtf":var S=w[w.length-1];case"vtc":switch(w[3]){case"nl":x[g][v]=!!+w[4];break;default:x[g][v]=+w[4];break}w[2]=="vtf"&&(x[g][v]=[x[g][v],S])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function r(f,h){return Op(n(f,h),h)}function i(f,h){return kf(r(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],g,v="",y=Ya(f["!ref"]),x=Array.isArray(f),w=y.s.r;w<=y.e.r;++w)for(var _=y.s.c;_<=y.e.c;++_)if(v=Sn({r:w,c:_}),g=x?(f[w]||[])[_]:f[v],!(!g||g.v==null||g.t==="z")){switch(d=["cell",v,"t"],g.t){case"s":case"str":d.push(e(g.v));break;case"n":g.f?(d[2]="vtf",d[3]="n",d[4]=g.v,d[5]=e(g.f)):(d[2]="v",d[3]=g.v);break;case"b":d[2]="vt"+(g.f?"f":"c"),d[3]="nl",d[4]=g.v?"1":"0",d[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var S=_a(Zi(g.v));d[2]="vtc",d[3]="nd",d[4]=""+S,d[5]=g.w||Lu(g.z||ur[14],S);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function c(f){return[a,s,o,s,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:c}}(),XEe=function(){function t(c,f,h,d,g){g.raw?f[h][d]=c:c===""||(c==="TRUE"?f[h][d]=!0:c==="FALSE"?f[h][d]=!1:isNaN(yl(c))?isNaN(Pg(c).getDate())?f[h][d]=c:f[h][d]=Zi(c):f[h][d]=yl(c))}function e(c,f){var h=f||{},d=[];if(!c||c.length===0)return d;for(var g=c.split(/[\r\n]/),v=g.length-1;v>=0&&g[v].length===0;)--v;for(var y=10,x=0,w=0;w<=v;++w)x=g[w].indexOf(" "),x==-1?x=g[w].length:x++,y=Math.max(y,x);for(w=0;w<=v;++w){d[w]=[];var _=0;for(t(g[w].slice(0,y).trim(),d,w,_,h),_=1;_<=(g[w].length-y)/10+1;++_)t(g[w].slice(y+(_-1)*10,y+_*10).trim(),d,w,_,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(c){for(var f={},h=!1,d=0,g=0;d<c.length;++d)(g=c.charCodeAt(d))==34?h=!h:!h&&g in n&&(f[g]=(f[g]||0)+1);g=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d]);if(!g.length){f=r;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d])}return g.sort(function(v,y){return v[0]-y[0]||r[v[1]]-r[y[1]]}),n[g.pop()[1]]||44}function a(c,f){var h=f||{},d="",g=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(d=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(d=c.charAt(4),c=c.slice(6)):d=i(c.slice(0,1024)):h&&h.FS?d=h.FS:d=i(c.slice(0,1024));var y=0,x=0,w=0,_=0,S=0,b=d.charCodeAt(0),T=!1,A=0,P=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var M=h.dateNF!=null?u2e(h.dateNF):null;function R(){var D=c.slice(_,S),L={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)L.t="z";else if(h.raw)L.t="s",L.v=D;else if(D.trim().length===0)L.t="s",L.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(L.t="s",L.v=D.slice(2,-1).replace(/""/g,'"')):VTe(D)?(L.t="n",L.f=D.slice(1)):(L.t="s",L.v=D);else if(D=="TRUE")L.t="b",L.v=!0;else if(D=="FALSE")L.t="b",L.v=!1;else if(!isNaN(w=yl(D)))L.t="n",h.cellText!==!1&&(L.w=D),L.v=w;else if(!isNaN(Pg(D).getDate())||M&&D.match(M)){L.z=h.dateNF||ur[14];var B=0;M&&D.match(M)&&(D=c2e(D,h.dateNF,D.match(M)||[]),B=1),h.cellDates?(L.t="d",L.v=Zi(D,B)):(L.t="n",L.v=_a(Zi(D,B))),h.cellText!==!1&&(L.w=Lu(L.z,L.v instanceof Date?_a(L.v):L.v)),h.cellNF||delete L.z}else L.t="s",L.v=D;if(L.t=="z"||(h.dense?(g[y]||(g[y]=[]),g[y][x]=L):g[Sn({c:x,r:y})]=L),_=S+1,P=c.charCodeAt(_),v.e.c<x&&(v.e.c=x),v.e.r<y&&(v.e.r=y),A==b)++x;else if(x=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;S<c.length;++S)switch(A=c.charCodeAt(S)){case 34:P===34&&(T=!T);break;case b:case 10:case 13:if(!T&&R())break e;break}return S-_>0&&R(),g["!ref"]=Rr(v),g}function s(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,f):Op(e(c,f),f)}function o(c,f){var h="",d=f.type=="string"?[0,0,0,0]:aOe(c,f);switch(f.type){case"base64":h=Pl(c);break;case"binary":h=c;break;case"buffer":f.codepage==65001?h=c.toString("utf8"):f.codepage&&typeof iw<"u"||(h=mn&&Buffer.isBuffer(c)?c.toString("binary"):vv(c));break;case"array":h=kS(c);break;case"string":h=c;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=dm(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=dm(h):f.type=="binary"&&typeof iw<"u",h.slice(0,19)=="socialcalc:version:"?OW.to_sheet(f.type=="string"?h:dm(h),f):s(h,f)}function l(c,f){return kf(o(c,f),f)}function u(c){for(var f=[],h=Wn(c["!ref"]),d,g=Array.isArray(c),v=h.s.r;v<=h.e.r;++v){for(var y=[],x=h.s.c;x<=h.e.c;++x){var w=Sn({r:v,c:x});if(d=g?(c[v]||[])[x]:c[w],!d||d.v==null){y.push("          ");continue}for(var _=(d.w||(Ol(d),d.w)||"").slice(0,10);_.length<10;)_+=" ";y.push(_+(x===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),XF=function(){function t(N,V,Y){if(N){Ba(N,N.l||0);for(var q=Y.Enum||X;N.l<N.length;){var ae=N.read_shift(2),pe=q[ae]||q[65535],ye=N.read_shift(2),ge=N.l+ye,Se=pe.f&&pe.f(N,ye,Y);if(N.l=ge,V(Se,pe,ae))return}}}function e(N,V){switch(V.type){case"base64":return n(Ys(Pl(N)),V);case"binary":return n(Ys(N),V);case"buffer":case"array":return n(N,V)}throw"Unsupported type "+V.type}function n(N,V){if(!N)return N;var Y=V||{},q=Y.dense?[]:{},ae="Sheet1",pe="",ye=0,ge={},Se=[],we=[],W={s:{r:0,c:0},e:{r:0,c:0}},Pe=Y.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)Y.Enum=X,t(N,function(Ae,Ne,He){switch(He){case 0:Y.vers=Ae,Ae>=4096&&(Y.qpro=!0);break;case 6:W=Ae;break;case 204:Ae&&(pe=Ae);break;case 222:pe=Ae;break;case 15:case 51:Y.qpro||(Ae[1].v=Ae[1].v.slice(1));case 13:case 14:case 16:He==14&&(Ae[2]&112)==112&&(Ae[2]&15)>1&&(Ae[2]&15)<15&&(Ae[1].z=Y.dateNF||ur[14],Y.cellDates&&(Ae[1].t="d",Ae[1].v=X7(Ae[1].v))),Y.qpro&&Ae[3]>ye&&(q["!ref"]=Rr(W),ge[ae]=q,Se.push(ae),q=Y.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ye=Ae[3],ae=pe||"Sheet"+(ye+1),pe="");var qe=Y.dense?(q[Ae[0].r]||[])[Ae[0].c]:q[Sn(Ae[0])];if(qe){qe.t=Ae[1].t,qe.v=Ae[1].v,Ae[1].z!=null&&(qe.z=Ae[1].z),Ae[1].f!=null&&(qe.f=Ae[1].f);break}Y.dense?(q[Ae[0].r]||(q[Ae[0].r]=[]),q[Ae[0].r][Ae[0].c]=Ae[1]):q[Sn(Ae[0])]=Ae[1];break}},Y);else if(N[2]==26||N[2]==14)Y.Enum=F,N[2]==14&&(Y.qpro=!0,N.l=0),t(N,function(Ae,Ne,He){switch(He){case 204:ae=Ae;break;case 22:Ae[1].v=Ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ae[3]>ye&&(q["!ref"]=Rr(W),ge[ae]=q,Se.push(ae),q=Y.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ye=Ae[3],ae="Sheet"+(ye+1)),Pe>0&&Ae[0].r>=Pe)break;Y.dense?(q[Ae[0].r]||(q[Ae[0].r]=[]),q[Ae[0].r][Ae[0].c]=Ae[1]):q[Sn(Ae[0])]=Ae[1],W.e.c<Ae[0].c&&(W.e.c=Ae[0].c),W.e.r<Ae[0].r&&(W.e.r=Ae[0].r);break;case 27:Ae[14e3]&&(we[Ae[14e3][0]]=Ae[14e3][1]);break;case 1537:we[Ae[0]]=Ae[1],Ae[0]==ye&&(ae=Ae[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(q["!ref"]=Rr(W),ge[pe||ae]=q,Se.push(pe||ae),!we.length)return{SheetNames:Se,Sheets:ge};for(var ve={},Ie=[],be=0;be<we.length;++be)ge[Se[be]]?(Ie.push(we[be]||Se[be]),ve[we[be]]=ge[we[be]]||ge[Se[be]]):(Ie.push(we[be]),ve[we[be]]={"!ref":"A1"});return{SheetNames:Ie,Sheets:ve}}function r(N,V){var Y=V||{};if(+Y.codepage>=0&&Mg(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var q=xa(),ae=Wn(N["!ref"]),pe=Array.isArray(N),ye=[];pt(q,0,a(1030)),pt(q,6,l(ae));for(var ge=Math.min(ae.e.r,8191),Se=ae.s.r;Se<=ge;++Se)for(var we=hi(Se),W=ae.s.c;W<=ae.e.c;++W){Se===ae.s.r&&(ye[W]=Oi(W));var Pe=ye[W]+we,ve=pe?(N[Se]||[])[W]:N[Pe];if(!(!ve||ve.t=="z"))if(ve.t=="n")(ve.v|0)==ve.v&&ve.v>=-32768&&ve.v<=32767?pt(q,13,d(Se,W,ve.v)):pt(q,14,v(Se,W,ve.v));else{var Ie=Ol(ve);pt(q,15,f(Se,W,Ie.slice(0,239)))}}return pt(q,1),q.end()}function i(N,V){var Y=V||{};if(+Y.codepage>=0&&Mg(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var q=xa();pt(q,0,s(N));for(var ae=0,pe=0;ae<N.SheetNames.length;++ae)(N.Sheets[N.SheetNames[ae]]||{})["!ref"]&&pt(q,27,H(N.SheetNames[ae],pe++));var ye=0;for(ae=0;ae<N.SheetNames.length;++ae){var ge=N.Sheets[N.SheetNames[ae]];if(!(!ge||!ge["!ref"])){for(var Se=Wn(ge["!ref"]),we=Array.isArray(ge),W=[],Pe=Math.min(Se.e.r,8191),ve=Se.s.r;ve<=Pe;++ve)for(var Ie=hi(ve),be=Se.s.c;be<=Se.e.c;++be){ve===Se.s.r&&(W[be]=Oi(be));var Ae=W[be]+Ie,Ne=we?(ge[ve]||[])[be]:ge[Ae];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")pt(q,23,R(ve,be,ye,Ne.v));else{var He=Ol(Ne);pt(q,22,A(ve,be,ye,He.slice(0,239)))}}++ye}}return pt(q,1),q.end()}function a(N){var V=Ye(2);return V.write_shift(2,N),V}function s(N){var V=Ye(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var Y=0,q=0,ae=0,pe=0;pe<N.SheetNames.length;++pe){var ye=N.SheetNames[pe],ge=N.Sheets[ye];if(!(!ge||!ge["!ref"])){++ae;var Se=Ya(ge["!ref"]);Y<Se.e.r&&(Y=Se.e.r),q<Se.e.c&&(q=Se.e.c)}}return Y>8191&&(Y=8191),V.write_shift(2,Y),V.write_shift(1,ae),V.write_shift(1,q),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function o(N,V,Y){var q={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&Y.qpro?(q.s.c=N.read_shift(1),N.l++,q.s.r=N.read_shift(2),q.e.c=N.read_shift(1),N.l++,q.e.r=N.read_shift(2),q):(q.s.c=N.read_shift(2),q.s.r=N.read_shift(2),V==12&&Y.qpro&&(N.l+=2),q.e.c=N.read_shift(2),q.e.r=N.read_shift(2),V==12&&Y.qpro&&(N.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function l(N){var V=Ye(8);return V.write_shift(2,N.s.c),V.write_shift(2,N.s.r),V.write_shift(2,N.e.c),V.write_shift(2,N.e.r),V}function u(N,V,Y){var q=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(q[0].c=N.read_shift(1),q[3]=N.read_shift(1),q[0].r=N.read_shift(2),N.l+=2):(q[2]=N.read_shift(1),q[0].c=N.read_shift(2),q[0].r=N.read_shift(2)),q}function c(N,V,Y){var q=N.l+V,ae=u(N,V,Y);if(ae[1].t="s",Y.vers==20768){N.l++;var pe=N.read_shift(1);return ae[1].v=N.read_shift(pe,"utf8"),ae}return Y.qpro&&N.l++,ae[1].v=N.read_shift(q-N.l,"cstr"),ae}function f(N,V,Y){var q=Ye(7+Y.length);q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,N),q.write_shift(1,39);for(var ae=0;ae<q.length;++ae){var pe=Y.charCodeAt(ae);q.write_shift(1,pe>=128?95:pe)}return q.write_shift(1,0),q}function h(N,V,Y){var q=u(N,V,Y);return q[1].v=N.read_shift(2,"i"),q}function d(N,V,Y){var q=Ye(7);return q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,N),q.write_shift(2,Y,"i"),q}function g(N,V,Y){var q=u(N,V,Y);return q[1].v=N.read_shift(8,"f"),q}function v(N,V,Y){var q=Ye(13);return q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,N),q.write_shift(8,Y,"f"),q}function y(N,V,Y){var q=N.l+V,ae=u(N,V,Y);if(ae[1].v=N.read_shift(8,"f"),Y.qpro)N.l=q;else{var pe=N.read_shift(2);S(N.slice(N.l,N.l+pe),ae),N.l+=pe}return ae}function x(N,V,Y){var q=V&32768;return V&=-32769,V=(q?N:0)+(V>=8192?V-16384:V),(q?"":"$")+(Y?Oi(V):hi(V))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(N,V){Ba(N,0);for(var Y=[],q=0,ae="",pe="",ye="",ge="";N.l<N.length;){var Se=N[N.l++];switch(Se){case 0:Y.push(N.read_shift(8,"f"));break;case 1:pe=x(V[0].c,N.read_shift(2),!0),ae=x(V[0].r,N.read_shift(2),!1),Y.push(pe+ae);break;case 2:{var we=x(V[0].c,N.read_shift(2),!0),W=x(V[0].r,N.read_shift(2),!1);pe=x(V[0].c,N.read_shift(2),!0),ae=x(V[0].r,N.read_shift(2),!1),Y.push(we+W+":"+pe+ae)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(N.read_shift(2));break;case 6:{for(var Pe="";Se=N[N.l++];)Pe+=String.fromCharCode(Se);Y.push('"'+Pe.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:ge=Y.pop(),ye=Y.pop(),Y.push(["AND","OR"][Se-20]+"("+ye+","+ge+")");break;default:if(Se<32&&_[Se])ge=Y.pop(),ye=Y.pop(),Y.push(ye+_[Se]+ge);else if(w[Se]){if(q=w[Se][1],q==69&&(q=N[N.l++]),q>Y.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+Y.join("|")+"|");return}var ve=Y.slice(-q);Y.length-=q,Y.push(w[Se][0]+"("+ve.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}Y.length==1?V[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function b(N){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=N.read_shift(2),V[3]=N[N.l++],V[0].c=N[N.l++],V}function T(N,V){var Y=b(N);return Y[1].t="s",Y[1].v=N.read_shift(V-4,"cstr"),Y}function A(N,V,Y,q){var ae=Ye(6+q.length);ae.write_shift(2,N),ae.write_shift(1,Y),ae.write_shift(1,V),ae.write_shift(1,39);for(var pe=0;pe<q.length;++pe){var ye=q.charCodeAt(pe);ae.write_shift(1,ye>=128?95:ye)}return ae.write_shift(1,0),ae}function P(N,V){var Y=b(N);Y[1].v=N.read_shift(2);var q=Y[1].v>>1;if(Y[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return Y[1].v=q,Y}function M(N,V){var Y=b(N),q=N.read_shift(4),ae=N.read_shift(4),pe=N.read_shift(2);if(pe==65535)return q===0&&ae===3221225472?(Y[1].t="e",Y[1].v=15):q===0&&ae===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var ye=pe&32768;return pe=(pe&32767)-16446,Y[1].v=(1-ye*2)*(ae*Math.pow(2,pe+32)+q*Math.pow(2,pe)),Y}function R(N,V,Y,q){var ae=Ye(14);if(ae.write_shift(2,N),ae.write_shift(1,Y),ae.write_shift(1,V),q==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var pe=0,ye=0,ge=0,Se=0;return q<0&&(pe=1,q=-q),ye=Math.log2(q)|0,q/=Math.pow(2,ye-31),Se=q>>>0,Se&2147483648||(q/=2,++ye,Se=q>>>0),q-=Se,Se|=2147483648,Se>>>=0,q*=Math.pow(2,32),ge=q>>>0,ae.write_shift(4,ge),ae.write_shift(4,Se),ye+=16383+(pe?32768:0),ae.write_shift(2,ye),ae}function D(N,V){var Y=M(N);return N.l+=V-14,Y}function L(N,V){var Y=b(N),q=N.read_shift(4);return Y[1].v=q>>6,Y}function B(N,V){var Y=b(N),q=N.read_shift(8,"f");return Y[1].v=q,Y}function G(N,V){var Y=B(N);return N.l+=V-10,Y}function z(N,V){return N[N.l+V-1]==0?N.read_shift(V,"cstr"):""}function Z(N,V){var Y=N[N.l++];Y>V-1&&(Y=V-1);for(var q="";q.length<Y;)q+=String.fromCharCode(N[N.l++]);return q}function ee(N,V,Y){if(!(!Y.qpro||V<21)){var q=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var ae=N.read_shift(V-21,"cstr");return[q,ae]}}function U(N,V){for(var Y={},q=N.l+V;N.l<q;){var ae=N.read_shift(2);if(ae==14e3){for(Y[ae]=[0,""],Y[ae][0]=N.read_shift(2);N[N.l];)Y[ae][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return Y}function H(N,V){var Y=Ye(5+N.length);Y.write_shift(2,14e3),Y.write_shift(2,V);for(var q=0;q<N.length;++q){var ae=N.charCodeAt(q);Y[Y.l++]=ae>127?95:ae}return Y[Y.l++]=0,Y}var X={0:{n:"BOF",f:TW},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},F={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:U},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),YEe=/^\s|\s$|[\t\n\r]/;function RW(t,e){if(!e.bookSST)return"";var n=[Nr];n[n.length]=dt("sst",null,{xmlns:Pp[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(YEe)&&(a+=' xml:space="preserve"'),a+=">"+_n(i.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function qEe(t){return[t.read_shift(4),t.read_shift(4)]}function KEe(t,e){return e||(e=Ye(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var ZEe=j2e;function JEe(t){var e=xa();rt(e,159,KEe(t));for(var n=0;n<t.length;++n)rt(e,19,ZEe(t[n]));return rt(e,160),e.end()}function QEe(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function NW(t){var e=0,n,r=QEe(t),i=r.length+1,a,s,o,l,u;for(n=wf(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)s=n[a],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^s;return e^52811}var eTe=function(){function t(i,a){switch(a.type){case"base64":return e(Pl(i),a);case"binary":return e(i,a);case"buffer":return e(mn&&Buffer.isBuffer(i)?i.toString("binary"):vv(i),a);case"array":return e(kS(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,g,v=-1;g=h.exec(c);){switch(g[0]){case"\\cell":var y=c.slice(d,h.lastIndex-g[0].length);if(y[0]==" "&&(y=y.slice(1)),++v,y.length){var x={v:y,t:"s"};Array.isArray(o)?o[f][v]=x:o[Sn({r:f,c:v})]=x}break}d=h.lastIndex}v>u.e.c&&(u.e.c=v)}),o["!ref"]=Rr(u),o}function n(i,a){return kf(t(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=Wn(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var f=Sn({r:u,c});o=l?(i[u]||[])[c]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Ol(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function YF(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var tTe=6,xl=tTe;function dw(t){return Math.floor((t+Math.round(128/xl)/256)*xl)}function pw(t){return Math.floor((t-5)/xl*100+.5)/100}function XM(t){return Math.round((t*xl+5)/xl*256)/256}function p3(t){t.width?(t.wpx=dw(t.width),t.wch=pw(t.wpx),t.MDW=xl):t.wpx?(t.wch=pw(t.wpx),t.width=XM(t.wch),t.MDW=xl):typeof t.wch=="number"&&(t.width=XM(t.wch),t.wpx=dw(t.width),t.MDW=xl),t.customWidth&&delete t.customWidth}var nTe=96,IW=nTe;function mw(t){return t*96/IW}function LW(t){return t*IW/96}function rTe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=dt("numFmt",null,{numFmtId:r,formatCode:_n(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=dt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function iTe(t){var e=[];return e[e.length]=dt("cellXfs",null),t.forEach(function(n){e[e.length]=dt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=dt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function DW(t,e){var n=[Nr,dt("styleSheet",null,{xmlns:Pp[0],"xmlns:vt":Zr.vt})],r;return t.SSF&&(r=rTe(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=iTe(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function aTe(t,e){var n=t.read_shift(2),r=Ri(t);return[n,r]}function sTe(t,e,n){n||(n=Ye(6+4*e.length)),n.write_shift(2,t),Qr(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function oTe(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=Y2e(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(r.underline=s);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=X2e(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ri(t),r}function lTe(t,e){e||(e=Ye(25+4*32)),e.write_shift(2,t.sz*20),q2e(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),fw(t.color,e);var r=0;return r=2,e.write_shift(1,r),Qr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var uTe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],wE,cTe=Lo;function qF(t,e){e||(e=Ye(4*3+8*7+16*1)),wE||(wE=n3(uTe));var n=wE[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(fw({auto:1},e),fw({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function fTe(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function kW(t,e,n){n||(n=Ye(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function M0(t,e){return e||(e=Ye(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var hTe=Lo;function dTe(t,e){return e||(e=Ye(51)),e.write_shift(1,0),M0(null,e),M0(null,e),M0(null,e),M0(null,e),M0(null,e),e.length>e.l?e.slice(0,e.l):e}function pTe(t,e){return e||(e=Ye(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),cw(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function mTe(t,e,n){var r=Ye(2052);return r.write_shift(4,t),cw(e,r),cw(n,r),r.length>r.l?r.slice(0,r.l):r}function gTe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(rt(t,615,eo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&rt(t,44,sTe(i,e[i]))}),rt(t,616))}}function vTe(t){var e=1;rt(t,611,eo(e)),rt(t,43,lTe({sz:12,color:{theme:1},name:"Calibri",family:2})),rt(t,612)}function yTe(t){var e=2;rt(t,603,eo(e)),rt(t,45,qF({patternType:"none"})),rt(t,45,qF({patternType:"gray125"})),rt(t,604)}function xTe(t){var e=1;rt(t,613,eo(e)),rt(t,46,dTe()),rt(t,614)}function _Te(t){var e=1;rt(t,626,eo(e)),rt(t,47,kW({numFmtId:0},65535)),rt(t,627)}function wTe(t,e){rt(t,617,eo(e.length)),e.forEach(function(n){rt(t,47,kW(n,0))}),rt(t,618)}function STe(t){var e=1;rt(t,619,eo(e)),rt(t,48,pTe({xfId:0,name:"Normal"})),rt(t,620)}function bTe(t){var e=0;rt(t,505,eo(e)),rt(t,506)}function ETe(t){var e=0;rt(t,508,mTe(e,"TableStyleMedium9","PivotStyleMedium4")),rt(t,509)}function TTe(t,e){var n=xa();return rt(n,278),gTe(n,t.SSF),vTe(n),yTe(n),xTe(n),_Te(n),wTe(n,e.cellXfs),STe(n),bTe(n),ETe(n),rt(n,279),n.end()}function FW(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Nr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function ATe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ri(t)}}function MTe(t){var e=Ye(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Qr(t.name,e),e.slice(0,e.l)}function CTe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function PTe(t){var e=Ye(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function OTe(t,e){var n=Ye(8+2*e.length);return n.write_shift(4,t),Qr(e,n),n.slice(0,n.l)}function RTe(t){return t.l+=4,t.read_shift(4)!=0}function NTe(t,e){var n=Ye(8);return n.write_shift(4,t),n.write_shift(4,1),n}function ITe(){var t=xa();return rt(t,332),rt(t,334,eo(1)),rt(t,335,MTe({name:"XLDAPR",version:12e4,flags:3496657072})),rt(t,336),rt(t,339,OTe(1,"XLDAPR")),rt(t,52),rt(t,35,eo(514)),rt(t,4096,eo(0)),rt(t,4097,fs(1)),rt(t,36),rt(t,53),rt(t,340),rt(t,337,NTe(1)),rt(t,51,PTe([[1,0]])),rt(t,338),rt(t,333),t.end()}function UW(){var t=[Nr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function LTe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Sn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var id=1024;function BW(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[dt("xml",null,{"xmlns:v":za.v,"xmlns:o":za.o,"xmlns:x":za.x,"xmlns:mv":za.mv}).replace(/\/>/,">"),dt("o:shapelayout",dt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),dt("v:shapetype",[dt("v:stroke",null,{joinstyle:"miter"}),dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];id<t*1e3;)id+=1e3;return e.forEach(function(a){var s=Jr(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=dt("v:fill",l,o),c={on:"t",obscured:"t"};++id,i=i.concat(["<v:shape"+Rg({id:"_x0000_s"+id,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,dt("v:shadow",null,c),dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ui("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ui("x:AutoFill","False"),ui("x:Row",String(s.r)),ui("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function zW(t){var e=[Nr,dt("comments",null,{xmlns:Pp[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var a=_n(i.a);n.indexOf(a)==-1&&(n.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(_n(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(ui("t",_n(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push(ui("t",_n(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function DTe(t,e,n){var r=[Nr,dt("ThreadedComments",null,{xmlns:Zr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),r.push(dt("threadedComment",ui("text",s.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function kTe(t){var e=[Nr,dt("personList",null,{xmlns:Zr.TCMNT,"xmlns:x":Pp[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(dt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function FTe(t){var e={};e.iauthor=t.read_shift(4);var n=zf(t);return e.rfx=n.s,e.ref=Sn(n.s),t.l+=16,e}function UTe(t,e){return e==null&&(e=Ye(36)),e.write_shift(4,t[1].iauthor),Rp(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var BTe=Ri;function zTe(t){return Qr(t.slice(0,54))}function jTe(t){var e=xa(),n=[];return rt(e,628),rt(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),rt(e,632,zTe(i.a)))})}),rt(e,631),rt(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var a={s:Jr(r[0]),e:Jr(r[0])};rt(e,635,UTe([a,i])),i.t&&i.t.length>0&&rt(e,637,W2e(i)),rt(e,636),delete i.iauthor})}),rt(e,634),rt(e,629),e.end()}function HTe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&An.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var jW=["xlsb","xlsm","xlam","biff8","xla"],WTe=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+Oi(c)+(l?"":"$")+hi(u)}return function(i,a){return e=a,i.replace(t,n)}}(),m3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,g3=function(){return function(e,n){return e.replace(m3,function(r,i,a,s,o,l){var u=u3(s)-(a?0:n.c),c=l3(l)-(o?0:n.r),f=c==0?"":o?c+1:"["+c+"]",h=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+h})}}();function GTe(t,e){return t.replace(m3,function(n,r,i,a,s,o){return r+(i=="$"?i+a:Oi(u3(a)+e.c))+(s=="$"?s+o:hi(l3(o)+e.r))})}function VTe(t){return t.length!=1}function Tr(t){t.l+=1}function Du(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function HW(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return WW(t);n.biff==12&&(r=4)}var i=t.read_shift(r),a=t.read_shift(r),s=Du(t),o=Du(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function WW(t){var e=Du(t),n=Du(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function $Te(t,e,n){if(n.biff<8)return WW(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),a=Du(t),s=Du(t);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function GW(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return XTe(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Du(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function XTe(t){var e=Du(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function YTe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function qTe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return KTe(t);var i=t.read_shift(r>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function KTe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function ZTe(t,e,n){var r=(t[t.l++]&96)>>5,i=HW(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function JTe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=HW(t,a,n);return[r,i,s]}function QTe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function eAe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,i]}function tAe(t,e,n){var r=(t[t.l++]&96)>>5,i=$Te(t,e-1,n);return[r,i]}function nAe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function KF(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function rAe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function iAe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function aAe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function sAe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function oAe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function VW(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function lAe(t){return t.read_shift(2),VW(t)}function uAe(t){return t.read_shift(2),VW(t)}function cAe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=GW(t,0,n);return[r,i]}function fAe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=qTe(t,0,n);return[r,i]}function hAe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var a=GW(t,0,n);return[r,i,a]}function dAe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[dMe[i],YW[i],r]}function pAe(t,e,n){var r=t[t.l++],i=t.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:mAe(t);return[i,(a[0]===0?YW:hMe)[a[1]]]}function mAe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function gAe(t,e,n){t.l+=n&&n.biff==2?3:4}function vAe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function yAe(t){return t.l++,_v[t.read_shift(1)]}function xAe(t){return t.l++,t.read_shift(2)}function _Ae(t){return t.l++,t.read_shift(1)!==0}function wAe(t){return t.l++,Np(t)}function SAe(t,e,n){return t.l++,MW(t,e-1,n)}function bAe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=hEe(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=_v[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Np(t);break;case 2:n[1]=gEe(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function EAe(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?zf:xEe)(t));return i}function TAe(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=bAe(t,n.biff);return s}function AAe(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function MAe(t,e,n){if(n.biff==5)return CAe(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[r,i,a]}function CAe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function PAe(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function OAe(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function RAe(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function NAe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,i]}var IAe=Lo,LAe=Lo,DAe=Lo;function wv(t,e,n){return t.l+=2,[YTe(t)]}function v3(t){return t.l+=6,[]}var kAe=wv,FAe=v3,UAe=v3,BAe=wv;function $W(t){return t.l+=2,[TW(t),t.read_shift(2)&1]}var zAe=wv,jAe=$W,HAe=v3,WAe=wv,GAe=wv,VAe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $Ae(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=VAe[n>>2&31];return{ixti:e,coltype:n&3,rt:s,idx:r,c:i,C:a}}function XAe(t){return t.l+=2,[t.read_shift(4)]}function YAe(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function qAe(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function KAe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function ZAe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function JAe(t){return t.l+=4,[0,0]}var ZF={1:{n:"PtgExp",f:vAe},2:{n:"PtgTbl",f:DAe},3:{n:"PtgAdd",f:Tr},4:{n:"PtgSub",f:Tr},5:{n:"PtgMul",f:Tr},6:{n:"PtgDiv",f:Tr},7:{n:"PtgPower",f:Tr},8:{n:"PtgConcat",f:Tr},9:{n:"PtgLt",f:Tr},10:{n:"PtgLe",f:Tr},11:{n:"PtgEq",f:Tr},12:{n:"PtgGe",f:Tr},13:{n:"PtgGt",f:Tr},14:{n:"PtgNe",f:Tr},15:{n:"PtgIsect",f:Tr},16:{n:"PtgUnion",f:Tr},17:{n:"PtgRange",f:Tr},18:{n:"PtgUplus",f:Tr},19:{n:"PtgUminus",f:Tr},20:{n:"PtgPercent",f:Tr},21:{n:"PtgParen",f:Tr},22:{n:"PtgMissArg",f:Tr},23:{n:"PtgStr",f:SAe},26:{n:"PtgSheet",f:YAe},27:{n:"PtgEndSheet",f:qAe},28:{n:"PtgErr",f:yAe},29:{n:"PtgBool",f:_Ae},30:{n:"PtgInt",f:xAe},31:{n:"PtgNum",f:wAe},32:{n:"PtgArray",f:nAe},33:{n:"PtgFunc",f:dAe},34:{n:"PtgFuncVar",f:pAe},35:{n:"PtgName",f:AAe},36:{n:"PtgRef",f:cAe},37:{n:"PtgArea",f:ZTe},38:{n:"PtgMemArea",f:PAe},39:{n:"PtgMemErr",f:IAe},40:{n:"PtgMemNoMem",f:LAe},41:{n:"PtgMemFunc",f:OAe},42:{n:"PtgRefErr",f:RAe},43:{n:"PtgAreaErr",f:QTe},44:{n:"PtgRefN",f:fAe},45:{n:"PtgAreaN",f:tAe},46:{n:"PtgMemAreaN",f:KAe},47:{n:"PtgMemNoMemN",f:ZAe},57:{n:"PtgNameX",f:MAe},58:{n:"PtgRef3d",f:hAe},59:{n:"PtgArea3d",f:JTe},60:{n:"PtgRefErr3d",f:NAe},61:{n:"PtgAreaErr3d",f:eAe},255:{}},QAe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},eMe={1:{n:"PtgElfLel",f:$W},2:{n:"PtgElfRw",f:WAe},3:{n:"PtgElfCol",f:kAe},6:{n:"PtgElfRwV",f:GAe},7:{n:"PtgElfColV",f:BAe},10:{n:"PtgElfRadical",f:zAe},11:{n:"PtgElfRadicalS",f:HAe},13:{n:"PtgElfColS",f:FAe},15:{n:"PtgElfColSV",f:UAe},16:{n:"PtgElfRadicalLel",f:jAe},25:{n:"PtgList",f:$Ae},29:{n:"PtgSxName",f:XAe},255:{}},tMe={0:{n:"PtgAttrNoop",f:JAe},1:{n:"PtgAttrSemi",f:oAe},2:{n:"PtgAttrIf",f:aAe},4:{n:"PtgAttrChoose",f:rAe},8:{n:"PtgAttrGoto",f:iAe},16:{n:"PtgAttrSum",f:gAe},32:{n:"PtgAttrBaxcel",f:KF},33:{n:"PtgAttrBaxcel",f:KF},64:{n:"PtgAttrSpace",f:lAe},65:{n:"PtgAttrSpaceSemi",f:uAe},128:{n:"PtgAttrIfError",f:sAe},255:{}};function nMe(t,e,n,r){if(r.biff<8)return Lo(t,e);for(var i=t.l+e,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=TAe(t,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=EAe(t,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&r.biff==12&&(n[s][1][1]=t.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return e=i-t.l,e!==0&&a.push(Lo(t,e)),a}function rMe(t,e,n){for(var r=t.l+e,i,a,s=[];r!=t.l;)e=r-t.l,a=t[t.l],i=ZF[a]||ZF[QAe[a]],(a===24||a===25)&&(i=(a===24?eMe:tMe)[t[t.l+1]]),!i||!i.f?Lo(t,e):s.push([i.n,i.f(t,e,n)]);return s}function iMe(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var aMe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function sMe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function XW(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function JF(t,e,n){var r=XW(t,e,n);return r=="#REF"?r:sMe(r,n)}function rp(t,e,n,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,u,c,f=0,h=0,d,g="";if(!t[0]||!t[0][0])return"";for(var v=-1,y="",x=0,w=t[0].length;x<w;++x){var _=t[0][x];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:y=or(" ",t[0][v][1][1]);break;case 1:y=or("\r",t[0][v][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}u=u+y,v=-1}o.push(u+aMe[_[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=mm(_[1][1],s,i),o.push(gm(c,a));break;case"PtgRefN":c=n?mm(_[1][1],n,i):_[1][1],o.push(gm(c,a));break;case"PtgRef3d":f=_[1][1],c=mm(_[1][2],s,i),g=JF(r,f,i),o.push(g+"!"+gm(c,a));break;case"PtgFunc":case"PtgFuncVar":var S=_[1][0],b=_[1][1];S||(S=0),S&=127;var T=S==0?[]:o.slice(-S);o.length-=S,b==="User"&&(b=T.shift()),o.push(b+"("+T.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":d=kF(_[1][1],n?{s:n}:s,i),o.push(xE(d,i));break;case"PtgArea":d=kF(_[1][1],s,i),o.push(xE(d,i));break;case"PtgArea3d":f=_[1][1],d=_[1][2],g=JF(r,f,i),o.push(g+"!"+xE(d,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var A=(r.names||[])[h-1]||(r[0]||[])[h],P=A?A.Name:"SH33TJSNAME"+String(h);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var M=_[1][1];h=_[1][2];var R;if(i.biff<=5)M<0&&(M=-M),r[M]&&(R=r[M][h]);else{var D="";if(((r[M]||[])[0]||[])[0]==14849||(((r[M]||[])[0]||[])[0]==1025?r[M][h]&&r[M][h].itab>0&&(D=r.SheetNames[r[M][h].itab-1]+"!"):D=r.SheetNames[h-1]+"!"),r[M]&&r[M][h])D+=r[M][h].Name;else if(r[0]&&r[0][h])D+=r[0][h].Name;else{var L=(XW(r,M,i)||"").split(";;");L[h-1]?D=L[h-1]:D+="SH33TJSERRX"}o.push(D);break}R||(R={Name:"SH33TJSERRY"}),o.push(R.Name);break;case"PtgParen":var B="(",G=")";if(v>=0){switch(y="",t[0][v][1][0]){case 2:B=or(" ",t[0][v][1][1])+B;break;case 3:B=or("\r",t[0][v][1][1])+B;break;case 4:G=or(" ",t[0][v][1][1])+G;break;case 5:G=or("\r",t[0][v][1][1])+G;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(B+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:_[1][1],r:_[1][0]};var z={c:n.c,r:n.r};if(r.sharedf[Sn(c)]){var Z=r.sharedf[Sn(c)];o.push(rp(Z,s,z,r,i))}else{var ee=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(rp(u[1],s,z,r,i)),ee=!0;break}ee||o.push(_[1])}break;case"PtgArray":o.push("{"+iMe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var U=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&U.indexOf(t[0][x][0])==-1){_=t[0][v];var H=!0;switch(_[1][0]){case 4:H=!1;case 0:y=or(" ",_[1][1]);break;case 5:H=!1;case 1:y=or("\r",_[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((H?y:"")+o.pop()+(H?"":y)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function oMe(t){if(t==null){var e=Ye(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Sf(t);return Sf(0)}function lMe(t,e,n,r,i){var a=bf(e,n,i),s=oMe(t.v),o=Ye(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Ye(t.bf.length),c=0;c<t.bf.length;++c)u[c]=t.bf[c];var f=li([a,s,o,u]);return f}function FS(t,e,n){var r=t.read_shift(4),i=rMe(t,r,n),a=t.read_shift(4),s=a>0?nMe(t,a,i,n):null;return[i,s]}var uMe=FS,US=FS,cMe=FS,fMe=FS,hMe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},YW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},dMe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function pMe(t){var e="of:="+t.replace(m3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function mMe(t){return t.replace(/\./,"!")}var vm=typeof Map<"u";function y3(t,e,n){var r=0,i=t.length;if(n){if(vm?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var a=vm?n.get(e):n[e];r<a.length;++r)if(t[a[r]].t===e)return t.Count++,a[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(vm?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function BS(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(xl=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=pw(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=XM(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function qW(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Ku(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){G7(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===r)return i;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function gMe(t,e,n){if(t&&t["!ref"]){var r=Wn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function vMe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Rr(t[n])+'"/>';return e+"</mergeCells>"}function yMe(t,e,n,r,i){var a=!1,s={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}a=!0,s.codeName=Og(_n(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+dt("outlinePr",null,u)}!a&&!o||(i[i.length]=dt("sheetPr",o,s))}var xMe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_Me=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function wMe(t){var e={sheet:1};return xMe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),_Me.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=NW(t.password).toString(16).toUpperCase()),dt("sheetProtection",null,e)}function SMe(t){return qW(t),dt("pageMargins",null,t)}function bMe(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=dt("col",null,BS(i,r)));return n[n.length]="</cols>",n.join("")}function EMe(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Rr(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,s=Ya(i);s.s.r==s.e.r&&(s.e.r=Ya(e["!ref"]).e.r,i=Rr(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),dt("autoFilter",null,{ref:i})}function TMe(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),dt("sheetViews",dt("sheetView",null,i),{})}function AMe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=_v[t.v];break;case"d":r&&r.cellDates?i=Zi(t.v,-1).toISOString():(t=wa(t),t.t="n",i=""+(t.v=_a(Zi(t.v)))),typeof t.z>"u"&&(t.z=ur[14]);break;default:i=t.v;break}var o=ui("v",_n(i)),l={r:e},u=Ku(r.cellXfs,t,r);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=ui("v",""+y3(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var c=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=dt("f",_n(t.f),c)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),dt("c",o,l)}function MMe(t,e,n,r){var i=[],a=[],s=Wn(t["!ref"]),o="",l,u="",c=[],f=0,h=0,d=t["!rows"],g=Array.isArray(t),v={r:u},y,x=-1;for(h=s.s.c;h<=s.e.c;++h)c[h]=Oi(h);for(f=s.s.r;f<=s.e.r;++f){for(a=[],u=hi(f),h=s.s.c;h<=s.e.c;++h){l=c[h]+u;var w=g?(t[f]||[])[h]:t[l];w!==void 0&&(o=AMe(w,l,t,e))!=null&&a.push(o)}(a.length>0||d&&d[f])&&(v={r:u},d&&d[f]&&(y=d[f],y.hidden&&(v.hidden=1),x=-1,y.hpx?x=mw(y.hpx):y.hpt&&(x=y.hpt),x>-1&&(v.ht=x,v.customHeight=1),y.level&&(v.outlineLevel=y.level)),i[i.length]=dt("row",a.join(""),v))}if(d)for(;f<d.length;++f)d&&d[f]&&(v={r:f+1},y=d[f],y.hidden&&(v.hidden=1),x=-1,y.hpx?x=mw(y.hpx):y.hpt&&(x=y.hpt),x>-1&&(v.ht=x,v.customHeight=1),y.level&&(v.outlineLevel=y.level),i[i.length]=dt("row","",v));return i.join("")}function KW(t,e,n,r){var i=[Nr,dt("worksheet",null,{xmlns:Pp[0],"xmlns:r":Zr.r})],a=n.SheetNames[t],s=0,o="",l=n.Sheets[a];l==null&&(l={});var u=l["!ref"]||"A1",c=Wn(u);if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=Rr(c)}r||(r={}),l["!comments"]=[];var f=[];yMe(l,n,t,e,i),i[i.length]=dt("dimension",null,{ref:u}),i[i.length]=TMe(l,e,t,n),e.sheetFormat&&(i[i.length]=dt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=bMe(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=MMe(l,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=wMe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=EMe(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=vMe(l["!merges"]));var h=-1,d,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(d={ref:v[0]},v[1].Target.charAt(0)!="#"&&(g=xn(r,-1,_n(v[1].Target).replace(/#.*$/,""),fn.HLINK),d["r:id"]="rId"+g),(h=v[1].Target.indexOf("#"))>-1&&(d.location=_n(v[1].Target.slice(h+1))),v[1].Tooltip&&(d.tooltip=_n(v[1].Tooltip)),i[i.length]=dt("hyperlink",null,d))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=SMe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ui("ignoredErrors",dt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=xn(r,-1,"../drawings/drawing"+(t+1)+".xml",fn.DRAW),i[i.length]=dt("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=f),l["!comments"].length>0&&(g=xn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",fn.VML),i[i.length]=dt("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function CMe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}function PMe(t,e,n){var r=Ye(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;i.hpx?a=mw(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var u={r:t,c:0},c=0;c<16;++c)if(!(e.s.c>c+1<<10||e.e.c<c<<10)){for(var f=-1,h=-1,d=c<<10;d<c+1<<10;++d){u.c=d;var g=Array.isArray(n)?(n[u.r]||[])[u.c]:n[Sn(u)];g&&(f<0&&(f=d),h=d)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,h))}var v=r.l;return r.l=l,r.write_shift(4,o),r.l=v,r.length>r.l?r.slice(0,r.l):r}function OMe(t,e,n,r){var i=PMe(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&rt(t,0,i)}var RMe=zf,NMe=Rp;function IMe(){}function LMe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=G2e(t),n}function DMe(t,e,n){n==null&&(n=Ye(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return fw({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),fW(t,n),n.slice(0,n.l)}function kMe(t){var e=Ts(t);return[e]}function FMe(t,e,n){return n==null&&(n=Ye(8)),Ff(e,n)}function UMe(t){var e=Uf(t);return[e]}function BMe(t,e,n){return n==null&&(n=Ye(4)),Bf(e,n)}function zMe(t){var e=Ts(t),n=t.read_shift(1);return[e,n,"b"]}function jMe(t,e,n){return n==null&&(n=Ye(9)),Ff(e,n),n.write_shift(1,t.v?1:0),n}function HMe(t){var e=Uf(t),n=t.read_shift(1);return[e,n,"b"]}function WMe(t,e,n){return n==null&&(n=Ye(5)),Bf(e,n),n.write_shift(1,t.v?1:0),n}function GMe(t){var e=Ts(t),n=t.read_shift(1);return[e,n,"e"]}function VMe(t,e,n){return n==null&&(n=Ye(9)),Ff(e,n),n.write_shift(1,t.v),n}function $Me(t){var e=Uf(t),n=t.read_shift(1);return[e,n,"e"]}function XMe(t,e,n){return n==null&&(n=Ye(8)),Bf(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function YMe(t){var e=Ts(t),n=t.read_shift(4);return[e,n,"s"]}function qMe(t,e,n){return n==null&&(n=Ye(12)),Ff(e,n),n.write_shift(4,e.v),n}function KMe(t){var e=Uf(t),n=t.read_shift(4);return[e,n,"s"]}function ZMe(t,e,n){return n==null&&(n=Ye(8)),Bf(e,n),n.write_shift(4,e.v),n}function JMe(t){var e=Ts(t),n=Np(t);return[e,n,"n"]}function QMe(t,e,n){return n==null&&(n=Ye(16)),Ff(e,n),Sf(t.v,n),n}function eCe(t){var e=Uf(t),n=Np(t);return[e,n,"n"]}function tCe(t,e,n){return n==null&&(n=Ye(12)),Bf(e,n),Sf(t.v,n),n}function nCe(t){var e=Ts(t),n=hW(t);return[e,n,"n"]}function rCe(t,e,n){return n==null&&(n=Ye(12)),Ff(e,n),dW(t.v,n),n}function iCe(t){var e=Uf(t),n=hW(t);return[e,n,"n"]}function aCe(t,e,n){return n==null&&(n=Ye(8)),Bf(e,n),dW(t.v,n),n}function sCe(t){var e=Ts(t),n=c3(t);return[e,n,"is"]}function oCe(t){var e=Ts(t),n=Ri(t);return[e,n,"str"]}function lCe(t,e,n){return n==null&&(n=Ye(12+4*t.v.length)),Ff(e,n),Qr(t.v,n),n.length>n.l?n.slice(0,n.l):n}function uCe(t){var e=Uf(t),n=Ri(t);return[e,n,"str"]}function cCe(t,e,n){return n==null&&(n=Ye(8+4*t.v.length)),Bf(e,n),Qr(t.v,n),n.length>n.l?n.slice(0,n.l):n}function fCe(t,e,n){var r=t.l+e,i=Ts(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(n.cellFormula){t.l+=2;var o=US(t,r-t.l,n);s[3]=rp(o,null,i,n.supbooks,n)}else t.l=r;return s}function hCe(t,e,n){var r=t.l+e,i=Ts(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(n.cellFormula){t.l+=2;var o=US(t,r-t.l,n);s[3]=rp(o,null,i,n.supbooks,n)}else t.l=r;return s}function dCe(t,e,n){var r=t.l+e,i=Ts(t);i.r=n["!row"];var a=Np(t),s=[i,a,"n"];if(n.cellFormula){t.l+=2;var o=US(t,r-t.l,n);s[3]=rp(o,null,i,n.supbooks,n)}else t.l=r;return s}function pCe(t,e,n){var r=t.l+e,i=Ts(t);i.r=n["!row"];var a=Ri(t),s=[i,a,"str"];if(n.cellFormula){t.l+=2;var o=US(t,r-t.l,n);s[3]=rp(o,null,i,n.supbooks,n)}else t.l=r;return s}var mCe=zf,gCe=Rp;function vCe(t,e){return e==null&&(e=Ye(4)),e.write_shift(4,t),e}function yCe(t,e){var n=t.l+e,r=zf(t),i=f3(t),a=Ri(t),s=Ri(t),o=Ri(t);t.l=n;var l={rfx:r,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function xCe(t,e){var n=Ye(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Rp({s:Jr(t[0]),e:Jr(t[0])},n),h3("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Qr(i||"",n),Qr(t[1].Tooltip||"",n),Qr("",n),n.slice(0,n.l)}function _Ce(){}function wCe(t,e,n){var r=t.l+e,i=pW(t),a=t.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var o=uMe(t,r-t.l,n);s[1]=o}else t.l=r;return s}function SCe(t,e,n){var r=t.l+e,i=zf(t),a=[i];if(n.cellFormula){var s=fMe(t,r-t.l,n);a[1]=s,t.l=r}else t.l=r;return a}function bCe(t,e,n){n==null&&(n=Ye(18));var r=BS(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var ZW=["left","right","top","bottom","header","footer"];function ECe(t){var e={};return ZW.forEach(function(n){e[n]=Np(t)}),e}function TCe(t,e){return e==null&&(e=Ye(6*8)),qW(t),ZW.forEach(function(n){Sf(t[n],e)}),e}function ACe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function MCe(t,e,n){n==null&&(n=Ye(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function CCe(t){var e=Ye(24);return e.write_shift(4,4),e.write_shift(4,1),Rp(t,e),e}function PCe(t,e){return e==null&&(e=Ye(16*4+2)),e.write_shift(2,t.password?NW(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function OCe(){}function RCe(){}function NCe(t,e,n,r,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=wa(e),e.z=e.z||ur[14],e.v=_a(Zi(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=Ku(i.cellXfs,e,i),e.l&&a["!links"].push([Sn(l),e.l]),e.c&&a["!comments"].push([Sn(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=y3(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,s?rt(t,18,ZMe(e,l)):rt(t,7,qMe(e,l))):(l.t="str",s?rt(t,17,cCe(e,l)):rt(t,6,lCe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?rt(t,13,aCe(e,l)):rt(t,2,rCe(e,l)):s?rt(t,16,tCe(e,l)):rt(t,5,QMe(e,l)),!0;case"b":return l.t="b",s?rt(t,15,WMe(e,l)):rt(t,4,jMe(e,l)),!0;case"e":return l.t="e",s?rt(t,14,XMe(e,l)):rt(t,3,VMe(e,l)),!0}return s?rt(t,12,BMe(e,l)):rt(t,1,FMe(e,l)),!0}function ICe(t,e,n,r){var i=Wn(e["!ref"]||"A1"),a,s="",o=[];rt(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var c=i.s.r;c<=u;++c){s=hi(c),OMe(t,e,i,c);var f=!1;if(c<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){c===i.s.r&&(o[h]=Oi(h)),a=o[h]+s;var d=l?(e[c]||[])[h]:e[a];if(!d){f=!1;continue}f=NCe(t,d,c,h,r,e,f)}}rt(t,146)}function LCe(t,e){!e||!e["!merges"]||(rt(t,177,vCe(e["!merges"].length)),e["!merges"].forEach(function(n){rt(t,176,gCe(n))}),rt(t,178))}function DCe(t,e){!e||!e["!cols"]||(rt(t,390),e["!cols"].forEach(function(n,r){n&&rt(t,60,bCe(r,n))}),rt(t,391))}function kCe(t,e){!e||!e["!ref"]||(rt(t,648),rt(t,649,CCe(Wn(e["!ref"]))),rt(t,650))}function FCe(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=xn(n,-1,r[1].Target.replace(/#.*$/,""),fn.HLINK);rt(t,494,xCe(r,i))}}),delete e["!links"]}function UCe(t,e,n,r){if(e["!comments"].length>0){var i=xn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",fn.VML);rt(t,551,h3("rId"+i)),e["!legacy"]=i}}function BCe(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Rr(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Ya(a);o.s.r==o.e.r&&(o.e.r=Ya(e["!ref"]).e.r,a=Rr(o));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),rt(t,161,Rp(Wn(a))),rt(t,162)}}function zCe(t,e,n){rt(t,133),rt(t,137,MCe(e,n)),rt(t,138),rt(t,134)}function jCe(t,e){e["!protect"]&&rt(t,535,PCe(e["!protect"]))}function HCe(t,e,n,r){var i=xa(),a=n.SheetNames[t],s=n.Sheets[a]||{},o=a;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=Wn(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],rt(i,129),(n.vbaraw||s["!outline"])&&rt(i,147,DMe(o,s["!outline"])),rt(i,148,NMe(l)),zCe(i,s,n.Workbook),DCe(i,s),ICe(i,s,t,e),jCe(i,s),BCe(i,s,n,t),LCe(i,s),FCe(i,s,r),s["!margins"]&&rt(i,476,TCe(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&kCe(i,s),UCe(i,s,t,r),rt(i,130),i.end()}function WCe(t,e){t.l+=10;var n=Ri(t);return{name:n}}var GCe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function VCe(t){return!t.Workbook||!t.Workbook.WBProps?"false":S2e(t.Workbook.WBProps.date1904)?"true":"false"}var $Ce="][*?/\\".split("");function JW(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return $Ce.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function XCe(t,e,n){t.forEach(function(r,i){JW(r);for(var a=0;a<i;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var s=e&&e[i]&&e[i].CodeName||r;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function YCe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];XCe(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)gMe(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function QW(t){var e=[Nr];e[e.length]=dt("workbook",null,{xmlns:Pp[0],"xmlns:r":Zr.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(GCe.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=dt("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:_n(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=dt("sheet",null,s)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=dt("definedName",_n(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function qCe(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=$M(t),n.name=Ri(t),n}function KCe(t,e){return e||(e=Ye(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),h3(t.strRelID,e),Qr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function ZCe(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Ri(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function JCe(t,e){e||(e=Ye(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),fW(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function QCe(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=V2e(t),s=cMe(t,0,n),o=f3(t);t.l=r;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function ePe(t,e){rt(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};rt(t,156,KCe(i))}rt(t,144)}function tPe(t,e){e||(e=Ye(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Qr("SheetJS",e),Qr(rw.version,e),Qr(rw.version,e),Qr("7262",e),e.length>e.l?e.slice(0,e.l):e}function nPe(t,e){e||(e=Ye(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function rPe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&a==-1&&(a=r);a>i||(rt(t,135),rt(t,158,nPe(i)),rt(t,136))}}function iPe(t,e){var n=xa();return rt(n,131),rt(n,128,tPe()),rt(n,153,JCe(t.Workbook&&t.Workbook.WBProps||null)),rPe(n,t),ePe(n,t),rt(n,132),n.end()}function aPe(t,e,n){return(e.slice(-4)===".bin"?iPe:QW)(t)}function sPe(t,e,n,r,i){return(e.slice(-4)===".bin"?HCe:KW)(t,n,r,i)}function oPe(t,e,n){return(e.slice(-4)===".bin"?TTe:DW)(t,n)}function lPe(t,e,n){return(e.slice(-4)===".bin"?JEe:RW)(t,n)}function uPe(t,e,n){return(e.slice(-4)===".bin"?jTe:zW)(t)}function cPe(t){return(t.slice(-4)===".bin"?ITe:UW)()}function fPe(t,e){var n=[];return t.Props&&n.push(oEe(t.Props,e)),t.Custprops&&n.push(lEe(t.Props,t.Custprops)),n.join("")}function hPe(){return""}function dPe(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var a=[];a.push(dt("NumberFormat",null,{"ss:Format":_n(ur[r.numFmtId])}));var s={"ss:ID":"s"+(21+i)};n.push(dt("Style",a.join(""),s))}),dt("Styles",n.join(""))}function eG(t){return dt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+g3(t.Ref,{r:0,c:0})})}function pPe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(eG(i)))}return dt("Names",n.join(""))}function mPe(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||a.push(eG(o)))}return a.join("")}function gPe(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(dt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(dt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(dt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(dt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(ui("ProtectContents","True")),t["!protect"].objects&&i.push(ui("ProtectObjects","True")),t["!protect"].scenarios&&i.push(ui("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(ui("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(ui("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":dt("WorksheetOptions",i.join(""),{xmlns:za.x})}function vPe(t){return t.map(function(e){var n=w2e(e.t||""),r=dt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return dt("Comment",r,{"ss:Author":e.a})}).join("")}function yPe(t,e,n,r,i,a,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+_n(g3(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Jr(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=_n(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=_n(t.l.Tooltip))),n["!merges"])for(var u=n["!merges"],c=0;c!=u.length;++c)u[c].s.c!=s.c||u[c].s.r!=s.r||(u[c].e.c>u[c].s.c&&(o["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(o["ss:MergeDown"]=u[c].e.r-u[c].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=_v[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||ur[14]);break;case"s":f="String",h=_2e(t.v||"");break}var d=Ku(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+d),o["ss:Index"]=s.c+1;var g=t.v!=null?h:"",v=t.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(t.c||[]).length>0&&(v+=vPe(t.c)),dt("Cell",v,o)}function xPe(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=LW(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function _Pe(t,e,n,r){if(!t["!ref"])return"";var i=Wn(t["!ref"]),a=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,x){p3(y);var w=!!y.width,_=BS(x,y),S={"ss:Index":x+1};w&&(S["ss:Width"]=dw(_.width)),y.hidden&&(S["ss:Hidden"]="1"),o.push(dt("Column",null,S))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var c=[xPe(u,(t["!rows"]||[])[u])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>u)&&!(a[s].e.c<f)&&!(a[s].e.r<u)){(a[s].s.c!=f||a[s].s.r!=u)&&(h=!0);break}if(!h){var d={r:u,c:f},g=Sn(d),v=l?(t[u]||[])[f]:t[g];c.push(yPe(v,g,t,e,n,r,d))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}function wPe(t,e,n){var r=[],i=n.SheetNames[t],a=n.Sheets[i],s=a?mPe(a,e,t,n):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=a?_Pe(a,e,t,n):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(gPe(a,e,t,n)),r.join("")}function SPe(t,e){e||(e={}),t.SSF||(t.SSF=wa(ur)),t.SSF&&(LS(),IS(t.SSF),e.revssf=DS(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Ku(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(fPe(t,e)),n.push(hPe()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(dt("Worksheet",wPe(r,e,t),{"ss:Name":_n(t.SheetNames[r])}));return n[2]=dPe(t,e),n[3]=pPe(t),Nr+dt("Workbook",n.join(""),{xmlns:za.ss,"xmlns:o":za.o,"xmlns:x":za.x,"xmlns:ss":za.ss,"xmlns:dt":za.dt,"xmlns:html":za.html})}var SE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function bPe(t,e){var n=[],r=[],i=[],a=0,s,o=TF(UF,"n"),l=TF(BF,"n");if(t.Props)for(s=pi(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?n:Object.prototype.hasOwnProperty.call(l,s[a])?r:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=pi(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?n:Object.prototype.hasOwnProperty.call(l,s[a])?r:i).push([s[a],t.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)EW.indexOf(i[a][0])>-1||wW.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);r.length&&An.utils.cfb_add(e,"/SummaryInformation",GF(r,SE.SI,l,BF)),(n.length||u.length)&&An.utils.cfb_add(e,"/DocumentSummaryInformation",GF(n,SE.DSI,o,UF,u.length?u:null,SE.UDI))}function EPe(t,e){var n=e||{},r=An.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return An.utils.cfb_add(r,i,tG(t,n)),n.biff==8&&(t.Props||t.Custprops)&&bPe(t,r),n.biff==8&&t.vbaraw&&HTe(r,An.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var TPe={0:{f:CMe},1:{f:kMe},2:{f:nCe},3:{f:GMe},4:{f:zMe},5:{f:JMe},6:{f:oCe},7:{f:YMe},8:{f:pCe},9:{f:dCe},10:{f:fCe},11:{f:hCe},12:{f:UMe},13:{f:iCe},14:{f:$Me},15:{f:HMe},16:{f:eCe},17:{f:uCe},18:{f:KMe},19:{f:c3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:QCe},40:{},42:{},43:{f:oTe},44:{f:aTe},45:{f:cTe},46:{f:hTe},47:{f:fTe},48:{},49:{f:U2e},50:{},51:{f:CTe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:BEe},62:{f:sCe},63:{f:LTe},64:{f:OCe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Lo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ACe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:LMe},148:{f:RMe,p:16},151:{f:_Ce},152:{},153:{f:ZCe},154:{},155:{},156:{f:qCe},157:{},158:{},159:{T:1,f:qEe},160:{T:-1},161:{T:1,f:zf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:mCe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ATe},336:{T:-1},337:{f:RTe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$M},357:{},358:{},359:{},360:{T:1},361:{},362:{f:IEe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:wCe},427:{f:SCe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ECe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:IMe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:yCe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$M},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:BTe},633:{T:1},634:{T:-1},635:{T:1,f:FTe},636:{T:-1},637:{f:H2e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:WCe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:RCe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function pt(t,e,n,r){var i=e;if(!isNaN(i)){var a=r||(n||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&o3(n)&&t.push(n)}}function APe(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return pt(t,e,n,i);var a=e;if(!isNaN(a)){for(var s=n.parts||[],o=0,l=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var c=t.next(4);for(c.write_shift(2,a),c.write_shift(2,u),t.push(n.slice(l,l+u)),l+=u;l<i;){for(c=t.next(4),c.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;c.write_shift(2,u),t.push(n.slice(l,l+u)),l+=u}}}function Sv(t,e,n){return t||(t=Ye(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function MPe(t,e,n,r){var i=Ye(9);return Sv(i,t,e),AW(n,r||"b",i),i}function CPe(t,e,n){var r=Ye(8+2*n.length);return Sv(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function PPe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?_a(Zi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?pt(t,2,WEe(n,r,i)):pt(t,3,HEe(n,r,i));return;case"b":case"e":pt(t,5,MPe(n,r,e.v,e.t));return;case"s":case"str":pt(t,4,CPe(n,r,(e.v||"").slice(0,255)));return}pt(t,1,Sv(null,n,r))}function OPe(t,e,n,r){var i=Array.isArray(e),a=Wn(e["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=Rr(a)}for(var u=a.s.r;u<=a.e.r;++u){o=hi(u);for(var c=a.s.c;c<=a.e.c;++c){u===a.s.r&&(l[c]=Oi(c)),s=l[c]+o;var f=i?(e[u]||[])[c]:e[s];f&&PPe(t,f,u,c)}}}function RPe(t,e){for(var n=e||{},r=xa(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==n.sheet&&(i=a);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return pt(r,n.biff==4?1033:n.biff==3?521:9,d3(t,16,n)),OPe(r,t.Sheets[t.SheetNames[i]],i,n),pt(r,10),r.end()}function NPe(t,e,n){pt(t,49,TEe({sz:12,name:"Arial"},n))}function IPe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&pt(t,1054,CEe(i,e[i],n))})}function LPe(t,e){var n=Ye(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),pt(t,2151,n),n=Ye(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),PW(Wn(e["!ref"]||"A1"),n),n.write_shift(4,4),pt(t,2152,n)}function DPe(t,e){for(var n=0;n<16;++n)pt(t,224,$F({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){pt(t,224,$F(r,0,e))})}function kPe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];pt(t,440,kEe(r)),r[1].Tooltip&&pt(t,2048,FEe(r))}delete e["!links"]}function FPe(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&pt(t,125,zEe(BS(i,r),i))})}}function UPe(t,e,n,r,i){var a=16+Ku(i.cellXfs,e,i);if(e.v==null&&!e.bf){pt(t,513,bf(n,r,a));return}if(e.bf)pt(t,6,lMe(e,n,r,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?_a(Zi(e.v)):e.v;pt(t,515,NEe(n,r,s,a));break;case"b":case"e":pt(t,517,REe(n,r,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=y3(i.Strings,e.v,i.revStrings);pt(t,253,AEe(n,r,o,a))}else pt(t,516,MEe(n,r,(e.v||"").slice(0,255),a,i));break;default:pt(t,513,bf(n,r,a))}}function BPe(t,e,n){var r=xa(),i=n.SheetNames[t],a=n.Sheets[i]||{},s=(n||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(a),u=e.biff==8,c,f="",h=[],d=Wn(a["!ref"]||"A1"),g=u?65536:16384;if(d.e.c>255||d.e.r>=g){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,g-1)}pt(r,2057,d3(n,16,e)),pt(r,13,fs(1)),pt(r,12,fs(100)),pt(r,15,Yi(!0)),pt(r,17,Yi(!1)),pt(r,16,Sf(.001)),pt(r,95,Yi(!0)),pt(r,42,Yi(!1)),pt(r,43,Yi(!1)),pt(r,130,fs(1)),pt(r,128,OEe()),pt(r,131,Yi(!1)),pt(r,132,Yi(!1)),u&&FPe(r,a["!cols"]),pt(r,512,PEe(d,e)),u&&(a["!links"]=[]);for(var v=d.s.r;v<=d.e.r;++v){f=hi(v);for(var y=d.s.c;y<=d.e.c;++y){v===d.s.r&&(h[y]=Oi(y)),c=h[y]+f;var x=l?(a[v]||[])[y]:a[c];x&&(UPe(r,x,v,y,e),u&&x.l&&a["!links"].push([c,x.l]))}}var w=o.CodeName||o.name||i;return u&&pt(r,574,EEe((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&pt(r,229,DEe(a["!merges"])),u&&kPe(r,a),pt(r,442,CW(w)),u&&LPe(r,a),pt(r,10),r.end()}function zPe(t,e,n){var r=xa(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(pt(r,2057,d3(t,5,n)),n.bookType=="xla"&&pt(r,135),pt(r,225,o?fs(1200):null),pt(r,193,fEe(2)),l&&pt(r,191),l&&pt(r,192),pt(r,226),pt(r,92,_Ee("SheetJS",n)),pt(r,66,fs(o?1200:1252)),o&&pt(r,353,fs(0)),o&&pt(r,448),pt(r,317,jEe(t.SheetNames.length)),o&&t.vbaraw&&pt(r,211),o&&t.vbaraw){var u=s.CodeName||"ThisWorkbook";pt(r,442,CW(u))}pt(r,156,fs(17)),pt(r,25,Yi(!1)),pt(r,18,Yi(!1)),pt(r,19,fs(0)),o&&pt(r,431,Yi(!1)),o&&pt(r,444,fs(0)),pt(r,61,bEe()),pt(r,64,Yi(!1)),pt(r,141,fs(0)),pt(r,34,Yi(VCe(t)=="true")),pt(r,14,Yi(!0)),o&&pt(r,439,Yi(!1)),pt(r,218,fs(0)),NPe(r,t,n),IPe(r,t.SSF,n),DPe(r,n),o&&pt(r,352,Yi(!1));var c=r.end(),f=xa();o&&pt(f,140,UEe()),o&&n.Strings&&APe(f,252,SEe(n.Strings)),pt(f,10);var h=f.end(),d=xa(),g=0,v=0;for(v=0;v<t.SheetNames.length;++v)g+=(o?12:11)+(o?2:1)*t.SheetNames[v].length;var y=c.length+g+h.length;for(v=0;v<t.SheetNames.length;++v){var x=a[v]||{};pt(d,133,wEe({pos:y,hs:x.Hidden||0,dt:0,name:t.SheetNames[v]},n)),y+=e[v].length}var w=d.end();if(g!=w.length)throw new Error("BS8 "+g+" != "+w.length);var _=[];return c.length&&_.push(c),w.length&&_.push(w),h.length&&_.push(h),li(_)}function jPe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=wa(ur)),t&&t.SSF&&(LS(),IS(t.SSF),n.revssf=DS(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,x3(n),n.cellXfs=[],Ku(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=BPe(i,n,t);return r.unshift(zPe(t,r,n)),li(r)}function tG(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Ya(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return jPe(t,e);case 4:case 3:case 2:return RPe(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function HPe(t,e,n,r){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>n||i[u].s.c>s)&&!(i[u].e.r<n||i[u].e.c<s)){if(i[u].s.r<n||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=Sn({r:n,c:s}),f=r.dense?(t[n]||[])[s]:t[c],h=f&&f.v!=null&&(f.h||x2e(f.w||(Ol(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(r.id||"sjs")+"-"+c,a.push(dt("td",h,d))}}var g="<tr>";return g+a.join("")+"</tr>"}var WPe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',GPe="</body></html>";function VPe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function nG(t,e){var n=e||{},r=n.header!=null?n.header:WPe,i=n.footer!=null?n.footer:GPe,a=[r],s=Ya(t["!ref"]);n.dense=Array.isArray(t),a.push(VPe(t,s,n));for(var o=s.s.r;o<=s.e.r;++o)a.push(HPe(t,s,o,n));return a.push("</table>"+i),a.join("")}function rG(t,e,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?Jr(r.origin):r.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var c=Ya(t["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var f=[],h=0,d=t["!rows"]||(t["!rows"]=[]),g=0,v=0,y=0,x=0,w=0,_=0;for(t["!cols"]||(t["!cols"]=[]);g<o.length&&v<l;++g){var S=o[g];if(QF(S)){if(r.display)continue;d[v]={hidden:!0}}var b=S.children;for(y=x=0;y<b.length;++y){var T=b[y];if(!(r.display&&QF(T))){var A=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):b2e(T.innerHTML),P=T.getAttribute("data-z")||T.getAttribute("z");for(h=0;h<f.length;++h){var M=f[h];M.s.c==x+a&&M.s.r<v+i&&v+i<=M.e.r&&(x=M.e.c+1-a,h=-1)}_=+T.getAttribute("colspan")||1,((w=+T.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:v+i,c:x+a},e:{r:v+i+(w||1)-1,c:x+a+(_||1)-1}});var R={t:"s",v:A},D=T.getAttribute("data-t")||T.getAttribute("t")||"";A!=null&&(A.length==0?R.t=D||"z":r.raw||A.trim().length==0||D=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(yl(A))?isNaN(Pg(A).getDate())||(R={t:"d",v:Zi(A)},r.cellDates||(R={t:"n",v:_a(R.v)}),R.z=r.dateNF||ur[14]):R={t:"n",v:yl(A)})),R.z===void 0&&P!=null&&(R.z=P);var L="",B=T.getElementsByTagName("A");if(B&&B.length)for(var G=0;G<B.length&&!(B[G].hasAttribute("href")&&(L=B[G].getAttribute("href"),L.charAt(0)!="#"));++G);L&&L.charAt(0)!="#"&&(R.l={Target:L}),r.dense?(t[v+i]||(t[v+i]=[]),t[v+i][x+a]=R):t[Sn({c:x+a,r:v+i})]=R,u.e.c<x+a&&(u.e.c=x+a),x+=_}}++v}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,v-1+i),t["!ref"]=Rr(u),v>=l&&(t["!fullref"]=Rr((u.e.r=o.length-g+v-1+i,u))),t}function iG(t,e){var n=e||{},r=n.dense?[]:{};return rG(r,t,e)}function $Pe(t,e){return kf(iG(t,e),e)}function QF(t){var e="",n=XPe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function XPe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var YPe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Rg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Nr+e}}(),eU=function(){var t=function(a){return _n(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,s,o){var l=[];l.push('      <table:table table:name="'+_n(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,c=0,f=Ya(a["!ref"]||"A1"),h=a["!merges"]||[],d=0,g=Array.isArray(a);if(a["!cols"])for(c=0;c<=f.e.c;++c)l.push("        <table:table-column"+(a["!cols"][c]?' table:style-name="co'+a["!cols"][c].ods+'"':"")+`></table:table-column>
`);var v="",y=a["!rows"]||[];for(u=0;u<f.s.r;++u)v=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=f.e.r;++u){for(v=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+v+`>
`),c=0;c<f.s.c;++c)l.push(e);for(;c<=f.e.c;++c){var x=!1,w={},_="";for(d=0;d!=h.length;++d)if(!(h[d].s.c>c)&&!(h[d].s.r>u)&&!(h[d].e.c<c)&&!(h[d].e.r<u)){(h[d].s.c!=c||h[d].s.r!=u)&&(x=!0),w["table:number-columns-spanned"]=h[d].e.c-h[d].s.c+1,w["table:number-rows-spanned"]=h[d].e.r-h[d].s.r+1;break}if(x){l.push(n);continue}var S=Sn({r:u,c}),b=g?(a[u]||[])[c]:a[S];if(b&&b.f&&(w["table:formula"]=_n(pMe(b.f)),b.F&&b.F.slice(0,S.length)==S)){var T=Ya(b.F);w["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,w["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!b){l.push(e);continue}switch(b.t){case"b":_=b.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=b.v?"true":"false";break;case"n":_=b.w||String(b.v||0),w["office:value-type"]="float",w["office:value"]=b.v||0;break;case"s":case"str":_=b.v==null?"":b.v,w["office:value-type"]="string";break;case"d":_=b.w||Zi(b.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Zi(b.v).toISOString(),w["table:style-name"]="ce1";break;default:l.push(e);continue}var A=t(_);if(b.l&&b.l.Target){var P=b.l.Target;P=P.charAt(0)=="#"?"#"+mMe(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),A=dt("text:a",A,{"xlink:href":P.replace(/&/g,"&amp;")})}l.push("          "+dt("table:table-cell",dt("text:p",A,{}),w)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var c=0;c<u["!cols"].length;++c)if(u["!cols"][c]){var f=u["!cols"][c];if(f.width==null&&f.wpx==null&&f.wch==null)continue;p3(f),f.ods=o;var h=u["!cols"][c].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var c=0;c<u["!rows"].length;++c)if(u["!rows"][c]){u["!rows"][c].ods=l;var f=u["!rows"][c].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[Nr],u=Rg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=Rg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+c+`>
`),l.push(xW().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(r(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function aG(t,e){if(e.bookType=="fods")return eU(t,e);var n=r3(),r="",i=[],a=[];return r="mimetype",Yt(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Yt(n,r,eU(t,e)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",Yt(n,r,YPe(t,e)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",Yt(n,r,Nr+xW()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",Yt(n,r,sEe(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Yt(n,r,iEe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function gw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qPe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ys(Og(t))}function KPe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function ku(t){var e=t.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function ZPe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=n>=0?0:128}function Ng(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function yn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Sd(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Fr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Ng(t,n),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:s=4,o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=Ng(t,n),o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function ii(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(yn(r*8+i.type)),i.type==2&&e.push(yn(i.data.length)),e.push(i.data))})}),ku(e)}function Ns(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Ng(t,r),a=Fr(t.slice(r[0],r[0]+i));r[0]+=i;var s={id:Sd(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Fr(o.data),u=Sd(l[3][0].data);s.messages.push({meta:l,data:t.slice(r[0],r[0]+u)}),r[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=Sd(a[3][0].data)>>>0>0),n.push(s)}return n}function dh(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:yn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:yn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:yn(s.data.length)}],r[2].push({data:ii(s.meta),type:2})});var a=ii(r);e.push(yn(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),ku(e)}function JPe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Ng(e,n),i=[];n[0]<e.length;){var a=e[n[0]]&3;if(a==0){var s=e[n[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[n[0]],o>1&&(s|=e[n[0]+1]<<8),o>2&&(s|=e[n[0]+2]<<16),o>3&&(s|=e[n[0]+3]<<24),s>>>=0,s++,n[0]+=o}i.push(e.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(u=(e[n[0]++]>>2)+1,a==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[ku(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=ku(i);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function Is(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(JPe(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return ku(e)}function ph(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var a=yn(r),s=a.length;e.push(a),r<=60?(s++,e.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),s+=r,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,n+=r}return ku(e)}function bE(t,e){var n=new Uint8Array(32),r=gw(n),i=12,a=0;switch(n[0]=5,t.t){case"n":n[1]=2,ZPe(n,i,t.v),a|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),n.slice(0,i)}function EE(t,e){var n=new Uint8Array(32),r=gw(n),i=12,a=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,a,!0),n.slice(0,i)}function Jl(t){var e=Fr(t);return Ng(e[1][0].data)}function QPe(t,e,n){var r,i,a,s;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&Sd(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=gw(t[7][0].data),c=0,f=[],h=gw(t[4][0].data),d=0,g=[],v=0;v<e.length;++v){if(e[v]==null){u.setUint16(v*2,65535,!0),h.setUint16(v*2,65535);continue}u.setUint16(v*2,c,!0),h.setUint16(v*2,d,!0);var y,x;switch(typeof e[v]){case"string":y=bE({t:"s",v:e[v]},n),x=EE({t:"s",v:e[v]},n);break;case"number":y=bE({t:"n",v:e[v]},n),x=EE({t:"n",v:e[v]},n);break;case"boolean":y=bE({t:"b",v:e[v]},n),x=EE({t:"b",v:e[v]},n);break;default:throw new Error("Unsupported value "+e[v])}f.push(y),c+=y.length,g.push(x),d+=x.length,++l}for(t[2][0].data=yn(l);v<t[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),h.setUint16(v*2,65535,!0);return t[6][0].data=ku(f),t[3][0].data=ku(g),l}function eOe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ya(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Rr(r)));var a=vw(n,{range:r,header:1}),s=["~Sh33tJ5~"];a.forEach(function(V){return V.forEach(function(Y){typeof Y=="string"&&s.push(Y)})});var o={},l=[],u=An.read(e.numbers,{type:"base64"});u.FileIndex.map(function(V,Y){return[V,u.FullPaths[Y]]}).forEach(function(V){var Y=V[0],q=V[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var ae=Y.content,pe=Is(ae),ye=Ns(pe);ye.forEach(function(ge){l.push(ge.id),o[ge.id]={deps:[],location:q,type:Sd(ge.messages[0].meta[1][0].data)}})}}),l.sort(function(V,Y){return V-Y});var c=l.filter(function(V){return V>1}).map(function(V){return[V,yn(V)]});u.FileIndex.map(function(V,Y){return[V,u.FullPaths[Y]]}).forEach(function(V){var Y=V[0];if(V[1],!!Y.name.match(/\.iwa/)){var q=Ns(Is(Y.content));q.forEach(function(ae){ae.messages.forEach(function(pe){c.forEach(function(ye){ae.messages.some(function(ge){return Sd(ge.meta[1][0].data)!=11006&&KPe(ge.data,ye[1])})&&o[ye[0]].deps.push(ae.id)})})})}});for(var f=An.find(u,o[1].location),h=Ns(Is(f.content)),d,g=0;g<h.length;++g){var v=h[g];v.id==1&&(d=v)}var y=Jl(Fr(d.messages[0].data)[1][0].data);for(f=An.find(u,o[y].location),h=Ns(Is(f.content)),g=0;g<h.length;++g)v=h[g],v.id==y&&(d=v);for(y=Jl(Fr(d.messages[0].data)[2][0].data),f=An.find(u,o[y].location),h=Ns(Is(f.content)),g=0;g<h.length;++g)v=h[g],v.id==y&&(d=v);for(y=Jl(Fr(d.messages[0].data)[2][0].data),f=An.find(u,o[y].location),h=Ns(Is(f.content)),g=0;g<h.length;++g)v=h[g],v.id==y&&(d=v);var x=Fr(d.messages[0].data);{x[6][0].data=yn(r.e.r+1),x[7][0].data=yn(r.e.c+1);var w=Jl(x[46][0].data),_=An.find(u,o[w].location),S=Ns(Is(_.content));{for(var b=0;b<S.length&&S[b].id!=w;++b);if(S[b].id!=w)throw"Bad ColumnRowUIDMapArchive";var T=Fr(S[b].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var A=0;A<=r.e.c;++A){var P=[];P[1]=P[2]=[{type:0,data:yn(A+420690)}],T[1].push({type:2,data:ii(P)}),T[2].push({type:0,data:yn(A)}),T[3].push({type:0,data:yn(A)})}T[4]=[],T[5]=[],T[6]=[];for(var M=0;M<=r.e.r;++M)P=[],P[1]=P[2]=[{type:0,data:yn(M+726270)}],T[4].push({type:2,data:ii(P)}),T[5].push({type:0,data:yn(M)}),T[6].push({type:0,data:yn(M)});S[b].messages[0].data=ii(T)}_.content=ph(dh(S)),_.size=_.content.length,delete x[46];var R=Fr(x[4][0].data);{R[7][0].data=yn(r.e.r+1);var D=Fr(R[1][0].data),L=Jl(D[2][0].data);_=An.find(u,o[L].location),S=Ns(Is(_.content));{if(S[0].id!=L)throw"Bad HeaderStorageBucket";var B=Fr(S[0].messages[0].data);for(M=0;M<a.length;++M){var G=Fr(B[2][0].data);G[1][0].data=yn(M),G[4][0].data=yn(a[M].length),B[2][M]={type:B[2][0].type,data:ii(G)}}S[0].messages[0].data=ii(B)}_.content=ph(dh(S)),_.size=_.content.length;var z=Jl(R[2][0].data);_=An.find(u,o[z].location),S=Ns(Is(_.content));{if(S[0].id!=z)throw"Bad HeaderStorageBucket";for(B=Fr(S[0].messages[0].data),A=0;A<=r.e.c;++A)G=Fr(B[2][0].data),G[1][0].data=yn(A),G[4][0].data=yn(r.e.r+1),B[2][A]={type:B[2][0].type,data:ii(G)};S[0].messages[0].data=ii(B)}_.content=ph(dh(S)),_.size=_.content.length;var Z=Jl(R[4][0].data);(function(){for(var V=An.find(u,o[Z].location),Y=Ns(Is(V.content)),q,ae=0;ae<Y.length;++ae){var pe=Y[ae];pe.id==Z&&(q=pe)}var ye=Fr(q.messages[0].data);{ye[3]=[];var ge=[];s.forEach(function(W,Pe){ge[1]=[{type:0,data:yn(Pe)}],ge[2]=[{type:0,data:yn(1)}],ge[3]=[{type:2,data:qPe(W)}],ye[3].push({type:2,data:ii(ge)})})}q.messages[0].data=ii(ye);var Se=dh(Y),we=ph(Se);V.content=we,V.size=V.content.length})();var ee=Fr(R[3][0].data);{var U=ee[1][0];delete ee[2];var H=Fr(U.data);{var X=Jl(H[2][0].data);(function(){for(var V=An.find(u,o[X].location),Y=Ns(Is(V.content)),q,ae=0;ae<Y.length;++ae){var pe=Y[ae];pe.id==X&&(q=pe)}var ye=Fr(q.messages[0].data);{delete ye[6],delete ee[7];var ge=new Uint8Array(ye[5][0].data);ye[5]=[];for(var Se=0,we=0;we<=r.e.r;++we){var W=Fr(ge);Se+=QPe(W,a[we],s),W[1][0].data=yn(we),ye[5].push({data:ii(W),type:2})}ye[1]=[{type:0,data:yn(r.e.c+1)}],ye[2]=[{type:0,data:yn(r.e.r+1)}],ye[3]=[{type:0,data:yn(Se)}],ye[4]=[{type:0,data:yn(r.e.r+1)}]}q.messages[0].data=ii(ye);var Pe=dh(Y),ve=ph(Pe);V.content=ve,V.size=V.content.length})()}U.data=ii(H)}R[3][0].data=ii(ee)}x[4][0].data=ii(R)}d.messages[0].data=ii(x);var F=dh(h),N=ph(F);return f.content=N,f.size=f.content.length,u}function tOe(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function x3(t){tOe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function nOe(t,e){return e.bookType=="ods"?aG(t,e):e.bookType=="numbers"?eOe(t,e):e.bookType=="xlsb"?rOe(t,e):iOe(t,e)}function rOe(t,e){id=1024,t&&!t.SSF&&(t.SSF=wa(ur)),t&&t.SSF&&(LS(),IS(t.SSF),e.revssf=DS(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=jW.indexOf(e.bookType)>-1,i=gW();x3(e=e||{});var a=r3(),s="",o=0;if(e.cellXfs=[],Ku(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Yt(a,s,_W(t.Props,e)),i.coreprops.push(s),xn(e.rels,2,s,fn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Yt(a,s,SW(t.Props)),i.extprops.push(s),xn(e.rels,3,s,fn.EXT_PROPS),t.Custprops!==t.Props&&pi(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Yt(a,s,bW(t.Custprops)),i.custprops.push(s),xn(e.rels,4,s,fn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var c={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+n,Yt(a,s,sPe(o-1,s,e,t,c)),i.sheets.push(s),xn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,fn.WS[0])}if(f){var d=f["!comments"],g=!1,v="";d&&d.length>0&&(v="xl/comments"+o+"."+n,Yt(a,v,uPe(d,v)),i.comments.push(v),xn(c,-1,"../comments"+o+"."+n,fn.CMNT),g=!0),f["!legacy"]&&g&&Yt(a,"xl/drawings/vmlDrawing"+o+".vml",BW(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}c["!id"].rId1&&Yt(a,yW(s),_d(c))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,Yt(a,s,lPe(e.Strings,s,e)),i.strs.push(s),xn(e.wbrels,-1,"sharedStrings."+n,fn.SST)),s="xl/workbook."+n,Yt(a,s,aPe(t,s)),i.workbooks.push(s),xn(e.rels,1,s,fn.WB),s="xl/theme/theme1.xml",Yt(a,s,FW(t.Themes,e)),i.themes.push(s),xn(e.wbrels,-1,"theme/theme1.xml",fn.THEME),s="xl/styles."+n,Yt(a,s,oPe(t,s,e)),i.styles.push(s),xn(e.wbrels,-1,"styles."+n,fn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",Yt(a,s,t.vbaraw),i.vba.push(s),xn(e.wbrels,-1,"vbaProject.bin",fn.VBA)),s="xl/metadata."+n,Yt(a,s,cPe(s)),i.metadata.push(s),xn(e.wbrels,-1,"metadata."+n,fn.XLMETA),Yt(a,"[Content_Types].xml",vW(i,e)),Yt(a,"_rels/.rels",_d(e.rels)),Yt(a,"xl/_rels/workbook."+n+".rels",_d(e.wbrels)),delete e.revssf,delete e.ssf,a}function iOe(t,e){id=1024,t&&!t.SSF&&(t.SSF=wa(ur)),t&&t.SSF&&(LS(),IS(t.SSF),e.revssf=DS(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=jW.indexOf(e.bookType)>-1,i=gW();x3(e=e||{});var a=r3(),s="",o=0;if(e.cellXfs=[],Ku(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Yt(a,s,_W(t.Props,e)),i.coreprops.push(s),xn(e.rels,2,s,fn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Yt(a,s,SW(t.Props)),i.extprops.push(s),xn(e.rels,3,s,fn.EXT_PROPS),t.Custprops!==t.Props&&pi(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Yt(a,s,bW(t.Custprops)),i.custprops.push(s),xn(e.rels,4,s,fn.CUST_PROPS));var c=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+n,Yt(a,s,KW(o-1,e,t,f)),i.sheets.push(s),xn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,fn.WS[0])}if(h){var g=h["!comments"],v=!1,y="";if(g&&g.length>0){var x=!1;g.forEach(function(w){w[1].forEach(function(_){_.T==!0&&(x=!0)})}),x&&(y="xl/threadedComments/threadedComment"+o+"."+n,Yt(a,y,DTe(g,c,e)),i.threadedcomments.push(y),xn(f,-1,"../threadedComments/threadedComment"+o+"."+n,fn.TCMNT)),y="xl/comments"+o+"."+n,Yt(a,y,zW(g)),i.comments.push(y),xn(f,-1,"../comments"+o+"."+n,fn.CMNT),v=!0}h["!legacy"]&&v&&Yt(a,"xl/drawings/vmlDrawing"+o+".vml",BW(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Yt(a,yW(s),_d(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,Yt(a,s,RW(e.Strings,e)),i.strs.push(s),xn(e.wbrels,-1,"sharedStrings."+n,fn.SST)),s="xl/workbook."+n,Yt(a,s,QW(t)),i.workbooks.push(s),xn(e.rels,1,s,fn.WB),s="xl/theme/theme1.xml",Yt(a,s,FW(t.Themes,e)),i.themes.push(s),xn(e.wbrels,-1,"theme/theme1.xml",fn.THEME),s="xl/styles."+n,Yt(a,s,DW(t,e)),i.styles.push(s),xn(e.wbrels,-1,"styles."+n,fn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",Yt(a,s,t.vbaraw),i.vba.push(s),xn(e.wbrels,-1,"vbaProject.bin",fn.VBA)),s="xl/metadata."+n,Yt(a,s,UW()),i.metadata.push(s),xn(e.wbrels,-1,"metadata."+n,fn.XLMETA),c.length>1&&(s="xl/persons/person.xml",Yt(a,s,kTe(c)),i.people.push(s),xn(e.wbrels,-1,"persons/person.xml",fn.PEOPLE)),Yt(a,"[Content_Types].xml",vW(i,e)),Yt(a,"_rels/.rels",_d(e.rels)),Yt(a,"xl/_rels/workbook."+n+".rels",_d(e.wbrels)),delete e.revssf,delete e.ssf,a}function aOe(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Pl(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function sG(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return yv(e.file,An.write(t,{type:mn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return An.write(t,e)}function sOe(t,e){var n=wa(e||{}),r=nOe(t,n);return oOe(r,n)}function oOe(t,e){var n={},r=mn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?An.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(NS(i))}return e.password&&typeof encrypt_agile<"u"?sG(encrypt_agile(i,e.password),e):e.type==="file"?yv(e.file,i):e.type=="string"?dm(i):i}function lOe(t,e){var n=e||{},r=EPe(t,n);return sG(r,n)}function _o(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Cg(Og(r));case"binary":return Og(r);case"string":return t;case"file":return yv(e.file,r,"utf8");case"buffer":return mn?Ul(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):_o(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function uOe(t,e){switch(e.type){case"base64":return Cg(t);case"binary":return t;case"string":return t;case"file":return yv(e.file,t,"binary");case"buffer":return mn?Ul(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function cx(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Cg(n):e.type=="string"?dm(n):n;case"file":return yv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function oG(t,e){Fbe(),YCe(t);var n=wa(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=oG(t,n);return n.type="array",NS(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return _o(SPe(t,n),n);case"slk":case"sylk":return _o(VEe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return _o(nG(t.Sheets[t.SheetNames[i]],n),n);case"txt":return uOe(lG(t.Sheets[t.SheetNames[i]],n),n);case"csv":return _o(_3(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return _o($Ee.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return cx(GEe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return _o(XEe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return _o(eTe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return _o(OW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return _o(aG(t,n),n);case"wk1":return cx(XF.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return cx(XF.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),cx(tG(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),lOe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return sOe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function cOe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function fOe(t,e,n){var r={};return r.type="file",r.file=e,cOe(r),oG(t,r)}function hOe(t,e,n,r,i,a,s,o){var l=hi(n),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!s||t[n])for(var d=e.s.c;d<=e.e.c;++d){var g=s?t[n][d]:t[r[d]+l];if(g===void 0||g.t===void 0){if(u===void 0)continue;a[d]!=null&&(h[a[d]]=u);continue}var v=g.v;switch(g.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(a[d]!=null){if(v==null)if(g.t=="e"&&v===null)h[a[d]]=null;else if(u!==void 0)h[a[d]]=u;else if(c&&v===null)h[a[d]]=null;else continue;else h[a[d]]=c&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?v:Ol(g,v,o);v!=null&&(f=!1)}}return{row:h,isempty:f}}function vw(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:t["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof c){case"string":l=Wn(c);break;case"number":l=Wn(t["!ref"]),l.s.r=c;break;default:l=c}r>0&&(i=0);var f=hi(l.s.r),h=[],d=[],g=0,v=0,y=Array.isArray(t),x=l.s.r,w=0,_={};y&&!t[x]&&(t[x]=[]);var S=u.skipHidden&&t["!cols"]||[],b=u.skipHidden&&t["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(S[w]||{}).hidden)switch(h[w]=Oi(w),n=y?t[x][w]:t[h[w]+f],r){case 1:a[w]=w-l.s.c;break;case 2:a[w]=h[w];break;case 3:a[w]=u.header[w-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=s=Ol(n,null,u),v=_[s]||0,!v)_[s]=1;else{do o=s+"_"+v++;while(_[o]);_[s]=v,_[o]=1}a[w]=o}for(x=l.s.r+i;x<=l.e.r;++x)if(!(b[x]||{}).hidden){var T=hOe(t,l,x,h,r,a,y,u);(T.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(d[g++]=T.row)}return d.length=g,d}var tU=/"/g;function dOe(t,e,n,r,i,a,s,o){for(var l=!0,u=[],c="",f=hi(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var d=o.dense?(t[n]||[])[h]:t[r[h]+f];if(d==null)c="";else if(d.v!=null){l=!1,c=""+(o.rawNumbers&&d.t=="n"?d.v:Ol(d,null,o));for(var g=0,v=0;g!==c.length;++g)if((v=c.charCodeAt(g))===i||v===a||v===34||o.forceQuotes){c='"'+c.replace(tU,'""')+'"';break}c=="ID"&&(c='"ID"')}else d.f!=null&&!d.F?(l=!1,c="="+d.f,c.indexOf(",")>=0&&(c='"'+c.replace(tU,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(s)}function _3(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Wn(t["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],d=r.skipHidden&&t["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(h[g]||{}).hidden||(f[g]=Oi(g));for(var v=0,y=i.s.r;y<=i.e.r;++y)(d[y]||{}).hidden||(c=dOe(t,i,y,f,s,l,a,r),c!=null&&(r.strip&&(c=c.replace(u,"")),(c||r.blankrows!==!1)&&n.push((v++?o:"")+c)));return delete r.dense,n.join("")}function lG(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=_3(t,e);return n}function pOe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Wn(t["!ref"]),a="",s=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=Oi(o);for(var c=i.s.r;c<=i.e.r;++c)for(a=hi(c),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,n=u?(t[c]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function uG(t,e,n){var r=n||{},i=+!r.skipHeader,a=t||{},s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Jr(r.origin):r.origin;s=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=Wn(a["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),s==-1&&(s=f.e.r+1,c.e.r=s+e.length-1+i)}else s==-1&&(s=0,c.e.r=e.length-1+i);var h=r.header||[],d=0;e.forEach(function(v,y){pi(v).forEach(function(x){(d=h.indexOf(x))==-1&&(h[d=h.length]=x);var w=v[x],_="z",S="",b=Sn({c:o+d,r:s+y+i});u=Ig(a,b),w&&typeof w=="object"&&!(w instanceof Date)?a[b]=w:(typeof w=="number"?_="n":typeof w=="boolean"?_="b":typeof w=="string"?_="s":w instanceof Date?(_="d",r.cellDates||(_="n",w=_a(w)),S=r.dateNF||ur[14]):w===null&&r.nullError&&(_="e",w=0),u?(u.t=_,u.v=w,delete u.w,delete u.R,S&&(u.z=S)):a[b]=u={t:_,v:w},S&&(u.z=S))})}),c.e.c=Math.max(c.e.c,o+h.length-1);var g=hi(s);if(i)for(d=0;d<h.length;++d)a[Oi(d+o)+g]={t:"s",v:h[d]};return a["!ref"]=Rr(c),a}function mOe(t,e){return uG(null,t,e)}function Ig(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Jr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Ig(t,Sn(e)):Ig(t,Sn({r:e,c:n||0}))}function gOe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function vOe(){return{SheetNames:[],Sheets:{}}}function yOe(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=s+i)!=-1;++i);}if(JW(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function xOe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=gOe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function _Oe(t,e){return t.z=e,t}function cG(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function wOe(t,e,n){return cG(t,"#"+e,n)}function SOe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function bOe(t,e,n,r){for(var i=typeof e!="string"?e:Wn(e),a=typeof e=="string"?e:Rr(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=Ig(t,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var TE={encode_col:Oi,encode_row:hi,encode_cell:Sn,encode_range:Rr,decode_col:u3,decode_row:l3,split_cell:F2e,decode_cell:Jr,decode_range:Ya,format_cell:Ol,sheet_add_aoa:cW,sheet_add_json:uG,sheet_add_dom:rG,aoa_to_sheet:Op,json_to_sheet:mOe,table_to_sheet:iG,table_to_book:$Pe,sheet_to_csv:_3,sheet_to_txt:lG,sheet_to_json:vw,sheet_to_html:nG,sheet_to_formulae:pOe,sheet_to_row_object_array:vw,sheet_get_cell:Ig,book_new:vOe,book_append_sheet:yOe,book_set_sheet_visibility:xOe,cell_set_number_format:_Oe,cell_set_hyperlink:cG,cell_set_internal_link:wOe,cell_add_comment:SOe,sheet_set_array_formula:bOe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const zS="156",Ic={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},fG=0,YM=1,hG=2,EOe=3,dG=0,jS=1,ym=2,Bs=3,Rl=0,Ji=1,qs=2,TOe=2,_l=0,af=1,qM=2,KM=3,ZM=4,pG=5,Fc=100,mG=101,gG=102,JM=103,QM=104,vG=200,yG=201,xG=202,_G=203,w3=204,S3=205,wG=206,SG=207,bG=208,EG=209,TG=210,AG=0,MG=1,CG=2,yw=3,PG=4,OG=5,RG=6,NG=7,bv=0,IG=1,LG=2,Oo=0,DG=1,kG=2,FG=3,b3=4,UG=5,HS=300,Nl=301,Fu=302,Lg=303,Dg=304,Ip=306,kg=1e3,Pi=1001,Fg=1002,mr=1003,xw=1004,AOe=1004,xm=1005,MOe=1005,Zn=1006,E3=1007,COe=1007,Uu=1008,POe=1008,Ro=1009,BG=1010,zG=1011,WS=1012,T3=1013,hl=1014,Eo=1015,ip=1016,A3=1017,M3=1018,Mu=1020,jG=1021,ca=1023,HG=1024,WG=1025,Cu=1026,Ef=1027,GG=1028,C3=1029,VG=1030,P3=1031,O3=1033,_1=33776,w1=33777,S1=33778,b1=33779,eC=35840,tC=35841,nC=35842,rC=35843,$G=36196,iC=37492,aC=37496,sC=37808,oC=37809,lC=37810,uC=37811,cC=37812,fC=37813,hC=37814,dC=37815,pC=37816,mC=37817,gC=37818,vC=37819,yC=37820,xC=37821,E1=36492,_C=36494,wC=36495,XG=36283,SC=36284,bC=36285,EC=36286,YG=2200,qG=2201,KG=2202,Ug=2300,Bg=2301,T1=2302,Xc=2400,Yc=2401,zg=2402,GS=2500,R3=2501,OOe=0,ROe=1,NOe=2,N3=3e3,Pu=3001,ZG=3200,I3=3201,Zu=0,JG=1,Ou="",Dn="srgb",no="srgb-linear",Ev="display-p3",IOe="display-p3-linear",LOe=0,A1=7680,DOe=7681,kOe=7682,FOe=7683,UOe=34055,BOe=34056,zOe=5386,jOe=512,HOe=513,WOe=514,GOe=515,VOe=516,$Oe=517,XOe=518,QG=519,e9=512,t9=513,n9=514,r9=515,i9=516,a9=517,s9=518,o9=519,jg=35044,YOe=35048,qOe=35040,KOe=35045,ZOe=35049,JOe=35041,QOe=35046,e3e=35050,t3e=35042,n3e="100",TC="300 es",_w=1035,To=2e3,Hg=2001;let Bl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}};const Si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nU=1234567;const sf=Math.PI/180,ap=180/Math.PI;function Va(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Si[t&255]+Si[t>>8&255]+Si[t>>16&255]+Si[t>>24&255]+"-"+Si[e&255]+Si[e>>8&255]+"-"+Si[e>>16&15|64]+Si[e>>24&255]+"-"+Si[n&63|128]+Si[n>>8&255]+"-"+Si[n>>16&255]+Si[n>>24&255]+Si[r&255]+Si[r>>8&255]+Si[r>>16&255]+Si[r>>24&255]).toLowerCase()}function lr(t,e,n){return Math.max(e,Math.min(n,t))}function L3(t,e){return(t%e+e)%e}function r3e(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function i3e(t,e,n){return t!==e?(n-t)/(e-t):0}function _m(t,e,n){return(1-n)*t+n*e}function a3e(t,e,n,r){return _m(t,e,1-Math.exp(-n*r))}function s3e(t,e=1){return e-Math.abs(L3(t,e*2)-e)}function o3e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function l3e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function u3e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function c3e(t,e){return t+Math.random()*(e-t)}function f3e(t){return t*(.5-Math.random())}function h3e(t){t!==void 0&&(nU=t);let e=nU+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function d3e(t){return t*sf}function p3e(t){return t*ap}function AC(t){return(t&t-1)===0&&t!==0}function l9(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ww(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function m3e(t,e,n,r,i){const a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),u=a((e+r)/2),c=s((e+r)/2),f=a((e-r)/2),h=s((e-r)/2),d=a((r-e)/2),g=s((r-e)/2);switch(i){case"XYX":t.set(o*c,l*f,l*h,o*u);break;case"YZY":t.set(l*h,o*c,l*f,o*u);break;case"ZXZ":t.set(l*f,l*h,o*c,o*u);break;case"XZX":t.set(o*c,l*g,l*d,o*u);break;case"YXY":t.set(l*d,o*c,l*g,o*u);break;case"ZYZ":t.set(l*g,l*d,o*c,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function fa(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function $t(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const g3e={DEG2RAD:sf,RAD2DEG:ap,generateUUID:Va,clamp:lr,euclideanModulo:L3,mapLinear:r3e,inverseLerp:i3e,lerp:_m,damp:a3e,pingpong:s3e,smoothstep:o3e,smootherstep:l3e,randInt:u3e,randFloat:c3e,randFloatSpread:f3e,seededRandom:h3e,degToRad:d3e,radToDeg:p3e,isPowerOfTwo:AC,ceilPowerOfTwo:l9,floorPowerOfTwo:ww,setQuaternionFromProperEuler:m3e,normalize:$t,denormalize:fa};class Qe{constructor(e=0,n=0){Qe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(lr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Vt{constructor(e,n,r,i,a,s,o,l,u){Vt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,u)}set(e,n,r,i,a,s,o,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=n,c[4]=a,c[5]=l,c[6]=r,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],d=r[5],g=r[8],v=i[0],y=i[3],x=i[6],w=i[1],_=i[4],S=i[7],b=i[2],T=i[5],A=i[8];return a[0]=s*v+o*w+l*b,a[3]=s*y+o*_+l*T,a[6]=s*x+o*S+l*A,a[1]=u*v+c*w+f*b,a[4]=u*y+c*_+f*T,a[7]=u*x+c*S+f*A,a[2]=h*v+d*w+g*b,a[5]=h*y+d*_+g*T,a[8]=h*x+d*S+g*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return n*s*c-n*o*u-r*a*c+r*o*l+i*a*u-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=c*s-o*u,h=o*l-c*a,d=u*a-s*l,g=n*f+r*h+i*d;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*u-c*r)*v,e[2]=(o*r-i*s)*v,e[3]=h*v,e[4]=(c*n-i*l)*v,e[5]=(i*a-o*n)*v,e[6]=d*v,e[7]=(r*l-u*n)*v,e[8]=(s*n-r*a)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,s,o){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*s+u*o)+s+e,-i*u,i*l,-i*(-u*s+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(AE.makeScale(e,n)),this}rotate(e){return this.premultiply(AE.makeRotation(-e)),this}translate(e,n){return this.premultiply(AE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const AE=new Vt;function u9(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const v3e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ad(t,e){return new v3e[t](e)}function Wg(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function c9(){const t=Wg("canvas");return t.style.display="block",t}const rU={};function wm(t){t in rU||(rU[t]=!0,console.warn(t))}function bd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ME(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const y3e=new Vt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),x3e=new Vt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function _3e(t){return t.convertSRGBToLinear().applyMatrix3(x3e)}function w3e(t){return t.applyMatrix3(y3e).convertLinearToSRGB()}const S3e={[no]:t=>t,[Dn]:t=>t.convertSRGBToLinear(),[Ev]:_3e},b3e={[no]:t=>t,[Dn]:t=>t.convertLinearToSRGB(),[Ev]:w3e},cs={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return no},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=S3e[e],i=b3e[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let mh;class D3{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{mh===void 0&&(mh=Wg("canvas")),mh.width=e.width,mh.height=e.height;const r=mh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=mh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Wg("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=bd(a[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(bd(n[r]/255)*255):n[r]=bd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let E3e=0;class qc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:E3e++}),this.uuid=Va(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(CE(i[s].image)):a.push(CE(i[s]))}else a=CE(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function CE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?D3.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let T3e=0;class cr extends Bl{constructor(e=cr.DEFAULT_IMAGE,n=cr.DEFAULT_MAPPING,r=Pi,i=Pi,a=Zn,s=Uu,o=ca,l=Ro,u=cr.DEFAULT_ANISOTROPY,c=Ou){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:T3e++}),this.uuid=Va(),this.name="",this.source=new qc(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Qe(0,0),this.repeat=new Qe(1,1),this.center=new Qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Vt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(wm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Pu?Dn:Ou),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==HS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case kg:e.x=e.x-Math.floor(e.x);break;case Pi:e.x=e.x<0?0:1;break;case Fg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case kg:e.y=e.y-Math.floor(e.y);break;case Pi:e.y=e.y<0?0:1;break;case Fg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return wm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Dn?Pu:N3}set encoding(e){wm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Pu?Dn:Ou}}cr.DEFAULT_IMAGE=null;cr.DEFAULT_MAPPING=HS;cr.DEFAULT_ANISOTROPY=1;class gn{constructor(e=0,n=0,r=0,i=1){gn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],d=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(u+d+x-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,S=(d+1)/2,b=(x+1)/2,T=(c+h)/4,A=(f+v)/4,P=(g+y)/4;return _>S&&_>b?_<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(_),i=T/r,a=A/r):S>b?S<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(S),r=T/i,a=P/i):b<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(b),r=A/a,i=P/a),this.set(r,i,a,n),this}let w=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(h-c)*(h-c));return Math.abs(w)<.001&&(w=1),this.x=(y-g)/w,this.y=(f-v)/w,this.z=(h-c)/w,this.w=Math.acos((u+d+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class f9 extends Bl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new gn(0,0,e,n),this.scissorTest=!1,this.viewport=new gn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(wm("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Pu?Dn:Ou),this.texture=new cr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Zn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new qc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ro extends f9{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class VS extends cr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=mr,this.minFilter=mr,this.wrapR=Pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class A3e extends ro{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new VS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class k3 extends cr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=mr,this.minFilter=mr,this.wrapR=Pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class M3e extends ro{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new k3(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class C3e extends ro{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const a=this.texture;this.texture=[];for(let s=0;s<r;s++)this.texture[s]=a.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.texture.length;i<a;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Ni{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,s,o){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=a[s+0],d=a[s+1],g=a[s+2],v=a[s+3];if(o===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(o===1){e[n+0]=h,e[n+1]=d,e[n+2]=g,e[n+3]=v;return}if(f!==v||l!==h||u!==d||c!==g){let y=1-o;const x=l*h+u*d+c*g+f*v,w=x>=0?1:-1,_=1-x*x;if(_>Number.EPSILON){const b=Math.sqrt(_),T=Math.atan2(b,x*w);y=Math.sin(y*T)/b,o=Math.sin(o*T)/b}const S=o*w;if(l=l*y+h*S,u=u*y+d*S,c=c*y+g*S,f=f*y+v*S,y===1-o){const b=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=b,u*=b,c*=b,f*=b}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,a,s){const o=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=a[s],h=a[s+1],d=a[s+2],g=a[s+3];return e[n]=o*g+c*f+l*d-u*h,e[n+1]=l*g+c*h+u*f-o*d,e[n+2]=u*g+c*d+o*h-l*f,e[n+3]=c*g-o*f-l*h-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,u=o(r/2),c=o(i/2),f=o(a/2),h=l(r/2),d=l(i/2),g=l(a/2);switch(s){case"XYZ":this._x=h*c*f+u*d*g,this._y=u*d*f-h*c*g,this._z=u*c*g+h*d*f,this._w=u*c*f-h*d*g;break;case"YXZ":this._x=h*c*f+u*d*g,this._y=u*d*f-h*c*g,this._z=u*c*g-h*d*f,this._w=u*c*f+h*d*g;break;case"ZXY":this._x=h*c*f-u*d*g,this._y=u*d*f+h*c*g,this._z=u*c*g+h*d*f,this._w=u*c*f-h*d*g;break;case"ZYX":this._x=h*c*f-u*d*g,this._y=u*d*f+h*c*g,this._z=u*c*g-h*d*f,this._w=u*c*f+h*d*g;break;case"YZX":this._x=h*c*f+u*d*g,this._y=u*d*f+h*c*g,this._z=u*c*g-h*d*f,this._w=u*c*f-h*d*g;break;case"XZY":this._x=h*c*f-u*d*g,this._y=u*d*f-h*c*g,this._z=u*c*g+h*d*f,this._w=u*c*f+h*d*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],s=n[1],o=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=r+o+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(c-l)*d,this._y=(a-u)*d,this._z=(s-i)*d}else if(r>o&&r>f){const d=2*Math.sqrt(1+r-o-f);this._w=(c-l)/d,this._x=.25*d,this._y=(i+s)/d,this._z=(a+u)/d}else if(o>f){const d=2*Math.sqrt(1+o-r-f);this._w=(a-u)/d,this._x=(i+s)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+f-r-o);this._w=(s-i)/d,this._x=(a+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(lr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,s=e._w,o=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+s*o+i*u-a*l,this._y=i*c+s*l+a*o-r*u,this._z=a*c+s*u+r*l-i*o,this._w=s*c-r*o-i*l-a*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const d=1-n;return this._w=d*s+n*this._w,this._x=d*r+n*this._x,this._y=d*i+n*this._y,this._z=d*a+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,o),f=Math.sin((1-n)*c)/u,h=Math.sin(n*c)/u;return this._w=s*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=a*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(a),r*Math.cos(a),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class se{constructor(e=0,n=0,r=0){se.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(iU.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(iU.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,u=l*n+s*i-o*r,c=l*r+o*n-a*i,f=l*i+a*r-s*n,h=-a*n-s*r-o*i;return this.x=u*l+h*-a+c*-o-f*-s,this.y=c*l+h*-s+f*-a-u*-o,this.z=f*l+h*-o+u*-s-c*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,s=n.x,o=n.y,l=n.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return PE.copy(this).projectOnVector(e),this.sub(PE)}reflect(e){return this.sub(PE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(lr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const PE=new se,iU=new Ni;class As{constructor(e=new se(1/0,1/0,1/0),n=new se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ko.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ko.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ko.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),gh.copy(e.boundingBox),gh.applyMatrix4(e.matrixWorld),this.union(gh);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const a=i.attributes.position;for(let s=0,o=a.count;s<o;s++)Ko.fromBufferAttribute(a,s).applyMatrix4(e.matrixWorld),this.expandByPoint(Ko)}else i.boundingBox===null&&i.computeBoundingBox(),gh.copy(i.boundingBox),gh.applyMatrix4(e.matrixWorld),this.union(gh)}const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ko),Ko.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(C0),fx.subVectors(this.max,C0),vh.subVectors(e.a,C0),yh.subVectors(e.b,C0),xh.subVectors(e.c,C0),Ql.subVectors(yh,vh),eu.subVectors(xh,yh),yc.subVectors(vh,xh);let n=[0,-Ql.z,Ql.y,0,-eu.z,eu.y,0,-yc.z,yc.y,Ql.z,0,-Ql.x,eu.z,0,-eu.x,yc.z,0,-yc.x,-Ql.y,Ql.x,0,-eu.y,eu.x,0,-yc.y,yc.x,0];return!OE(n,vh,yh,xh,fx)||(n=[1,0,0,0,1,0,0,0,1],!OE(n,vh,yh,xh,fx))?!1:(hx.crossVectors(Ql,eu),n=[hx.x,hx.y,hx.z],OE(n,vh,yh,xh,fx))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ko).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ko).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(qo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),qo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),qo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),qo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),qo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),qo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),qo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),qo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(qo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qo=[new se,new se,new se,new se,new se,new se,new se,new se],Ko=new se,gh=new As,vh=new se,yh=new se,xh=new se,Ql=new se,eu=new se,yc=new se,C0=new se,fx=new se,hx=new se,xc=new se;function OE(t,e,n,r,i){for(let a=0,s=t.length-3;a<=s;a+=3){xc.fromArray(t,a);const o=i.x*Math.abs(xc.x)+i.y*Math.abs(xc.y)+i.z*Math.abs(xc.z),l=e.dot(xc),u=n.dot(xc),c=r.dot(xc);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>o)return!1}return!0}const P3e=new As,P0=new se,RE=new se;class Ms{constructor(e=new se,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):P3e.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;P0.subVectors(e,this.center);const n=P0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(P0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(RE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(P0.copy(e.center).add(RE)),this.expandByPoint(P0.copy(e.center).sub(RE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Zo=new se,NE=new se,dx=new se,tu=new se,IE=new se,px=new se,LE=new se;class jf{constructor(e=new se,n=new se(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Zo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Zo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Zo.copy(this.origin).addScaledVector(this.direction,n),Zo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){NE.copy(e).add(n).multiplyScalar(.5),dx.copy(n).sub(e).normalize(),tu.copy(this.origin).sub(NE);const a=e.distanceTo(n)*.5,s=-this.direction.dot(dx),o=tu.dot(this.direction),l=-tu.dot(dx),u=tu.lengthSq(),c=Math.abs(1-s*s);let f,h,d,g;if(c>0)if(f=s*l-o,h=s*o-l,g=a*c,f>=0)if(h>=-g)if(h<=g){const v=1/c;f*=v,h*=v,d=f*(f+s*h+2*o)+h*(s*f+h+2*l)+u}else h=a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+u;else h=-a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-s*a+o)),h=f>0?-a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-a,-l),a),d=h*(h+2*l)+u):(f=Math.max(0,-(s*a+o)),h=f>0?a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u);else h=s>0?-a:a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(NE).addScaledVector(dx,h),d}intersectSphere(e,n){Zo.subVectors(e.center,this.origin);const r=Zo.dot(this.direction),i=Zo.dot(Zo)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,s,o,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(a=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(a=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),f>=0?(o=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(o=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Zo)!==null}intersectTriangle(e,n,r,i,a){IE.subVectors(n,e),px.subVectors(r,e),LE.crossVectors(IE,px);let s=this.direction.dot(LE),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;tu.subVectors(this.origin,e);const l=o*this.direction.dot(px.crossVectors(tu,px));if(l<0)return null;const u=o*this.direction.dot(IE.cross(tu));if(u<0||l+u>s)return null;const c=-o*tu.dot(LE);return c<0?null:this.at(c/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ut{constructor(e,n,r,i,a,s,o,l,u,c,f,h,d,g,v,y){Ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,u,c,f,h,d,g,v,y)}set(e,n,r,i,a,s,o,l,u,c,f,h,d,g,v,y){const x=this.elements;return x[0]=e,x[4]=n,x[8]=r,x[12]=i,x[1]=a,x[5]=s,x[9]=o,x[13]=l,x[2]=u,x[6]=c,x[10]=f,x[14]=h,x[3]=d,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ut().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/_h.setFromMatrixColumn(e,0).length(),a=1/_h.setFromMatrixColumn(e,1).length(),s=1/_h.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=s*c,d=s*f,g=o*c,v=o*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=d+g*u,n[5]=h-v*u,n[9]=-o*l,n[2]=v-h*u,n[6]=g+d*u,n[10]=s*l}else if(e.order==="YXZ"){const h=l*c,d=l*f,g=u*c,v=u*f;n[0]=h+v*o,n[4]=g*o-d,n[8]=s*u,n[1]=s*f,n[5]=s*c,n[9]=-o,n[2]=d*o-g,n[6]=v+h*o,n[10]=s*l}else if(e.order==="ZXY"){const h=l*c,d=l*f,g=u*c,v=u*f;n[0]=h-v*o,n[4]=-s*f,n[8]=g+d*o,n[1]=d+g*o,n[5]=s*c,n[9]=v-h*o,n[2]=-s*u,n[6]=o,n[10]=s*l}else if(e.order==="ZYX"){const h=s*c,d=s*f,g=o*c,v=o*f;n[0]=l*c,n[4]=g*u-d,n[8]=h*u+v,n[1]=l*f,n[5]=v*u+h,n[9]=d*u-g,n[2]=-u,n[6]=o*l,n[10]=s*l}else if(e.order==="YZX"){const h=s*l,d=s*u,g=o*l,v=o*u;n[0]=l*c,n[4]=v-h*f,n[8]=g*f+d,n[1]=f,n[5]=s*c,n[9]=-o*c,n[2]=-u*c,n[6]=d*f+g,n[10]=h-v*f}else if(e.order==="XZY"){const h=s*l,d=s*u,g=o*l,v=o*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=h*f+v,n[5]=s*c,n[9]=d*f-g,n[2]=g*f-d,n[6]=o*c,n[10]=v*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(O3e,e,R3e)}lookAt(e,n,r){const i=this.elements;return Na.subVectors(e,n),Na.lengthSq()===0&&(Na.z=1),Na.normalize(),nu.crossVectors(r,Na),nu.lengthSq()===0&&(Math.abs(r.z)===1?Na.x+=1e-4:Na.z+=1e-4,Na.normalize(),nu.crossVectors(r,Na)),nu.normalize(),mx.crossVectors(Na,nu),i[0]=nu.x,i[4]=mx.x,i[8]=Na.x,i[1]=nu.y,i[5]=mx.y,i[9]=Na.y,i[2]=nu.z,i[6]=mx.z,i[10]=Na.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],d=r[13],g=r[2],v=r[6],y=r[10],x=r[14],w=r[3],_=r[7],S=r[11],b=r[15],T=i[0],A=i[4],P=i[8],M=i[12],R=i[1],D=i[5],L=i[9],B=i[13],G=i[2],z=i[6],Z=i[10],ee=i[14],U=i[3],H=i[7],X=i[11],F=i[15];return a[0]=s*T+o*R+l*G+u*U,a[4]=s*A+o*D+l*z+u*H,a[8]=s*P+o*L+l*Z+u*X,a[12]=s*M+o*B+l*ee+u*F,a[1]=c*T+f*R+h*G+d*U,a[5]=c*A+f*D+h*z+d*H,a[9]=c*P+f*L+h*Z+d*X,a[13]=c*M+f*B+h*ee+d*F,a[2]=g*T+v*R+y*G+x*U,a[6]=g*A+v*D+y*z+x*H,a[10]=g*P+v*L+y*Z+x*X,a[14]=g*M+v*B+y*ee+x*F,a[3]=w*T+_*R+S*G+b*U,a[7]=w*A+_*D+S*z+b*H,a[11]=w*P+_*L+S*Z+b*X,a[15]=w*M+_*B+S*ee+b*F,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],d=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+a*l*f-i*u*f-a*o*h+r*u*h+i*o*d-r*l*d)+v*(+n*l*d-n*u*h+a*s*h-i*s*d+i*u*c-a*l*c)+y*(+n*u*f-n*o*d-a*s*f+r*s*d+a*o*c-r*u*c)+x*(-i*o*c-n*l*f+n*o*h+i*s*f-r*s*h+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],g=e[12],v=e[13],y=e[14],x=e[15],w=f*y*u-v*h*u+v*l*d-o*y*d-f*l*x+o*h*x,_=g*h*u-c*y*u-g*l*d+s*y*d+c*l*x-s*h*x,S=c*v*u-g*f*u+g*o*d-s*v*d-c*o*x+s*f*x,b=g*f*l-c*v*l-g*o*h+s*v*h+c*o*y-s*f*y,T=n*w+r*_+i*S+a*b;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/T;return e[0]=w*A,e[1]=(v*h*a-f*y*a-v*i*d+r*y*d+f*i*x-r*h*x)*A,e[2]=(o*y*a-v*l*a+v*i*u-r*y*u-o*i*x+r*l*x)*A,e[3]=(f*l*a-o*h*a-f*i*u+r*h*u+o*i*d-r*l*d)*A,e[4]=_*A,e[5]=(c*y*a-g*h*a+g*i*d-n*y*d-c*i*x+n*h*x)*A,e[6]=(g*l*a-s*y*a-g*i*u+n*y*u+s*i*x-n*l*x)*A,e[7]=(s*h*a-c*l*a+c*i*u-n*h*u-s*i*d+n*l*d)*A,e[8]=S*A,e[9]=(g*f*a-c*v*a-g*r*d+n*v*d+c*r*x-n*f*x)*A,e[10]=(s*v*a-g*o*a+g*r*u-n*v*u-s*r*x+n*o*x)*A,e[11]=(c*o*a-s*f*a-c*r*u+n*f*u+s*r*d-n*o*d)*A,e[12]=b*A,e[13]=(c*v*i-g*f*i+g*r*h-n*v*h-c*r*y+n*f*y)*A,e[14]=(g*o*i-s*v*i-g*r*l+n*v*l+s*r*y-n*o*y)*A,e[15]=(s*f*i-c*o*i+c*r*l-n*f*l-s*r*h+n*o*h)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,s=e.x,o=e.y,l=e.z,u=a*s,c=a*o;return this.set(u*s+r,u*o-i*l,u*l+i*o,0,u*o+i*l,c*o+r,c*l-i*s,0,u*l-i*o,c*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,s=n._y,o=n._z,l=n._w,u=a+a,c=s+s,f=o+o,h=a*u,d=a*c,g=a*f,v=s*c,y=s*f,x=o*f,w=l*u,_=l*c,S=l*f,b=r.x,T=r.y,A=r.z;return i[0]=(1-(v+x))*b,i[1]=(d+S)*b,i[2]=(g-_)*b,i[3]=0,i[4]=(d-S)*T,i[5]=(1-(h+x))*T,i[6]=(y+w)*T,i[7]=0,i[8]=(g+_)*A,i[9]=(y-w)*A,i[10]=(1-(h+v))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let a=_h.set(i[0],i[1],i[2]).length();const s=_h.set(i[4],i[5],i[6]).length(),o=_h.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ls.copy(this);const u=1/a,c=1/s,f=1/o;return Ls.elements[0]*=u,Ls.elements[1]*=u,Ls.elements[2]*=u,Ls.elements[4]*=c,Ls.elements[5]*=c,Ls.elements[6]*=c,Ls.elements[8]*=f,Ls.elements[9]*=f,Ls.elements[10]*=f,n.setFromRotationMatrix(Ls),r.x=a,r.y=s,r.z=o,this}makePerspective(e,n,r,i,a,s,o=To){const l=this.elements,u=2*a/(n-e),c=2*a/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let d,g;if(o===To)d=-(s+a)/(s-a),g=-2*s*a/(s-a);else if(o===Hg)d=-s/(s-a),g=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,a,s,o=To){const l=this.elements,u=1/(n-e),c=1/(r-i),f=1/(s-a),h=(n+e)*u,d=(r+i)*c;let g,v;if(o===To)g=(s+a)*f,v=-2*f;else if(o===Hg)g=a*f,v=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=v,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const _h=new se,Ls=new Ut,O3e=new se(0,0,0),R3e=new se(1,1,1),nu=new se,mx=new se,Na=new se,aU=new Ut,sU=new Ni;class Tv{constructor(e=0,n=0,r=0,i=Tv.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],d=i[10];switch(n){case"XYZ":this._y=Math.asin(lr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-lr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(lr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-lr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(lr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-lr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return aU.makeRotationFromQuaternion(e),this.setFromRotationMatrix(aU,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return sU.setFromEuler(this),this.setFromQuaternion(sU,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Tv.DEFAULT_ORDER="XYZ";class of{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let N3e=0;const oU=new se,wh=new Ni,Jo=new Ut,gx=new se,O0=new se,I3e=new se,L3e=new Ni,lU=new se(1,0,0),uU=new se(0,1,0),cU=new se(0,0,1),D3e={type:"added"},k3e={type:"removed"};class hn extends Bl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:N3e++}),this.uuid=Va(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hn.DEFAULT_UP.clone();const e=new se,n=new Tv,r=new Ni,i=new se(1,1,1);function a(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ut},normalMatrix:{value:new Vt}}),this.matrix=new Ut,this.matrixWorld=new Ut,this.matrixAutoUpdate=hn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=hn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new of,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return wh.setFromAxisAngle(e,n),this.quaternion.multiply(wh),this}rotateOnWorldAxis(e,n){return wh.setFromAxisAngle(e,n),this.quaternion.premultiply(wh),this}rotateX(e){return this.rotateOnAxis(lU,e)}rotateY(e){return this.rotateOnAxis(uU,e)}rotateZ(e){return this.rotateOnAxis(cU,e)}translateOnAxis(e,n){return oU.copy(e).applyQuaternion(this.quaternion),this.position.add(oU.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(lU,e)}translateY(e){return this.translateOnAxis(uU,e)}translateZ(e){return this.translateOnAxis(cU,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Jo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?gx.copy(e):gx.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),O0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Jo.lookAt(O0,gx,this.up):Jo.lookAt(gx,O0,this.up),this.quaternion.setFromRotationMatrix(Jo),i&&(Jo.extractRotation(i.matrixWorld),wh.setFromRotationMatrix(Jo),this.quaternion.premultiply(wh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(D3e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(k3e)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Jo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Jo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Jo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,a=this.children.length;i<a;i++){const s=this.children[i].getObjectsByProperty(e,n);s.length>0&&(r=r.concat(s))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(O0,e,I3e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(O0,L3e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const a=n[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++){const o=i[a];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(n){const o=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),f=s(e.shapes),h=s(e.skeletons),d=s(e.animations),g=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),d.length>0&&(r.animations=d),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(o){const l=[];for(const u in o){const c=o[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}hn.DEFAULT_UP=new se(0,1,0);hn.DEFAULT_MATRIX_AUTO_UPDATE=!0;hn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ds=new se,Qo=new se,DE=new se,el=new se,Sh=new se,bh=new se,fU=new se,kE=new se,FE=new se,UE=new se;let vx=!1;class ua{constructor(e=new se,n=new se,r=new se){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Ds.subVectors(e,n),i.cross(Ds);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){Ds.subVectors(i,n),Qo.subVectors(r,n),DE.subVectors(e,n);const s=Ds.dot(Ds),o=Ds.dot(Qo),l=Ds.dot(DE),u=Qo.dot(Qo),c=Qo.dot(DE),f=s*u-o*o;if(f===0)return a.set(-2,-1,-1);const h=1/f,d=(u*l-o*c)*h,g=(s*c-o*l)*h;return a.set(1-d-g,g,d)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,el),el.x>=0&&el.y>=0&&el.x+el.y<=1}static getUV(e,n,r,i,a,s,o,l){return vx===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),vx=!0),this.getInterpolation(e,n,r,i,a,s,o,l)}static getInterpolation(e,n,r,i,a,s,o,l){return this.getBarycoord(e,n,r,i,el),l.setScalar(0),l.addScaledVector(a,el.x),l.addScaledVector(s,el.y),l.addScaledVector(o,el.z),l}static isFrontFacing(e,n,r,i){return Ds.subVectors(r,n),Qo.subVectors(e,n),Ds.cross(Qo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ds.subVectors(this.c,this.b),Qo.subVectors(this.a,this.b),Ds.cross(Qo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ua.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ua.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,a){return vx===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),vx=!0),ua.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}getInterpolation(e,n,r,i,a){return ua.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return ua.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ua.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let s,o;Sh.subVectors(i,r),bh.subVectors(a,r),kE.subVectors(e,r);const l=Sh.dot(kE),u=bh.dot(kE);if(l<=0&&u<=0)return n.copy(r);FE.subVectors(e,i);const c=Sh.dot(FE),f=bh.dot(FE);if(c>=0&&f<=c)return n.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return s=l/(l-c),n.copy(r).addScaledVector(Sh,s);UE.subVectors(e,a);const d=Sh.dot(UE),g=bh.dot(UE);if(g>=0&&d<=g)return n.copy(a);const v=d*u-l*g;if(v<=0&&u>=0&&g<=0)return o=u/(u-g),n.copy(r).addScaledVector(bh,o);const y=c*g-d*f;if(y<=0&&f-c>=0&&d-g>=0)return fU.subVectors(a,i),o=(f-c)/(f-c+(d-g)),n.copy(i).addScaledVector(fU,o);const x=1/(y+v+h);return s=v*x,o=h*x,n.copy(r).addScaledVector(Sh,s).addScaledVector(bh,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let F3e=0;class Li extends Bl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:F3e++}),this.uuid=Va(),this.name="",this.type="Material",this.blending=af,this.side=Rl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=w3,this.blendDst=S3,this.blendEquation=Fc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=yw,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=QG,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=A1,this.stencilZFail=A1,this.stencilZPass=A1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==af&&(r.blending=this.blending),this.side!==Rl&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(n){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const h9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ks={h:0,s:0,l:0},yx={h:0,s:0,l:0};function BE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class _t{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Dn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,cs.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=cs.workingColorSpace){return this.r=e,this.g=n,this.b=r,cs.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=cs.workingColorSpace){if(e=L3(e,1),n=lr(n,0,1),r=lr(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,s=2*r-a;this.r=BE(s,a,e+1/3),this.g=BE(s,a,e),this.b=BE(s,a,e-1/3)}return cs.toWorkingColorSpace(this,i),this}setStyle(e,n=Dn){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Dn){const r=h9[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=bd(e.r),this.g=bd(e.g),this.b=bd(e.b),this}copyLinearToSRGB(e){return this.r=ME(e.r),this.g=ME(e.g),this.b=ME(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Dn){return cs.fromWorkingColorSpace(bi.copy(this),e),Math.round(lr(bi.r*255,0,255))*65536+Math.round(lr(bi.g*255,0,255))*256+Math.round(lr(bi.b*255,0,255))}getHexString(e=Dn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=cs.workingColorSpace){cs.fromWorkingColorSpace(bi.copy(this),n);const r=bi.r,i=bi.g,a=bi.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,u;const c=(o+s)/2;if(o===s)l=0,u=0;else{const f=s-o;switch(u=c<=.5?f/(s+o):f/(2-s-o),s){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=cs.workingColorSpace){return cs.fromWorkingColorSpace(bi.copy(this),n),e.r=bi.r,e.g=bi.g,e.b=bi.b,e}getStyle(e=Dn){cs.fromWorkingColorSpace(bi.copy(this),e);const n=bi.r,r=bi.g,i=bi.b;return e!==Dn?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ks),ks.h+=e,ks.s+=n,ks.l+=r,this.setHSL(ks.h,ks.s,ks.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ks),e.getHSL(yx);const r=_m(ks.h,yx.h,n),i=_m(ks.s,yx.s,n),a=_m(ks.l,yx.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const bi=new _t;_t.NAMES=h9;class zl extends Li{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const sl=U3e();function U3e(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function oa(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=lr(t,-65504,65504),sl.floatView[0]=t;const e=sl.uint32View[0],n=e>>23&511;return sl.baseTable[n]+((e&8388607)>>sl.shiftTable[n])}function Y0(t){const e=t>>10;return sl.uint32View[0]=sl.mantissaTable[sl.offsetTable[e]+(t&1023)]+sl.exponentTable[e],sl.floatView[0]}const B3e={toHalfFloat:oa,fromHalfFloat:Y0},Ar=new se,xx=new Qe;class On{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=jg,this.updateRange={offset:0,count:-1},this.gpuType=Eo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)xx.fromBufferAttribute(this,n),xx.applyMatrix3(e),this.setXY(n,xx.x,xx.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Ar.fromBufferAttribute(this,n),Ar.applyMatrix3(e),this.setXYZ(n,Ar.x,Ar.y,Ar.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Ar.fromBufferAttribute(this,n),Ar.applyMatrix4(e),this.setXYZ(n,Ar.x,Ar.y,Ar.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ar.fromBufferAttribute(this,n),Ar.applyNormalMatrix(e),this.setXYZ(n,Ar.x,Ar.y,Ar.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ar.fromBufferAttribute(this,n),Ar.transformDirection(e),this.setXYZ(n,Ar.x,Ar.y,Ar.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=fa(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=$t(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=fa(n,this.array)),n}setX(e,n){return this.normalized&&(n=$t(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=fa(n,this.array)),n}setY(e,n){return this.normalized&&(n=$t(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=fa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=$t(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=fa(n,this.array)),n}setW(e,n){return this.normalized&&(n=$t(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array),i=$t(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array),i=$t(i,this.array),a=$t(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==jg&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class z3e extends On{constructor(e,n,r){super(new Int8Array(e),n,r)}}class j3e extends On{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class H3e extends On{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class W3e extends On{constructor(e,n,r){super(new Int16Array(e),n,r)}}class F3 extends On{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class G3e extends On{constructor(e,n,r){super(new Int32Array(e),n,r)}}class U3 extends On{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class V3e extends On{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Y0(this.array[e*this.itemSize]);return this.normalized&&(n=fa(n,this.array)),n}setX(e,n){return this.normalized&&(n=$t(n,this.array)),this.array[e*this.itemSize]=oa(n),this}getY(e){let n=Y0(this.array[e*this.itemSize+1]);return this.normalized&&(n=fa(n,this.array)),n}setY(e,n){return this.normalized&&(n=$t(n,this.array)),this.array[e*this.itemSize+1]=oa(n),this}getZ(e){let n=Y0(this.array[e*this.itemSize+2]);return this.normalized&&(n=fa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=$t(n,this.array)),this.array[e*this.itemSize+2]=oa(n),this}getW(e){let n=Y0(this.array[e*this.itemSize+3]);return this.normalized&&(n=fa(n,this.array)),n}setW(e,n){return this.normalized&&(n=$t(n,this.array)),this.array[e*this.itemSize+3]=oa(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array)),this.array[e+0]=oa(n),this.array[e+1]=oa(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array),i=$t(i,this.array)),this.array[e+0]=oa(n),this.array[e+1]=oa(r),this.array[e+2]=oa(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array),i=$t(i,this.array),a=$t(a,this.array)),this.array[e+0]=oa(n),this.array[e+1]=oa(r),this.array[e+2]=oa(i),this.array[e+3]=oa(a),this}}class At extends On{constructor(e,n,r){super(new Float32Array(e),n,r)}}class $3e extends On{constructor(e,n,r){super(new Float64Array(e),n,r)}}let X3e=0;const ls=new Ut,zE=new hn,Eh=new se,Ia=new As,R0=new As,Yr=new se;class Zt extends Bl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:X3e++}),this.uuid=Va(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(u9(e)?U3:F3)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Vt().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ls.makeRotationFromQuaternion(e),this.applyMatrix4(ls),this}rotateX(e){return ls.makeRotationX(e),this.applyMatrix4(ls),this}rotateY(e){return ls.makeRotationY(e),this.applyMatrix4(ls),this}rotateZ(e){return ls.makeRotationZ(e),this.applyMatrix4(ls),this}translate(e,n,r){return ls.makeTranslation(e,n,r),this.applyMatrix4(ls),this}scale(e,n,r){return ls.makeScale(e,n,r),this.applyMatrix4(ls),this}lookAt(e){return zE.lookAt(e),zE.updateMatrix(),this.applyMatrix4(zE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Eh).negate(),this.translate(Eh.x,Eh.y,Eh.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new At(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new As);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new se(-1/0,-1/0,-1/0),new se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];Ia.setFromBufferAttribute(a),this.morphTargetsRelative?(Yr.addVectors(this.boundingBox.min,Ia.min),this.boundingBox.expandByPoint(Yr),Yr.addVectors(this.boundingBox.max,Ia.max),this.boundingBox.expandByPoint(Yr)):(this.boundingBox.expandByPoint(Ia.min),this.boundingBox.expandByPoint(Ia.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ms);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new se,1/0);return}if(e){const r=this.boundingSphere.center;if(Ia.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];R0.setFromBufferAttribute(o),this.morphTargetsRelative?(Yr.addVectors(Ia.min,R0.min),Ia.expandByPoint(Yr),Yr.addVectors(Ia.max,R0.max),Ia.expandByPoint(Yr)):(Ia.expandByPoint(R0.min),Ia.expandByPoint(R0.max))}Ia.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Yr.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Yr));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],l=this.morphTargetsRelative;for(let u=0,c=o.count;u<c;u++)Yr.fromBufferAttribute(o,u),l&&(Eh.fromBufferAttribute(e,u),Yr.add(Eh)),i=Math.max(i,r.distanceToSquared(Yr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,a=n.normal.array,s=n.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new On(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let R=0;R<o;R++)u[R]=new se,c[R]=new se;const f=new se,h=new se,d=new se,g=new Qe,v=new Qe,y=new Qe,x=new se,w=new se;function _(R,D,L){f.fromArray(i,R*3),h.fromArray(i,D*3),d.fromArray(i,L*3),g.fromArray(s,R*2),v.fromArray(s,D*2),y.fromArray(s,L*2),h.sub(f),d.sub(f),v.sub(g),y.sub(g);const B=1/(v.x*y.y-y.x*v.y);isFinite(B)&&(x.copy(h).multiplyScalar(y.y).addScaledVector(d,-v.y).multiplyScalar(B),w.copy(d).multiplyScalar(v.x).addScaledVector(h,-y.x).multiplyScalar(B),u[R].add(x),u[D].add(x),u[L].add(x),c[R].add(w),c[D].add(w),c[L].add(w))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let R=0,D=S.length;R<D;++R){const L=S[R],B=L.start,G=L.count;for(let z=B,Z=B+G;z<Z;z+=3)_(r[z+0],r[z+1],r[z+2])}const b=new se,T=new se,A=new se,P=new se;function M(R){A.fromArray(a,R*3),P.copy(A);const D=u[R];b.copy(D),b.sub(A.multiplyScalar(A.dot(D))).normalize(),T.crossVectors(P,D);const B=T.dot(c[R])<0?-1:1;l[R*4]=b.x,l[R*4+1]=b.y,l[R*4+2]=b.z,l[R*4+3]=B}for(let R=0,D=S.length;R<D;++R){const L=S[R],B=L.start,G=L.count;for(let z=B,Z=B+G;z<Z;z+=3)M(r[z+0]),M(r[z+1]),M(r[z+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new On(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,d=r.count;h<d;h++)r.setXYZ(h,0,0,0);const i=new se,a=new se,s=new se,o=new se,l=new se,u=new se,c=new se,f=new se;if(e)for(let h=0,d=e.count;h<d;h+=3){const g=e.getX(h+0),v=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,g),a.fromBufferAttribute(n,v),s.fromBufferAttribute(n,y),c.subVectors(s,a),f.subVectors(i,a),c.cross(f),o.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),o.add(c),l.add(c),u.add(c),r.setXYZ(g,o.x,o.y,o.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,d=n.count;h<d;h+=3)i.fromBufferAttribute(n,h+0),a.fromBufferAttribute(n,h+1),s.fromBufferAttribute(n,h+2),c.subVectors(s,a),f.subVectors(i,a),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Yr.fromBufferAttribute(e,n),Yr.normalize(),e.setXYZ(n,Yr.x,Yr.y,Yr.z)}toNonIndexed(){function e(o,l){const u=o.array,c=o.itemSize,f=o.normalized,h=new u.constructor(l.length*c);let d=0,g=0;for(let v=0,y=l.length;v<y;v++){o.isInterleavedBufferAttribute?d=l[v]*o.data.stride+o.offset:d=l[v]*c;for(let x=0;x<c;x++)h[g++]=u[d++]}return new On(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Zt,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);n.setAttribute(o,u)}const a=this.morphAttributes;for(const o in a){const l=[],u=a[o];for(let c=0,f=u.length;c<f;c++){const h=u[c],d=e(h,r);l.push(d)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const u=s[o];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f];c.push(d.toJSON(e.data))}c.length>0&&(i[l]=c,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let h=0,d=f.length;h<d;h++)c.push(f[h].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const f=s[u];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const hU=new Ut,_c=new jf,_x=new Ms,dU=new se,Th=new se,Ah=new se,Mh=new se,jE=new se,wx=new se,Sx=new Qe,bx=new Qe,Ex=new Qe,pU=new se,mU=new se,gU=new se,Tx=new se,Ax=new se;class Pr extends hn{constructor(e=new Zt,n=new zl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){wx.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=o[l],f=a[l];c!==0&&(jE.fromBufferAttribute(f,e),s?wx.addScaledVector(jE,c):wx.addScaledVector(jE.sub(n),c))}n.add(wx)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),_x.copy(r.boundingSphere),_x.applyMatrix4(a),_c.copy(e.ray).recast(e.near),!(_x.containsPoint(_c.origin)===!1&&(_c.intersectSphere(_x,dU)===null||_c.origin.distanceToSquared(dU)>(e.far-e.near)**2))&&(hU.copy(a).invert(),_c.copy(e.ray).applyMatrix4(hU),!(r.boundingBox!==null&&_c.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,_c)))}_computeIntersections(e,n,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,h=a.groups,d=a.drawRange;if(o!==null)if(Array.isArray(s))for(let g=0,v=h.length;g<v;g++){const y=h[g],x=s[y.materialIndex],w=Math.max(y.start,d.start),_=Math.min(o.count,Math.min(y.start+y.count,d.start+d.count));for(let S=w,b=_;S<b;S+=3){const T=o.getX(S),A=o.getX(S+1),P=o.getX(S+2);i=Mx(this,x,e,r,u,c,f,T,A,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,d.start),v=Math.min(o.count,d.start+d.count);for(let y=g,x=v;y<x;y+=3){const w=o.getX(y),_=o.getX(y+1),S=o.getX(y+2);i=Mx(this,s,e,r,u,c,f,w,_,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,v=h.length;g<v;g++){const y=h[g],x=s[y.materialIndex],w=Math.max(y.start,d.start),_=Math.min(l.count,Math.min(y.start+y.count,d.start+d.count));for(let S=w,b=_;S<b;S+=3){const T=S,A=S+1,P=S+2;i=Mx(this,x,e,r,u,c,f,T,A,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,d.start),v=Math.min(l.count,d.start+d.count);for(let y=g,x=v;y<x;y+=3){const w=y,_=y+1,S=y+2;i=Mx(this,s,e,r,u,c,f,w,_,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Y3e(t,e,n,r,i,a,s,o){let l;if(e.side===Ji?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===Rl,o),l===null)return null;Ax.copy(o),Ax.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Ax);return u<n.near||u>n.far?null:{distance:u,point:Ax.clone(),object:t}}function Mx(t,e,n,r,i,a,s,o,l,u){t.getVertexPosition(o,Th),t.getVertexPosition(l,Ah),t.getVertexPosition(u,Mh);const c=Y3e(t,e,n,r,Th,Ah,Mh,Tx);if(c){i&&(Sx.fromBufferAttribute(i,o),bx.fromBufferAttribute(i,l),Ex.fromBufferAttribute(i,u),c.uv=ua.getInterpolation(Tx,Th,Ah,Mh,Sx,bx,Ex,new Qe)),a&&(Sx.fromBufferAttribute(a,o),bx.fromBufferAttribute(a,l),Ex.fromBufferAttribute(a,u),c.uv1=ua.getInterpolation(Tx,Th,Ah,Mh,Sx,bx,Ex,new Qe),c.uv2=c.uv1),s&&(pU.fromBufferAttribute(s,o),mU.fromBufferAttribute(s,l),gU.fromBufferAttribute(s,u),c.normal=ua.getInterpolation(Tx,Th,Ah,Mh,pU,mU,gU,new se),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:o,b:l,c:u,normal:new se,materialIndex:0};ua.getNormal(Th,Ah,Mh,f.normal),c.face=f}return c}class Hf extends Zt{constructor(e=1,n=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],u=[],c=[],f=[];let h=0,d=0;g("z","y","x",-1,-1,r,n,e,s,a,0),g("z","y","x",1,-1,r,n,-e,s,a,1),g("x","z","y",1,1,e,r,n,i,s,2),g("x","z","y",1,-1,e,r,-n,i,s,3),g("x","y","z",1,-1,e,n,r,i,a,4),g("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new At(u,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(f,2));function g(v,y,x,w,_,S,b,T,A,P,M){const R=S/A,D=b/P,L=S/2,B=b/2,G=T/2,z=A+1,Z=P+1;let ee=0,U=0;const H=new se;for(let X=0;X<Z;X++){const F=X*D-B;for(let N=0;N<z;N++){const V=N*R-L;H[v]=V*w,H[y]=F*_,H[x]=G,u.push(H.x,H.y,H.z),H[v]=0,H[y]=0,H[x]=T>0?1:-1,c.push(H.x,H.y,H.z),f.push(N/A),f.push(1-X/P),ee+=1}}for(let X=0;X<P;X++)for(let F=0;F<A;F++){const N=h+F+z*X,V=h+F+z*(X+1),Y=h+(F+1)+z*(X+1),q=h+(F+1)+z*X;l.push(N,V,q),l.push(V,Y,q),U+=6}o.addGroup(d,U,M),d+=U,h+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function sp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Vi(t){const e={};for(let n=0;n<t.length;n++){const r=sp(t[n]);for(const i in r)e[i]=r[i]}return e}function q3e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function d9(t){return t.getRenderTarget()===null?t.outputColorSpace:no}const B3={clone:sp,merge:Vi};var K3e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Z3e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Do extends Li{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=K3e,this.fragmentShader=Z3e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=sp(e.uniforms),this.uniformsGroups=q3e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Av extends hn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ut,this.projectionMatrix=new Ut,this.projectionMatrixInverse=new Ut,this.coordinateSystem=To}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class vr extends Av{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=ap*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(sf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ap*2*Math.atan(Math.tan(sf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(sf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;a+=s.offsetX*i/l,n-=s.offsetY*r/u,i*=s.width/l,r*=s.height/u}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ch=-90,Ph=1;class p9 extends hn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new vr(Ch,Ph,e,n);i.layers=this.layers,this.add(i);const a=new vr(Ch,Ph,e,n);a.layers=this.layers,this.add(a);const s=new vr(Ch,Ph,e,n);s.layers=this.layers,this.add(s);const o=new vr(Ch,Ph,e,n);o.layers=this.layers,this.add(o);const l=new vr(Ch,Ph,e,n);l.layers=this.layers,this.add(l);const u=new vr(Ch,Ph,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,s,o,l]=n;for(const u of n)this.remove(u);if(e===To)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Hg)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,s,o,l,u]=this.children,c=e.getRenderTarget(),f=e.xr.enabled;e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,a),e.setRenderTarget(r,2),e.render(n,s),e.setRenderTarget(r,3),e.render(n,o),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class Mv extends cr{constructor(e,n,r,i,a,s,o,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Nl,super(e,n,r,i,a,s,o,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class m9 extends ro{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(wm("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Pu?Dn:Ou),this.texture=new Mv(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Zn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Hf(5,5,5),a=new Do({name:"CubemapFromEquirect",uniforms:sp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ji,blending:_l});a.uniforms.tEquirect.value=n;const s=new Pr(i,a),o=n.minFilter;return n.minFilter===Uu&&(n.minFilter=Zn),new p9(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(a)}}const HE=new se,J3e=new se,Q3e=new Vt;class al{constructor(e=new se(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=HE.subVectors(r,n).cross(J3e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(HE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Q3e.getNormalMatrix(e),i=this.coplanarPoint(HE).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wc=new Ms,Cx=new se;class $S{constructor(e=new al,n=new al,r=new al,i=new al,a=new al,s=new al){this.planes=[e,n,r,i,a,s]}set(e,n,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=To){const r=this.planes,i=e.elements,a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],d=i[8],g=i[9],v=i[10],y=i[11],x=i[12],w=i[13],_=i[14],S=i[15];if(r[0].setComponents(l-a,h-u,y-d,S-x).normalize(),r[1].setComponents(l+a,h+u,y+d,S+x).normalize(),r[2].setComponents(l+s,h+c,y+g,S+w).normalize(),r[3].setComponents(l-s,h-c,y-g,S-w).normalize(),r[4].setComponents(l-o,h-f,y-v,S-_).normalize(),n===To)r[5].setComponents(l+o,h+f,y+v,S+_).normalize();else if(n===Hg)r[5].setComponents(o,f,v,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),wc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wc)}intersectsSprite(e){return wc.center.set(0,0,0),wc.radius=.7071067811865476,wc.applyMatrix4(e.matrixWorld),this.intersectsSphere(wc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Cx.x=i.normal.x>0?e.max.x:e.min.x,Cx.y=i.normal.y>0?e.max.y:e.min.y,Cx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Cx)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function g9(){let t=null,e=!1,n=null,r=null;function i(a,s){n(a,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function eRe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,h=u.usage,d=t.createBuffer();t.bindBuffer(c,d),t.bufferData(c,f,h),u.onUploadCallback();let g;if(f instanceof Float32Array)g=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=t.SHORT;else if(f instanceof Uint32Array)g=t.UNSIGNED_INT;else if(f instanceof Int32Array)g=t.INT;else if(f instanceof Int8Array)g=t.BYTE;else if(f instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:d,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function a(u,c,f){const h=c.array,d=c.updateRange;t.bindBuffer(f,u),d.count===-1?t.bufferSubData(f,0,h):(n?t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1),c.onUploadCallback()}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function o(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(a(f.buffer,u,c),f.version=u.version)}return{get:s,remove:o,update:l}}class Ju extends Zt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,s=n/2,o=Math.floor(r),l=Math.floor(i),u=o+1,c=l+1,f=e/o,h=n/l,d=[],g=[],v=[],y=[];for(let x=0;x<c;x++){const w=x*h-s;for(let _=0;_<u;_++){const S=_*f-a;g.push(S,-w,0),v.push(0,0,1),y.push(_/o),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let w=0;w<o;w++){const _=w+u*x,S=w+u*(x+1),b=w+1+u*(x+1),T=w+1+u*x;d.push(_,S,T),d.push(S,b,T)}this.setIndex(d),this.setAttribute("position",new At(g,3)),this.setAttribute("normal",new At(v,3)),this.setAttribute("uv",new At(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ju(e.width,e.height,e.widthSegments,e.heightSegments)}}var tRe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,nRe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,rRe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iRe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aRe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,sRe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,oRe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,lRe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uRe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,cRe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fRe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,hRe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dRe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pRe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,mRe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gRe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vRe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yRe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xRe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,_Re=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,wRe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,SRe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,bRe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ERe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,TRe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ARe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,MRe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,CRe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,PRe="gl_FragColor = linearToOutputTexel( gl_FragColor );",ORe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,RRe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,NRe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,IRe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,LRe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,DRe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,kRe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,FRe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,URe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,BRe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zRe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,jRe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,HRe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,WRe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,GRe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,VRe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,$Re=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,XRe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,YRe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,qRe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,KRe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ZRe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,JRe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,QRe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eNe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tNe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,nNe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,rNe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,iNe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,aNe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,sNe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,oNe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lNe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,uNe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cNe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,fNe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,hNe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,dNe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,pNe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,mNe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,gNe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,vNe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_Ne=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,wNe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,SNe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,bNe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ENe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,TNe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ANe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,MNe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,CNe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,PNe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ONe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,RNe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,NNe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,INe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,LNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,DNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,kNe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,FNe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,UNe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,BNe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,zNe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,jNe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,HNe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,WNe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,GNe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,VNe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$Ne=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,XNe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,YNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,qNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,KNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,ZNe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const JNe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,QNe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tIe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rIe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,iIe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,aIe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,sIe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,oIe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,lIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uIe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cIe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fIe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hIe=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dIe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pIe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mIe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gIe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vIe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yIe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xIe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,_Ie=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wIe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SIe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,bIe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EIe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TIe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AIe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,MIe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CIe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PIe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,OIe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,RIe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ht={alphahash_fragment:tRe,alphahash_pars_fragment:nRe,alphamap_fragment:rRe,alphamap_pars_fragment:iRe,alphatest_fragment:aRe,alphatest_pars_fragment:sRe,aomap_fragment:oRe,aomap_pars_fragment:lRe,begin_vertex:uRe,beginnormal_vertex:cRe,bsdfs:fRe,iridescence_fragment:hRe,bumpmap_pars_fragment:dRe,clipping_planes_fragment:pRe,clipping_planes_pars_fragment:mRe,clipping_planes_pars_vertex:gRe,clipping_planes_vertex:vRe,color_fragment:yRe,color_pars_fragment:xRe,color_pars_vertex:_Re,color_vertex:wRe,common:SRe,cube_uv_reflection_fragment:bRe,defaultnormal_vertex:ERe,displacementmap_pars_vertex:TRe,displacementmap_vertex:ARe,emissivemap_fragment:MRe,emissivemap_pars_fragment:CRe,colorspace_fragment:PRe,colorspace_pars_fragment:ORe,envmap_fragment:RRe,envmap_common_pars_fragment:NRe,envmap_pars_fragment:IRe,envmap_pars_vertex:LRe,envmap_physical_pars_fragment:$Re,envmap_vertex:DRe,fog_vertex:kRe,fog_pars_vertex:FRe,fog_fragment:URe,fog_pars_fragment:BRe,gradientmap_pars_fragment:zRe,lightmap_fragment:jRe,lightmap_pars_fragment:HRe,lights_lambert_fragment:WRe,lights_lambert_pars_fragment:GRe,lights_pars_begin:VRe,lights_toon_fragment:XRe,lights_toon_pars_fragment:YRe,lights_phong_fragment:qRe,lights_phong_pars_fragment:KRe,lights_physical_fragment:ZRe,lights_physical_pars_fragment:JRe,lights_fragment_begin:QRe,lights_fragment_maps:eNe,lights_fragment_end:tNe,logdepthbuf_fragment:nNe,logdepthbuf_pars_fragment:rNe,logdepthbuf_pars_vertex:iNe,logdepthbuf_vertex:aNe,map_fragment:sNe,map_pars_fragment:oNe,map_particle_fragment:lNe,map_particle_pars_fragment:uNe,metalnessmap_fragment:cNe,metalnessmap_pars_fragment:fNe,morphcolor_vertex:hNe,morphnormal_vertex:dNe,morphtarget_pars_vertex:pNe,morphtarget_vertex:mNe,normal_fragment_begin:gNe,normal_fragment_maps:vNe,normal_pars_fragment:yNe,normal_pars_vertex:xNe,normal_vertex:_Ne,normalmap_pars_fragment:wNe,clearcoat_normal_fragment_begin:SNe,clearcoat_normal_fragment_maps:bNe,clearcoat_pars_fragment:ENe,iridescence_pars_fragment:TNe,opaque_fragment:ANe,packing:MNe,premultiplied_alpha_fragment:CNe,project_vertex:PNe,dithering_fragment:ONe,dithering_pars_fragment:RNe,roughnessmap_fragment:NNe,roughnessmap_pars_fragment:INe,shadowmap_pars_fragment:LNe,shadowmap_pars_vertex:DNe,shadowmap_vertex:kNe,shadowmask_pars_fragment:FNe,skinbase_vertex:UNe,skinning_pars_vertex:BNe,skinning_vertex:zNe,skinnormal_vertex:jNe,specularmap_fragment:HNe,specularmap_pars_fragment:WNe,tonemapping_fragment:GNe,tonemapping_pars_fragment:VNe,transmission_fragment:$Ne,transmission_pars_fragment:XNe,uv_pars_fragment:YNe,uv_pars_vertex:qNe,uv_vertex:KNe,worldpos_vertex:ZNe,background_vert:JNe,background_frag:QNe,backgroundCube_vert:eIe,backgroundCube_frag:tIe,cube_vert:nIe,cube_frag:rIe,depth_vert:iIe,depth_frag:aIe,distanceRGBA_vert:sIe,distanceRGBA_frag:oIe,equirect_vert:lIe,equirect_frag:uIe,linedashed_vert:cIe,linedashed_frag:fIe,meshbasic_vert:hIe,meshbasic_frag:dIe,meshlambert_vert:pIe,meshlambert_frag:mIe,meshmatcap_vert:gIe,meshmatcap_frag:vIe,meshnormal_vert:yIe,meshnormal_frag:xIe,meshphong_vert:_Ie,meshphong_frag:wIe,meshphysical_vert:SIe,meshphysical_frag:bIe,meshtoon_vert:EIe,meshtoon_frag:TIe,points_vert:AIe,points_frag:MIe,shadow_vert:CIe,shadow_frag:PIe,sprite_vert:OIe,sprite_frag:RIe},gt={common:{diffuse:{value:new _t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Vt},alphaMap:{value:null},alphaMapTransform:{value:new Vt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Vt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Vt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Vt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Vt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Vt},normalScale:{value:new Qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Vt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Vt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Vt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Vt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Vt},alphaTest:{value:0},uvTransform:{value:new Vt}},sprite:{diffuse:{value:new _t(16777215)},opacity:{value:1},center:{value:new Qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Vt},alphaMap:{value:null},alphaMapTransform:{value:new Vt},alphaTest:{value:0}}},$s={basic:{uniforms:Vi([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.fog]),vertexShader:Ht.meshbasic_vert,fragmentShader:Ht.meshbasic_frag},lambert:{uniforms:Vi([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new _t(0)}}]),vertexShader:Ht.meshlambert_vert,fragmentShader:Ht.meshlambert_frag},phong:{uniforms:Vi([gt.common,gt.specularmap,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,gt.lights,{emissive:{value:new _t(0)},specular:{value:new _t(1118481)},shininess:{value:30}}]),vertexShader:Ht.meshphong_vert,fragmentShader:Ht.meshphong_frag},standard:{uniforms:Vi([gt.common,gt.envmap,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.roughnessmap,gt.metalnessmap,gt.fog,gt.lights,{emissive:{value:new _t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ht.meshphysical_vert,fragmentShader:Ht.meshphysical_frag},toon:{uniforms:Vi([gt.common,gt.aomap,gt.lightmap,gt.emissivemap,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.gradientmap,gt.fog,gt.lights,{emissive:{value:new _t(0)}}]),vertexShader:Ht.meshtoon_vert,fragmentShader:Ht.meshtoon_frag},matcap:{uniforms:Vi([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,gt.fog,{matcap:{value:null}}]),vertexShader:Ht.meshmatcap_vert,fragmentShader:Ht.meshmatcap_frag},points:{uniforms:Vi([gt.points,gt.fog]),vertexShader:Ht.points_vert,fragmentShader:Ht.points_frag},dashed:{uniforms:Vi([gt.common,gt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ht.linedashed_vert,fragmentShader:Ht.linedashed_frag},depth:{uniforms:Vi([gt.common,gt.displacementmap]),vertexShader:Ht.depth_vert,fragmentShader:Ht.depth_frag},normal:{uniforms:Vi([gt.common,gt.bumpmap,gt.normalmap,gt.displacementmap,{opacity:{value:1}}]),vertexShader:Ht.meshnormal_vert,fragmentShader:Ht.meshnormal_frag},sprite:{uniforms:Vi([gt.sprite,gt.fog]),vertexShader:Ht.sprite_vert,fragmentShader:Ht.sprite_frag},background:{uniforms:{uvTransform:{value:new Vt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ht.background_vert,fragmentShader:Ht.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ht.backgroundCube_vert,fragmentShader:Ht.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ht.cube_vert,fragmentShader:Ht.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ht.equirect_vert,fragmentShader:Ht.equirect_frag},distanceRGBA:{uniforms:Vi([gt.common,gt.displacementmap,{referencePosition:{value:new se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ht.distanceRGBA_vert,fragmentShader:Ht.distanceRGBA_frag},shadow:{uniforms:Vi([gt.lights,gt.fog,{color:{value:new _t(0)},opacity:{value:1}}]),vertexShader:Ht.shadow_vert,fragmentShader:Ht.shadow_frag}};$s.physical={uniforms:Vi([$s.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Vt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Vt},clearcoatNormalScale:{value:new Qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Vt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Vt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Vt},sheen:{value:0},sheenColor:{value:new _t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Vt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Vt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Vt},transmissionSamplerSize:{value:new Qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Vt},attenuationDistance:{value:0},attenuationColor:{value:new _t(0)},specularColor:{value:new _t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Vt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Vt},anisotropyVector:{value:new Qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Vt}}]),vertexShader:Ht.meshphysical_vert,fragmentShader:Ht.meshphysical_frag};const Px={r:0,b:0,g:0};function NIe(t,e,n,r,i,a,s){const o=new _t(0);let l=a===!0?0:1,u,c,f=null,h=0,d=null;function g(y,x){let w=!1,_=x.isScene===!0?x.background:null;_&&_.isTexture&&(_=(x.backgroundBlurriness>0?n:e).get(_)),_===null?v(o,l):_&&_.isColor&&(v(_,1),w=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,s):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Ip)?(c===void 0&&(c=new Pr(new Hf(1,1,1),new Do({name:"BackgroundCubeMaterial",uniforms:sp($s.backgroundCube.uniforms),vertexShader:$s.backgroundCube.vertexShader,fragmentShader:$s.backgroundCube.fragmentShader,side:Ji,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(b,T,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=_,c.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=_.colorSpace!==Dn,(f!==_||h!==_.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,f=_,h=_.version,d=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new Pr(new Ju(2,2),new Do({name:"BackgroundMaterial",uniforms:sp($s.background.uniforms),vertexShader:$s.background.vertexShader,fragmentShader:$s.background.fragmentShader,side:Rl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=_.colorSpace!==Dn,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||h!==_.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,f=_,h=_.version,d=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,x){y.getRGB(Px,d9(t)),r.buffers.color.setClear(Px.r,Px.g,Px.b,x,s)}return{getClearColor:function(){return o},setClearColor:function(y,x=1){o.set(y),l=x,v(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(o,l)},render:g}}function IIe(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||a!==null,o={},l=y(null);let u=l,c=!1;function f(G,z,Z,ee,U){let H=!1;if(s){const X=v(ee,Z,z);u!==X&&(u=X,d(u.object)),H=x(G,ee,Z,U),H&&w(G,ee,Z,U)}else{const X=z.wireframe===!0;(u.geometry!==ee.id||u.program!==Z.id||u.wireframe!==X)&&(u.geometry=ee.id,u.program=Z.id,u.wireframe=X,H=!0)}U!==null&&n.update(U,t.ELEMENT_ARRAY_BUFFER),(H||c)&&(c=!1,P(G,z,Z,ee),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(U).buffer))}function h(){return r.isWebGL2?t.createVertexArray():a.createVertexArrayOES()}function d(G){return r.isWebGL2?t.bindVertexArray(G):a.bindVertexArrayOES(G)}function g(G){return r.isWebGL2?t.deleteVertexArray(G):a.deleteVertexArrayOES(G)}function v(G,z,Z){const ee=Z.wireframe===!0;let U=o[G.id];U===void 0&&(U={},o[G.id]=U);let H=U[z.id];H===void 0&&(H={},U[z.id]=H);let X=H[ee];return X===void 0&&(X=y(h()),H[ee]=X),X}function y(G){const z=[],Z=[],ee=[];for(let U=0;U<i;U++)z[U]=0,Z[U]=0,ee[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:Z,attributeDivisors:ee,object:G,attributes:{},index:null}}function x(G,z,Z,ee){const U=u.attributes,H=z.attributes;let X=0;const F=Z.getAttributes();for(const N in F)if(F[N].location>=0){const Y=U[N];let q=H[N];if(q===void 0&&(N==="instanceMatrix"&&G.instanceMatrix&&(q=G.instanceMatrix),N==="instanceColor"&&G.instanceColor&&(q=G.instanceColor)),Y===void 0||Y.attribute!==q||q&&Y.data!==q.data)return!0;X++}return u.attributesNum!==X||u.index!==ee}function w(G,z,Z,ee){const U={},H=z.attributes;let X=0;const F=Z.getAttributes();for(const N in F)if(F[N].location>=0){let Y=H[N];Y===void 0&&(N==="instanceMatrix"&&G.instanceMatrix&&(Y=G.instanceMatrix),N==="instanceColor"&&G.instanceColor&&(Y=G.instanceColor));const q={};q.attribute=Y,Y&&Y.data&&(q.data=Y.data),U[N]=q,X++}u.attributes=U,u.attributesNum=X,u.index=ee}function _(){const G=u.newAttributes;for(let z=0,Z=G.length;z<Z;z++)G[z]=0}function S(G){b(G,0)}function b(G,z){const Z=u.newAttributes,ee=u.enabledAttributes,U=u.attributeDivisors;Z[G]=1,ee[G]===0&&(t.enableVertexAttribArray(G),ee[G]=1),U[G]!==z&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,z),U[G]=z)}function T(){const G=u.newAttributes,z=u.enabledAttributes;for(let Z=0,ee=z.length;Z<ee;Z++)z[Z]!==G[Z]&&(t.disableVertexAttribArray(Z),z[Z]=0)}function A(G,z,Z,ee,U,H,X){X===!0?t.vertexAttribIPointer(G,z,Z,U,H):t.vertexAttribPointer(G,z,Z,ee,U,H)}function P(G,z,Z,ee){if(r.isWebGL2===!1&&(G.isInstancedMesh||ee.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const U=ee.attributes,H=Z.getAttributes(),X=z.defaultAttributeValues;for(const F in H){const N=H[F];if(N.location>=0){let V=U[F];if(V===void 0&&(F==="instanceMatrix"&&G.instanceMatrix&&(V=G.instanceMatrix),F==="instanceColor"&&G.instanceColor&&(V=G.instanceColor)),V!==void 0){const Y=V.normalized,q=V.itemSize,ae=n.get(V);if(ae===void 0)continue;const pe=ae.buffer,ye=ae.type,ge=ae.bytesPerElement,Se=r.isWebGL2===!0&&(ye===t.INT||ye===t.UNSIGNED_INT||V.gpuType===T3);if(V.isInterleavedBufferAttribute){const we=V.data,W=we.stride,Pe=V.offset;if(we.isInstancedInterleavedBuffer){for(let ve=0;ve<N.locationSize;ve++)b(N.location+ve,we.meshPerAttribute);G.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ve=0;ve<N.locationSize;ve++)S(N.location+ve);t.bindBuffer(t.ARRAY_BUFFER,pe);for(let ve=0;ve<N.locationSize;ve++)A(N.location+ve,q/N.locationSize,ye,Y,W*ge,(Pe+q/N.locationSize*ve)*ge,Se)}else{if(V.isInstancedBufferAttribute){for(let we=0;we<N.locationSize;we++)b(N.location+we,V.meshPerAttribute);G.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let we=0;we<N.locationSize;we++)S(N.location+we);t.bindBuffer(t.ARRAY_BUFFER,pe);for(let we=0;we<N.locationSize;we++)A(N.location+we,q/N.locationSize,ye,Y,q*ge,q/N.locationSize*we*ge,Se)}}else if(X!==void 0){const Y=X[F];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(N.location,Y);break;case 3:t.vertexAttrib3fv(N.location,Y);break;case 4:t.vertexAttrib4fv(N.location,Y);break;default:t.vertexAttrib1fv(N.location,Y)}}}}T()}function M(){L();for(const G in o){const z=o[G];for(const Z in z){const ee=z[Z];for(const U in ee)g(ee[U].object),delete ee[U];delete z[Z]}delete o[G]}}function R(G){if(o[G.id]===void 0)return;const z=o[G.id];for(const Z in z){const ee=z[Z];for(const U in ee)g(ee[U].object),delete ee[U];delete z[Z]}delete o[G.id]}function D(G){for(const z in o){const Z=o[z];if(Z[G.id]===void 0)continue;const ee=Z[G.id];for(const U in ee)g(ee[U].object),delete ee[U];delete Z[G.id]}}function L(){B(),c=!0,u!==l&&(u=l,d(u.object))}function B(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:L,resetDefaultState:B,dispose:M,releaseStatesOfGeometry:R,releaseStatesOfProgram:D,initAttributes:_,enableAttribute:S,disableUnusedAttributes:T}}function LIe(t,e,n,r){const i=r.isWebGL2;let a;function s(u){a=u}function o(u,c){t.drawArrays(a,u,c),n.update(c,a,1)}function l(u,c,f){if(f===0)return;let h,d;if(i)h=t,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[d](a,u,c,f),n.update(c,a,f)}this.setMode=s,this.render=o,this.renderInstances=l}function DIe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let o=n.precision!==void 0?n.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const u=s||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),x=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=h>0,S=s||e.has("OES_texture_float"),b=_&&S,T=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:_,floatFragmentTextures:S,floatVertexTextures:b,maxSamples:T}}function kIe(t){const e=this;let n=null,r=0,i=!1,a=!1;const s=new al,o=new Vt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||r!==0||i;return i=h,r=f.length,d},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){n=c(f,h,0)},this.setState=function(f,h,d){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,x=t.get(f);if(!i||g===null||g.length===0||a&&!y)a?c(null):u();else{const w=a?0:r,_=w*4;let S=x.clippingState||null;l.value=S,S=c(g,h,_,d);for(let b=0;b!==_;++b)S[b]=n[b];x.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,d,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=d+v*4,w=h.matrixWorldInverse;o.getNormalMatrix(w),(y===null||y.length<x)&&(y=new Float32Array(x));for(let _=0,S=d;_!==v;++_,S+=4)s.copy(f[_]).applyMatrix4(w,o),s.normal.toArray(y,S),y[S+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function FIe(t){let e=new WeakMap;function n(s,o){return o===Lg?s.mapping=Nl:o===Dg&&(s.mapping=Fu),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const o=s.mapping;if(o===Lg||o===Dg)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new m9(l.height/2);return u.fromEquirectangularTexture(t,s),e.set(s,u),s.addEventListener("dispose",i),n(u.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class Ru extends Av{constructor(e=-1,n=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,s=a+u*this.view.width,o-=c*this.view.offsetY,l=o-c*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const sd=4,vU=[.125,.215,.35,.446,.526,.582],Uc=20,WE=new Ru,yU=new _t;let GE=null;const Dc=(1+Math.sqrt(5))/2,Oh=1/Dc,xU=[new se(1,1,1),new se(-1,1,1),new se(1,1,-1),new se(-1,1,-1),new se(0,Dc,Oh),new se(0,Dc,-Oh),new se(Oh,0,Dc),new se(-Oh,0,Dc),new se(Dc,Oh,0),new se(-Dc,Oh,0)];class MC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){GE=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=SU(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wU(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(GE),e.scissorTest=!1,Ox(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Nl||e.mapping===Fu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),GE=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Zn,minFilter:Zn,generateMipmaps:!1,type:ip,format:ca,colorSpace:no,depthBuffer:!1},i=_U(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_U(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=UIe(a)),this._blurMaterial=BIe(a,e,n)}return i}_compileMaterial(e){const n=new Pr(this._lodPlanes[0],e);this._renderer.compile(n,WE)}_sceneToCubeUV(e,n,r,i){const o=new vr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(yU),c.toneMapping=Oo,c.autoClear=!1;const d=new zl({name:"PMREM.Background",side:Ji,depthWrite:!1,depthTest:!1}),g=new Pr(new Hf,d);let v=!1;const y=e.background;y?y.isColor&&(d.color.copy(y),e.background=null,v=!0):(d.color.copy(yU),v=!0);for(let x=0;x<6;x++){const w=x%3;w===0?(o.up.set(0,l[x],0),o.lookAt(u[x],0,0)):w===1?(o.up.set(0,0,l[x]),o.lookAt(0,u[x],0)):(o.up.set(0,l[x],0),o.lookAt(0,0,u[x]));const _=this._cubeSize;Ox(i,w*_,x>2?_:0,_,_),c.setRenderTarget(i),v&&c.render(g,o),c.render(e,o)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Nl||e.mapping===Fu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=SU()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wU());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new Pr(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;Ox(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,WE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=xU[(i-1)%xU.length];this._blur(e,i-1,i,a,s)}n.autoClear=r}_blur(e,n,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,s,o){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Pr(this._lodPlanes[i],u),h=u.uniforms,d=this._sizeLods[r]-1,g=isFinite(a)?Math.PI/(2*d):2*Math.PI/(2*Uc-1),v=a/g,y=isFinite(a)?1+Math.floor(c*v):Uc;y>Uc&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Uc}`);const x=[];let w=0;for(let A=0;A<Uc;++A){const P=A/v,M=Math.exp(-P*P/2);x.push(M),A===0?w+=M:A<y&&(w+=2*M)}for(let A=0;A<x.length;A++)x[A]=x[A]/w;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=x,h.latitudinal.value=s==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:_}=this;h.dTheta.value=g,h.mipInt.value=_-r;const S=this._sizeLods[i],b=3*S*(i>_-sd?i-_+sd:0),T=4*(this._cubeSize-S);Ox(n,b,T,3*S,2*S),l.setRenderTarget(n),l.render(f,WE)}}function UIe(t){const e=[],n=[],r=[];let i=t;const a=t-sd+1+vU.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);n.push(o);let l=1/o;s>t-sd?l=vU[s-t+sd-1]:s===0&&(l=0),r.push(l);const u=1/(o-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,g=6,v=3,y=2,x=1,w=new Float32Array(v*g*d),_=new Float32Array(y*g*d),S=new Float32Array(x*g*d);for(let T=0;T<d;T++){const A=T%3*2/3-1,P=T>2?0:-1,M=[A,P,0,A+2/3,P,0,A+2/3,P+1,0,A,P,0,A+2/3,P+1,0,A,P+1,0];w.set(M,v*g*T),_.set(h,y*g*T);const R=[T,T,T,T,T,T];S.set(R,x*g*T)}const b=new Zt;b.setAttribute("position",new On(w,v)),b.setAttribute("uv",new On(_,y)),b.setAttribute("faceIndex",new On(S,x)),e.push(b),i>sd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function _U(t,e,n){const r=new ro(t,e,n);return r.texture.mapping=Ip,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ox(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function BIe(t,e,n){const r=new Float32Array(Uc),i=new se(0,1,0);return new Do({name:"SphericalGaussianBlur",defines:{n:Uc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:z3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function wU(){return new Do({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:z3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function SU(){return new Do({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:z3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function z3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zIe(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===Lg||l===Dg,c=l===Nl||l===Fu;if(u||c)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let f=e.get(o);return n===null&&(n=new MC(t)),f=u?n.fromEquirectangular(o,f):n.fromCubemap(o,f),e.set(o,f),f.texture}else{if(e.has(o))return e.get(o).texture;{const f=o.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new MC(t));const h=u?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,h),o.addEventListener("dispose",a),h.texture}else return null}}}return o}function i(o){let l=0;const u=6;for(let c=0;c<u;c++)o[c]!==void 0&&l++;return l===u}function a(o){const l=o.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function jIe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function HIe(t,e,n,r){const i={},a=new WeakMap;function s(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const v=h.morphAttributes[g];for(let y=0,x=v.length;y<x;y++)e.remove(v[y])}h.removeEventListener("dispose",s),delete i[h.id];const d=a.get(h);d&&(e.remove(d),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function o(f,h){return i[h.id]===!0||(h.addEventListener("dispose",s),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const g in h)e.update(h[g],t.ARRAY_BUFFER);const d=f.morphAttributes;for(const g in d){const v=d[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],t.ARRAY_BUFFER)}}function u(f){const h=[],d=f.index,g=f.attributes.position;let v=0;if(d!==null){const w=d.array;v=d.version;for(let _=0,S=w.length;_<S;_+=3){const b=w[_+0],T=w[_+1],A=w[_+2];h.push(b,T,T,A,A,b)}}else if(g!==void 0){const w=g.array;v=g.version;for(let _=0,S=w.length/3-1;_<S;_+=3){const b=_+0,T=_+1,A=_+2;h.push(b,T,T,A,A,b)}}else return;const y=new(u9(h)?U3:F3)(h,1);y.version=v;const x=a.get(f);x&&e.remove(x),a.set(f,y)}function c(f){const h=a.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&u(f)}else u(f);return a.get(f)}return{get:o,update:l,getWireframeAttribute:c}}function WIe(t,e,n,r){const i=r.isWebGL2;let a;function s(h){a=h}let o,l;function u(h){o=h.type,l=h.bytesPerElement}function c(h,d){t.drawElements(a,d,o,h*l),n.update(d,a,1)}function f(h,d,g){if(g===0)return;let v,y;if(i)v=t,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](a,d,o,h*l,g),n.update(d,a,g)}this.setMode=s,this.setIndex=u,this.render=c,this.renderInstances=f}function GIe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function VIe(t,e){return t[0]-e[0]}function $Ie(t,e){return Math.abs(e[1])-Math.abs(t[1])}function XIe(t,e,n){const r={},i=new Float32Array(8),a=new WeakMap,s=new gn,o=[];for(let u=0;u<8;u++)o[u]=[u,0];function l(u,c,f){const h=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=g!==void 0?g.length:0;let y=a.get(c);if(y===void 0||y.count!==v){let z=function(){B.dispose(),a.delete(c),c.removeEventListener("dispose",z)};var d=z;y!==void 0&&y.texture.dispose();const _=c.morphAttributes.position!==void 0,S=c.morphAttributes.normal!==void 0,b=c.morphAttributes.color!==void 0,T=c.morphAttributes.position||[],A=c.morphAttributes.normal||[],P=c.morphAttributes.color||[];let M=0;_===!0&&(M=1),S===!0&&(M=2),b===!0&&(M=3);let R=c.attributes.position.count*M,D=1;R>e.maxTextureSize&&(D=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const L=new Float32Array(R*D*4*v),B=new VS(L,R,D,v);B.type=Eo,B.needsUpdate=!0;const G=M*4;for(let Z=0;Z<v;Z++){const ee=T[Z],U=A[Z],H=P[Z],X=R*D*4*Z;for(let F=0;F<ee.count;F++){const N=F*G;_===!0&&(s.fromBufferAttribute(ee,F),L[X+N+0]=s.x,L[X+N+1]=s.y,L[X+N+2]=s.z,L[X+N+3]=0),S===!0&&(s.fromBufferAttribute(U,F),L[X+N+4]=s.x,L[X+N+5]=s.y,L[X+N+6]=s.z,L[X+N+7]=0),b===!0&&(s.fromBufferAttribute(H,F),L[X+N+8]=s.x,L[X+N+9]=s.y,L[X+N+10]=s.z,L[X+N+11]=H.itemSize===4?s.w:1)}}y={count:v,texture:B,size:new Qe(R,D)},a.set(c,y),c.addEventListener("dispose",z)}let x=0;for(let _=0;_<h.length;_++)x+=h[_];const w=c.morphTargetsRelative?1:1-x;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const g=h===void 0?0:h.length;let v=r[c.id];if(v===void 0||v.length!==g){v=[];for(let S=0;S<g;S++)v[S]=[S,0];r[c.id]=v}for(let S=0;S<g;S++){const b=v[S];b[0]=S,b[1]=h[S]}v.sort($Ie);for(let S=0;S<8;S++)S<g&&v[S][1]?(o[S][0]=v[S][0],o[S][1]=v[S][1]):(o[S][0]=Number.MAX_SAFE_INTEGER,o[S][1]=0);o.sort(VIe);const y=c.morphAttributes.position,x=c.morphAttributes.normal;let w=0;for(let S=0;S<8;S++){const b=o[S],T=b[0],A=b[1];T!==Number.MAX_SAFE_INTEGER&&A?(y&&c.getAttribute("morphTarget"+S)!==y[T]&&c.setAttribute("morphTarget"+S,y[T]),x&&c.getAttribute("morphNormal"+S)!==x[T]&&c.setAttribute("morphNormal"+S,x[T]),i[S]=A,w+=A):(y&&c.hasAttribute("morphTarget"+S)===!0&&c.deleteAttribute("morphTarget"+S),x&&c.hasAttribute("morphNormal"+S)===!0&&c.deleteAttribute("morphNormal"+S),i[S]=0)}const _=c.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function YIe(t,e,n,r){let i=new WeakMap;function a(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function s(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:a,dispose:s}}const v9=new cr,y9=new VS,x9=new k3,_9=new Mv,bU=[],EU=[],TU=new Float32Array(16),AU=new Float32Array(9),MU=new Float32Array(4);function Lp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=bU[i];if(a===void 0&&(a=new Float32Array(i),bU[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function jr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Hr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function XS(t,e){let n=EU[e];n===void 0&&(n=new Int32Array(e),EU[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function qIe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function KIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(jr(n,e))return;t.uniform2fv(this.addr,e),Hr(n,e)}}function ZIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(jr(n,e))return;t.uniform3fv(this.addr,e),Hr(n,e)}}function JIe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(jr(n,e))return;t.uniform4fv(this.addr,e),Hr(n,e)}}function QIe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(jr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Hr(n,e)}else{if(jr(n,r))return;MU.set(r),t.uniformMatrix2fv(this.addr,!1,MU),Hr(n,r)}}function e4e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(jr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Hr(n,e)}else{if(jr(n,r))return;AU.set(r),t.uniformMatrix3fv(this.addr,!1,AU),Hr(n,r)}}function t4e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(jr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Hr(n,e)}else{if(jr(n,r))return;TU.set(r),t.uniformMatrix4fv(this.addr,!1,TU),Hr(n,r)}}function n4e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function r4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(jr(n,e))return;t.uniform2iv(this.addr,e),Hr(n,e)}}function i4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(jr(n,e))return;t.uniform3iv(this.addr,e),Hr(n,e)}}function a4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(jr(n,e))return;t.uniform4iv(this.addr,e),Hr(n,e)}}function s4e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function o4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(jr(n,e))return;t.uniform2uiv(this.addr,e),Hr(n,e)}}function l4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(jr(n,e))return;t.uniform3uiv(this.addr,e),Hr(n,e)}}function u4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(jr(n,e))return;t.uniform4uiv(this.addr,e),Hr(n,e)}}function c4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||v9,i)}function f4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||x9,i)}function h4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||_9,i)}function d4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||y9,i)}function p4e(t){switch(t){case 5126:return qIe;case 35664:return KIe;case 35665:return ZIe;case 35666:return JIe;case 35674:return QIe;case 35675:return e4e;case 35676:return t4e;case 5124:case 35670:return n4e;case 35667:case 35671:return r4e;case 35668:case 35672:return i4e;case 35669:case 35673:return a4e;case 5125:return s4e;case 36294:return o4e;case 36295:return l4e;case 36296:return u4e;case 35678:case 36198:case 36298:case 36306:case 35682:return c4e;case 35679:case 36299:case 36307:return f4e;case 35680:case 36300:case 36308:case 36293:return h4e;case 36289:case 36303:case 36311:case 36292:return d4e}}function m4e(t,e){t.uniform1fv(this.addr,e)}function g4e(t,e){const n=Lp(e,this.size,2);t.uniform2fv(this.addr,n)}function v4e(t,e){const n=Lp(e,this.size,3);t.uniform3fv(this.addr,n)}function y4e(t,e){const n=Lp(e,this.size,4);t.uniform4fv(this.addr,n)}function x4e(t,e){const n=Lp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function _4e(t,e){const n=Lp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function w4e(t,e){const n=Lp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function S4e(t,e){t.uniform1iv(this.addr,e)}function b4e(t,e){t.uniform2iv(this.addr,e)}function E4e(t,e){t.uniform3iv(this.addr,e)}function T4e(t,e){t.uniform4iv(this.addr,e)}function A4e(t,e){t.uniform1uiv(this.addr,e)}function M4e(t,e){t.uniform2uiv(this.addr,e)}function C4e(t,e){t.uniform3uiv(this.addr,e)}function P4e(t,e){t.uniform4uiv(this.addr,e)}function O4e(t,e,n){const r=this.cache,i=e.length,a=XS(n,i);jr(r,a)||(t.uniform1iv(this.addr,a),Hr(r,a));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||v9,a[s])}function R4e(t,e,n){const r=this.cache,i=e.length,a=XS(n,i);jr(r,a)||(t.uniform1iv(this.addr,a),Hr(r,a));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||x9,a[s])}function N4e(t,e,n){const r=this.cache,i=e.length,a=XS(n,i);jr(r,a)||(t.uniform1iv(this.addr,a),Hr(r,a));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||_9,a[s])}function I4e(t,e,n){const r=this.cache,i=e.length,a=XS(n,i);jr(r,a)||(t.uniform1iv(this.addr,a),Hr(r,a));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||y9,a[s])}function L4e(t){switch(t){case 5126:return m4e;case 35664:return g4e;case 35665:return v4e;case 35666:return y4e;case 35674:return x4e;case 35675:return _4e;case 35676:return w4e;case 5124:case 35670:return S4e;case 35667:case 35671:return b4e;case 35668:case 35672:return E4e;case 35669:case 35673:return T4e;case 5125:return A4e;case 36294:return M4e;case 36295:return C4e;case 36296:return P4e;case 35678:case 36198:case 36298:case 36306:case 35682:return O4e;case 35679:case 36299:case 36307:return R4e;case 35680:case 36300:case 36308:case 36293:return N4e;case 36289:case 36303:case 36311:case 36292:return I4e}}class D4e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=p4e(n.type)}}class k4e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=L4e(n.type)}}class F4e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,n[o.id],r)}}}const VE=/(\w+)(\])?(\[|\.)?/g;function CU(t,e){t.seq.push(e),t.map[e.id]=e}function U4e(t,e,n){const r=t.name,i=r.length;for(VE.lastIndex=0;;){const a=VE.exec(r),s=VE.lastIndex;let o=a[1];const l=a[2]==="]",u=a[3];if(l&&(o=o|0),u===void 0||u==="["&&s+2===i){CU(n,u===void 0?new D4e(o,t,e):new k4e(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new F4e(o),CU(n,f)),n=f}}}class M1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(n,i),s=e.getUniformLocation(n,a.name);U4e(a,s,this)}}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,s=n.length;a!==s;++a){const o=n[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function PU(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let B4e=0;function z4e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return r.join(`
`)}function j4e(t){switch(t){case no:return["Linear","( value )"];case Dn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function OU(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+z4e(t.getShaderSource(e),s)}else return i}function H4e(t,e){const n=j4e(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function W4e(t,e){let n;switch(e){case DG:n="Linear";break;case kG:n="Reinhard";break;case FG:n="OptimizedCineon";break;case b3:n="ACESFilmic";break;case UG:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function G4e(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(q0).join(`
`)}function V4e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function $4e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function q0(t){return t!==""}function RU(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function NU(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const X4e=/^[ \t]*#include +<([\w\d./]+)>/gm;function CC(t){return t.replace(X4e,q4e)}const Y4e=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function q4e(t,e){let n=Ht[e];if(n===void 0){const r=Y4e.get(e);if(r!==void 0)n=Ht[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return CC(n)}const K4e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function IU(t){return t.replace(K4e,Z4e)}function Z4e(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function LU(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function J4e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===jS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ym?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Bs&&(e="SHADOWMAP_TYPE_VSM"),e}function Q4e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Nl:case Fu:e="ENVMAP_TYPE_CUBE";break;case Ip:e="ENVMAP_TYPE_CUBE_UV";break}return e}function eLe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Fu:e="ENVMAP_MODE_REFRACTION";break}return e}function tLe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case bv:e="ENVMAP_BLENDING_MULTIPLY";break;case IG:e="ENVMAP_BLENDING_MIX";break;case LG:e="ENVMAP_BLENDING_ADD";break}return e}function nLe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function rLe(t,e,n,r){const i=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=J4e(n),u=Q4e(n),c=eLe(n),f=tLe(n),h=nLe(n),d=n.isWebGL2?"":G4e(n),g=V4e(a),v=i.createProgram();let y,x,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(q0).join(`
`),y.length>0&&(y+=`
`),x=[d,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(q0).join(`
`),x.length>0&&(x+=`
`)):(y=[LU(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(q0).join(`
`),x=[d,LU(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Oo?"#define TONE_MAPPING":"",n.toneMapping!==Oo?Ht.tonemapping_pars_fragment:"",n.toneMapping!==Oo?W4e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ht.colorspace_pars_fragment,H4e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(q0).join(`
`)),s=CC(s),s=RU(s,n),s=NU(s,n),o=CC(o),o=RU(o,n),o=NU(o,n),s=IU(s),o=IU(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",n.glslVersion===TC?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===TC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const _=w+y+s,S=w+x+o,b=PU(i,i.VERTEX_SHADER,_),T=PU(i,i.FRAGMENT_SHADER,S);if(i.attachShader(v,b),i.attachShader(v,T),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const M=i.getProgramInfoLog(v).trim(),R=i.getShaderInfoLog(b).trim(),D=i.getShaderInfoLog(T).trim();let L=!0,B=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(L=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,b,T);else{const G=OU(i,b,"vertex"),z=OU(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Program Info Log: `+M+`
`+G+`
`+z)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(R===""||D==="")&&(B=!1);B&&(this.diagnostics={runnable:L,programLog:M,vertexShader:{log:R,prefix:y},fragmentShader:{log:D,prefix:x}})}i.deleteShader(b),i.deleteShader(T);let A;this.getUniforms=function(){return A===void 0&&(A=new M1(i,v)),A};let P;return this.getAttributes=function(){return P===void 0&&(P=$4e(i,v)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=B4e++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=b,this.fragmentShader=T,this}let iLe=0;class aLe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new sLe(e),n.set(e,r)),r}}class sLe{constructor(e){this.id=iLe++,this.code=e,this.usedTimes=0}}function oLe(t,e,n,r,i,a,s){const o=new of,l=new aLe,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures;let d=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(M){return M===0?"uv":`uv${M}`}function y(M,R,D,L,B){const G=L.fog,z=B.geometry,Z=M.isMeshStandardMaterial?L.environment:null,ee=(M.isMeshStandardMaterial?n:e).get(M.envMap||Z),U=ee&&ee.mapping===Ip?ee.image.height:null,H=g[M.type];M.precision!==null&&(d=i.getMaxPrecision(M.precision),d!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",d,"instead."));const X=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,F=X!==void 0?X.length:0;let N=0;z.morphAttributes.position!==void 0&&(N=1),z.morphAttributes.normal!==void 0&&(N=2),z.morphAttributes.color!==void 0&&(N=3);let V,Y,q,ae;if(H){const Tt=$s[H];V=Tt.vertexShader,Y=Tt.fragmentShader}else V=M.vertexShader,Y=M.fragmentShader,l.update(M),q=l.getVertexShaderID(M),ae=l.getFragmentShaderID(M);const pe=t.getRenderTarget(),ye=B.isInstancedMesh===!0,ge=!!M.map,Se=!!M.matcap,we=!!ee,W=!!M.aoMap,Pe=!!M.lightMap,ve=!!M.bumpMap,Ie=!!M.normalMap,be=!!M.displacementMap,Ae=!!M.emissiveMap,Ne=!!M.metalnessMap,He=!!M.roughnessMap,qe=M.anisotropy>0,Le=M.clearcoat>0,lt=M.iridescence>0,Q=M.sheen>0,K=M.transmission>0,xe=qe&&!!M.anisotropyMap,Je=Le&&!!M.clearcoatMap,De=Le&&!!M.clearcoatNormalMap,Fe=Le&&!!M.clearcoatRoughnessMap,tt=lt&&!!M.iridescenceMap,Ke=lt&&!!M.iridescenceThicknessMap,Re=Q&&!!M.sheenColorMap,ft=Q&&!!M.sheenRoughnessMap,at=!!M.specularMap,it=!!M.specularColorMap,Xe=!!M.specularIntensityMap,ce=K&&!!M.transmissionMap,Be=K&&!!M.thicknessMap,ut=!!M.gradientMap,de=!!M.alphaMap,ze=M.alphaTest>0,Oe=!!M.alphaHash,st=!!M.extensions,nt=!!z.attributes.uv1,vt=!!z.attributes.uv2,Mt=!!z.attributes.uv3;let Ct=Oo;return M.toneMapped&&(pe===null||pe.isXRRenderTarget===!0)&&(Ct=t.toneMapping),{isWebGL2:c,shaderID:H,shaderType:M.type,shaderName:M.name,vertexShader:V,fragmentShader:Y,defines:M.defines,customVertexShaderID:q,customFragmentShaderID:ae,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:d,instancing:ye,instancingColor:ye&&B.instanceColor!==null,supportsVertexTextures:h,outputColorSpace:pe===null?t.outputColorSpace:pe.isXRRenderTarget===!0?pe.texture.colorSpace:no,map:ge,matcap:Se,envMap:we,envMapMode:we&&ee.mapping,envMapCubeUVHeight:U,aoMap:W,lightMap:Pe,bumpMap:ve,normalMap:Ie,displacementMap:h&&be,emissiveMap:Ae,normalMapObjectSpace:Ie&&M.normalMapType===JG,normalMapTangentSpace:Ie&&M.normalMapType===Zu,metalnessMap:Ne,roughnessMap:He,anisotropy:qe,anisotropyMap:xe,clearcoat:Le,clearcoatMap:Je,clearcoatNormalMap:De,clearcoatRoughnessMap:Fe,iridescence:lt,iridescenceMap:tt,iridescenceThicknessMap:Ke,sheen:Q,sheenColorMap:Re,sheenRoughnessMap:ft,specularMap:at,specularColorMap:it,specularIntensityMap:Xe,transmission:K,transmissionMap:ce,thicknessMap:Be,gradientMap:ut,opaque:M.transparent===!1&&M.blending===af,alphaMap:de,alphaTest:ze,alphaHash:Oe,combine:M.combine,mapUv:ge&&v(M.map.channel),aoMapUv:W&&v(M.aoMap.channel),lightMapUv:Pe&&v(M.lightMap.channel),bumpMapUv:ve&&v(M.bumpMap.channel),normalMapUv:Ie&&v(M.normalMap.channel),displacementMapUv:be&&v(M.displacementMap.channel),emissiveMapUv:Ae&&v(M.emissiveMap.channel),metalnessMapUv:Ne&&v(M.metalnessMap.channel),roughnessMapUv:He&&v(M.roughnessMap.channel),anisotropyMapUv:xe&&v(M.anisotropyMap.channel),clearcoatMapUv:Je&&v(M.clearcoatMap.channel),clearcoatNormalMapUv:De&&v(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fe&&v(M.clearcoatRoughnessMap.channel),iridescenceMapUv:tt&&v(M.iridescenceMap.channel),iridescenceThicknessMapUv:Ke&&v(M.iridescenceThicknessMap.channel),sheenColorMapUv:Re&&v(M.sheenColorMap.channel),sheenRoughnessMapUv:ft&&v(M.sheenRoughnessMap.channel),specularMapUv:at&&v(M.specularMap.channel),specularColorMapUv:it&&v(M.specularColorMap.channel),specularIntensityMapUv:Xe&&v(M.specularIntensityMap.channel),transmissionMapUv:ce&&v(M.transmissionMap.channel),thicknessMapUv:Be&&v(M.thicknessMap.channel),alphaMapUv:de&&v(M.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(Ie||qe),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUv1s:nt,vertexUv2s:vt,vertexUv3s:Mt,pointsUvs:B.isPoints===!0&&!!z.attributes.uv&&(ge||de),fog:!!G,useFog:M.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:B.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:F,morphTextureStride:N,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ct,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ge&&M.map.isVideoTexture===!0&&M.map.colorSpace===Dn,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===qs,flipSided:M.side===Ji,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:st&&M.extensions.derivatives===!0,extensionFragDepth:st&&M.extensions.fragDepth===!0,extensionDrawBuffers:st&&M.extensions.drawBuffers===!0,extensionShaderTextureLOD:st&&M.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function x(M){const R=[];if(M.shaderID?R.push(M.shaderID):(R.push(M.customVertexShaderID),R.push(M.customFragmentShaderID)),M.defines!==void 0)for(const D in M.defines)R.push(D),R.push(M.defines[D]);return M.isRawShaderMaterial===!1&&(w(R,M),_(R,M),R.push(t.outputColorSpace)),R.push(M.customProgramCacheKey),R.join()}function w(M,R){M.push(R.precision),M.push(R.outputColorSpace),M.push(R.envMapMode),M.push(R.envMapCubeUVHeight),M.push(R.mapUv),M.push(R.alphaMapUv),M.push(R.lightMapUv),M.push(R.aoMapUv),M.push(R.bumpMapUv),M.push(R.normalMapUv),M.push(R.displacementMapUv),M.push(R.emissiveMapUv),M.push(R.metalnessMapUv),M.push(R.roughnessMapUv),M.push(R.anisotropyMapUv),M.push(R.clearcoatMapUv),M.push(R.clearcoatNormalMapUv),M.push(R.clearcoatRoughnessMapUv),M.push(R.iridescenceMapUv),M.push(R.iridescenceThicknessMapUv),M.push(R.sheenColorMapUv),M.push(R.sheenRoughnessMapUv),M.push(R.specularMapUv),M.push(R.specularColorMapUv),M.push(R.specularIntensityMapUv),M.push(R.transmissionMapUv),M.push(R.thicknessMapUv),M.push(R.combine),M.push(R.fogExp2),M.push(R.sizeAttenuation),M.push(R.morphTargetsCount),M.push(R.morphAttributeCount),M.push(R.numDirLights),M.push(R.numPointLights),M.push(R.numSpotLights),M.push(R.numSpotLightMaps),M.push(R.numHemiLights),M.push(R.numRectAreaLights),M.push(R.numDirLightShadows),M.push(R.numPointLightShadows),M.push(R.numSpotLightShadows),M.push(R.numSpotLightShadowsWithMaps),M.push(R.shadowMapType),M.push(R.toneMapping),M.push(R.numClippingPlanes),M.push(R.numClipIntersection),M.push(R.depthPacking)}function _(M,R){o.disableAll(),R.isWebGL2&&o.enable(0),R.supportsVertexTextures&&o.enable(1),R.instancing&&o.enable(2),R.instancingColor&&o.enable(3),R.matcap&&o.enable(4),R.envMap&&o.enable(5),R.normalMapObjectSpace&&o.enable(6),R.normalMapTangentSpace&&o.enable(7),R.clearcoat&&o.enable(8),R.iridescence&&o.enable(9),R.alphaTest&&o.enable(10),R.vertexColors&&o.enable(11),R.vertexAlphas&&o.enable(12),R.vertexUv1s&&o.enable(13),R.vertexUv2s&&o.enable(14),R.vertexUv3s&&o.enable(15),R.vertexTangents&&o.enable(16),R.anisotropy&&o.enable(17),M.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.skinning&&o.enable(4),R.morphTargets&&o.enable(5),R.morphNormals&&o.enable(6),R.morphColors&&o.enable(7),R.premultipliedAlpha&&o.enable(8),R.shadowMapEnabled&&o.enable(9),R.useLegacyLights&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),R.decodeVideoTexture&&o.enable(19),M.push(o.mask)}function S(M){const R=g[M.type];let D;if(R){const L=$s[R];D=B3.clone(L.uniforms)}else D=M.uniforms;return D}function b(M,R){let D;for(let L=0,B=u.length;L<B;L++){const G=u[L];if(G.cacheKey===R){D=G,++D.usedTimes;break}}return D===void 0&&(D=new rLe(t,R,M,a),u.push(D)),D}function T(M){if(--M.usedTimes===0){const R=u.indexOf(M);u[R]=u[u.length-1],u.pop(),M.destroy()}}function A(M){l.remove(M)}function P(){l.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:S,acquireProgram:b,releaseProgram:T,releaseShaderCache:A,programs:u,dispose:P}}function lLe(){let t=new WeakMap;function e(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function n(a){t.delete(a)}function r(a,s,o){t.get(a)[s]=o}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function uLe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function DU(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function kU(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function s(f,h,d,g,v,y){let x=t[e];return x===void 0?(x={id:f.id,object:f,geometry:h,material:d,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},t[e]=x):(x.id=f.id,x.object=f,x.geometry=h,x.material=d,x.groupOrder=g,x.renderOrder=f.renderOrder,x.z=v,x.group=y),e++,x}function o(f,h,d,g,v,y){const x=s(f,h,d,g,v,y);d.transmission>0?r.push(x):d.transparent===!0?i.push(x):n.push(x)}function l(f,h,d,g,v,y){const x=s(f,h,d,g,v,y);d.transmission>0?r.unshift(x):d.transparent===!0?i.unshift(x):n.unshift(x)}function u(f,h){n.length>1&&n.sort(f||uLe),r.length>1&&r.sort(h||DU),i.length>1&&i.sort(h||DU)}function c(){for(let f=e,h=t.length;f<h;f++){const d=t[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:c,sort:u}}function cLe(){let t=new WeakMap;function e(r,i){const a=t.get(r);let s;return a===void 0?(s=new kU,t.set(r,[s])):i>=a.length?(s=new kU,a.push(s)):s=a[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function fLe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new se,color:new _t};break;case"SpotLight":n={position:new se,direction:new se,color:new _t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new se,color:new _t,distance:0,decay:0};break;case"HemisphereLight":n={direction:new se,skyColor:new _t,groundColor:new _t};break;case"RectAreaLight":n={color:new _t,position:new se,halfWidth:new se,halfHeight:new se};break}return t[e.id]=n,n}}}function hLe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let dLe=0;function pLe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function mLe(t,e){const n=new fLe,r=hLe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new se);const a=new se,s=new Ut,o=new Ut;function l(c,f){let h=0,d=0,g=0;for(let D=0;D<9;D++)i.probe[D].set(0,0,0);let v=0,y=0,x=0,w=0,_=0,S=0,b=0,T=0,A=0,P=0;c.sort(pLe);const M=f===!0?Math.PI:1;for(let D=0,L=c.length;D<L;D++){const B=c[D],G=B.color,z=B.intensity,Z=B.distance,ee=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)h+=G.r*z*M,d+=G.g*z*M,g+=G.b*z*M;else if(B.isLightProbe)for(let U=0;U<9;U++)i.probe[U].addScaledVector(B.sh.coefficients[U],z);else if(B.isDirectionalLight){const U=n.get(B);if(U.color.copy(B.color).multiplyScalar(B.intensity*M),B.castShadow){const H=B.shadow,X=r.get(B);X.shadowBias=H.bias,X.shadowNormalBias=H.normalBias,X.shadowRadius=H.radius,X.shadowMapSize=H.mapSize,i.directionalShadow[v]=X,i.directionalShadowMap[v]=ee,i.directionalShadowMatrix[v]=B.shadow.matrix,S++}i.directional[v]=U,v++}else if(B.isSpotLight){const U=n.get(B);U.position.setFromMatrixPosition(B.matrixWorld),U.color.copy(G).multiplyScalar(z*M),U.distance=Z,U.coneCos=Math.cos(B.angle),U.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),U.decay=B.decay,i.spot[x]=U;const H=B.shadow;if(B.map&&(i.spotLightMap[A]=B.map,A++,H.updateMatrices(B),B.castShadow&&P++),i.spotLightMatrix[x]=H.matrix,B.castShadow){const X=r.get(B);X.shadowBias=H.bias,X.shadowNormalBias=H.normalBias,X.shadowRadius=H.radius,X.shadowMapSize=H.mapSize,i.spotShadow[x]=X,i.spotShadowMap[x]=ee,T++}x++}else if(B.isRectAreaLight){const U=n.get(B);U.color.copy(G).multiplyScalar(z),U.halfWidth.set(B.width*.5,0,0),U.halfHeight.set(0,B.height*.5,0),i.rectArea[w]=U,w++}else if(B.isPointLight){const U=n.get(B);if(U.color.copy(B.color).multiplyScalar(B.intensity*M),U.distance=B.distance,U.decay=B.decay,B.castShadow){const H=B.shadow,X=r.get(B);X.shadowBias=H.bias,X.shadowNormalBias=H.normalBias,X.shadowRadius=H.radius,X.shadowMapSize=H.mapSize,X.shadowCameraNear=H.camera.near,X.shadowCameraFar=H.camera.far,i.pointShadow[y]=X,i.pointShadowMap[y]=ee,i.pointShadowMatrix[y]=B.shadow.matrix,b++}i.point[y]=U,y++}else if(B.isHemisphereLight){const U=n.get(B);U.skyColor.copy(B.color).multiplyScalar(z*M),U.groundColor.copy(B.groundColor).multiplyScalar(z*M),i.hemi[_]=U,_++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=gt.LTC_FLOAT_1,i.rectAreaLTC2=gt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=gt.LTC_HALF_1,i.rectAreaLTC2=gt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=g;const R=i.hash;(R.directionalLength!==v||R.pointLength!==y||R.spotLength!==x||R.rectAreaLength!==w||R.hemiLength!==_||R.numDirectionalShadows!==S||R.numPointShadows!==b||R.numSpotShadows!==T||R.numSpotMaps!==A)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=w,i.point.length=y,i.hemi.length=_,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=T+A-P,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=P,R.directionalLength=v,R.pointLength=y,R.spotLength=x,R.rectAreaLength=w,R.hemiLength=_,R.numDirectionalShadows=S,R.numPointShadows=b,R.numSpotShadows=T,R.numSpotMaps=A,i.version=dLe++)}function u(c,f){let h=0,d=0,g=0,v=0,y=0;const x=f.matrixWorldInverse;for(let w=0,_=c.length;w<_;w++){const S=c[w];if(S.isDirectionalLight){const b=i.directional[h];b.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(x),h++}else if(S.isSpotLight){const b=i.spot[g];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(x),b.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(x),g++}else if(S.isRectAreaLight){const b=i.rectArea[v];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(x),o.identity(),s.copy(S.matrixWorld),s.premultiply(x),o.extractRotation(s),b.halfWidth.set(S.width*.5,0,0),b.halfHeight.set(0,S.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(S.isPointLight){const b=i.point[d];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(x),d++}else if(S.isHemisphereLight){const b=i.hemi[y];b.direction.setFromMatrixPosition(S.matrixWorld),b.direction.transformDirection(x),y++}}}return{setup:l,setupView:u,state:i}}function FU(t,e){const n=new mLe(t,e),r=[],i=[];function a(){r.length=0,i.length=0}function s(f){r.push(f)}function o(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:s,pushShadow:o}}function gLe(t,e){let n=new WeakMap;function r(a,s=0){const o=n.get(a);let l;return o===void 0?(l=new FU(t,e),n.set(a,[l])):s>=o.length?(l=new FU(t,e),o.push(l)):l=o[s],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class YS extends Li{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ZG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class qS extends Li{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vLe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,yLe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function xLe(t,e,n){let r=new $S;const i=new Qe,a=new Qe,s=new gn,o=new YS({depthPacking:I3}),l=new qS,u={},c=n.maxTextureSize,f={[Rl]:Ji,[Ji]:Rl,[qs]:qs},h=new Do({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Qe},radius:{value:4}},vertexShader:vLe,fragmentShader:yLe}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const g=new Zt;g.setAttribute("position",new On(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Pr(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jS;let x=this.type;this.render=function(b,T,A){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||b.length===0)return;const P=t.getRenderTarget(),M=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),D=t.state;D.setBlending(_l),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const L=x!==Bs&&this.type===Bs,B=x===Bs&&this.type!==Bs;for(let G=0,z=b.length;G<z;G++){const Z=b[G],ee=Z.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;i.copy(ee.mapSize);const U=ee.getFrameExtents();if(i.multiply(U),a.copy(ee.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/U.x),i.x=a.x*U.x,ee.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/U.y),i.y=a.y*U.y,ee.mapSize.y=a.y)),ee.map===null||L===!0||B===!0){const X=this.type!==Bs?{minFilter:mr,magFilter:mr}:{};ee.map!==null&&ee.map.dispose(),ee.map=new ro(i.x,i.y,X),ee.map.texture.name=Z.name+".shadowMap",ee.camera.updateProjectionMatrix()}t.setRenderTarget(ee.map),t.clear();const H=ee.getViewportCount();for(let X=0;X<H;X++){const F=ee.getViewport(X);s.set(a.x*F.x,a.y*F.y,a.x*F.z,a.y*F.w),D.viewport(s),ee.updateMatrices(Z,X),r=ee.getFrustum(),S(T,A,ee.camera,Z,this.type)}ee.isPointLightShadow!==!0&&this.type===Bs&&w(ee,A),ee.needsUpdate=!1}x=this.type,y.needsUpdate=!1,t.setRenderTarget(P,M,R)};function w(b,T){const A=e.update(v);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,d.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new ro(i.x,i.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,t.setRenderTarget(b.mapPass),t.clear(),t.renderBufferDirect(T,null,A,h,v,null),d.uniforms.shadow_pass.value=b.mapPass.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,t.setRenderTarget(b.map),t.clear(),t.renderBufferDirect(T,null,A,d,v,null)}function _(b,T,A,P){let M=null;const R=A.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(R!==void 0)M=R;else if(M=A.isPointLight===!0?l:o,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const D=M.uuid,L=T.uuid;let B=u[D];B===void 0&&(B={},u[D]=B);let G=B[L];G===void 0&&(G=M.clone(),B[L]=G),M=G}if(M.visible=T.visible,M.wireframe=T.wireframe,P===Bs?M.side=T.shadowSide!==null?T.shadowSide:T.side:M.side=T.shadowSide!==null?T.shadowSide:f[T.side],M.alphaMap=T.alphaMap,M.alphaTest=T.alphaTest,M.map=T.map,M.clipShadows=T.clipShadows,M.clippingPlanes=T.clippingPlanes,M.clipIntersection=T.clipIntersection,M.displacementMap=T.displacementMap,M.displacementScale=T.displacementScale,M.displacementBias=T.displacementBias,M.wireframeLinewidth=T.wireframeLinewidth,M.linewidth=T.linewidth,A.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const D=t.properties.get(M);D.light=A}return M}function S(b,T,A,P,M){if(b.visible===!1)return;if(b.layers.test(T.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&M===Bs)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,b.matrixWorld);const L=e.update(b),B=b.material;if(Array.isArray(B)){const G=L.groups;for(let z=0,Z=G.length;z<Z;z++){const ee=G[z],U=B[ee.materialIndex];if(U&&U.visible){const H=_(b,U,P,M);t.renderBufferDirect(A,null,L,H,b,ee)}}}else if(B.visible){const G=_(b,B,P,M);t.renderBufferDirect(A,null,L,G,b,null)}}const D=b.children;for(let L=0,B=D.length;L<B;L++)S(D[L],T,A,P,M)}}function _Le(t,e,n){const r=n.isWebGL2;function i(){let de=!1;const ze=new gn;let Oe=null;const st=new gn(0,0,0,0);return{setMask:function(nt){Oe!==nt&&!de&&(t.colorMask(nt,nt,nt,nt),Oe=nt)},setLocked:function(nt){de=nt},setClear:function(nt,vt,Mt,Ct,Et){Et===!0&&(nt*=Ct,vt*=Ct,Mt*=Ct),ze.set(nt,vt,Mt,Ct),st.equals(ze)===!1&&(t.clearColor(nt,vt,Mt,Ct),st.copy(ze))},reset:function(){de=!1,Oe=null,st.set(-1,0,0,0)}}}function a(){let de=!1,ze=null,Oe=null,st=null;return{setTest:function(nt){nt?pe(t.DEPTH_TEST):ye(t.DEPTH_TEST)},setMask:function(nt){ze!==nt&&!de&&(t.depthMask(nt),ze=nt)},setFunc:function(nt){if(Oe!==nt){switch(nt){case AG:t.depthFunc(t.NEVER);break;case MG:t.depthFunc(t.ALWAYS);break;case CG:t.depthFunc(t.LESS);break;case yw:t.depthFunc(t.LEQUAL);break;case PG:t.depthFunc(t.EQUAL);break;case OG:t.depthFunc(t.GEQUAL);break;case RG:t.depthFunc(t.GREATER);break;case NG:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Oe=nt}},setLocked:function(nt){de=nt},setClear:function(nt){st!==nt&&(t.clearDepth(nt),st=nt)},reset:function(){de=!1,ze=null,Oe=null,st=null}}}function s(){let de=!1,ze=null,Oe=null,st=null,nt=null,vt=null,Mt=null,Ct=null,Et=null;return{setTest:function(Tt){de||(Tt?pe(t.STENCIL_TEST):ye(t.STENCIL_TEST))},setMask:function(Tt){ze!==Tt&&!de&&(t.stencilMask(Tt),ze=Tt)},setFunc:function(Tt,Qt,Gt){(Oe!==Tt||st!==Qt||nt!==Gt)&&(t.stencilFunc(Tt,Qt,Gt),Oe=Tt,st=Qt,nt=Gt)},setOp:function(Tt,Qt,Gt){(vt!==Tt||Mt!==Qt||Ct!==Gt)&&(t.stencilOp(Tt,Qt,Gt),vt=Tt,Mt=Qt,Ct=Gt)},setLocked:function(Tt){de=Tt},setClear:function(Tt){Et!==Tt&&(t.clearStencil(Tt),Et=Tt)},reset:function(){de=!1,ze=null,Oe=null,st=null,nt=null,vt=null,Mt=null,Ct=null,Et=null}}}const o=new i,l=new a,u=new s,c=new WeakMap,f=new WeakMap;let h={},d={},g=new WeakMap,v=[],y=null,x=!1,w=null,_=null,S=null,b=null,T=null,A=null,P=null,M=!1,R=null,D=null,L=null,B=null,G=null;const z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,ee=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL (\d)/.exec(U)[1]),Z=ee>=1):U.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),Z=ee>=2);let H=null,X={};const F=t.getParameter(t.SCISSOR_BOX),N=t.getParameter(t.VIEWPORT),V=new gn().fromArray(F),Y=new gn().fromArray(N);function q(de,ze,Oe,st){const nt=new Uint8Array(4),vt=t.createTexture();t.bindTexture(de,vt),t.texParameteri(de,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(de,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Mt=0;Mt<Oe;Mt++)r&&(de===t.TEXTURE_3D||de===t.TEXTURE_2D_ARRAY)?t.texImage3D(ze,0,t.RGBA,1,1,st,0,t.RGBA,t.UNSIGNED_BYTE,nt):t.texImage2D(ze+Mt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,nt);return vt}const ae={};ae[t.TEXTURE_2D]=q(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=q(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ae[t.TEXTURE_2D_ARRAY]=q(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=q(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),pe(t.DEPTH_TEST),l.setFunc(yw),be(!1),Ae(YM),pe(t.CULL_FACE),ve(_l);function pe(de){h[de]!==!0&&(t.enable(de),h[de]=!0)}function ye(de){h[de]!==!1&&(t.disable(de),h[de]=!1)}function ge(de,ze){return d[de]!==ze?(t.bindFramebuffer(de,ze),d[de]=ze,r&&(de===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=ze),de===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=ze)),!0):!1}function Se(de,ze){let Oe=v,st=!1;if(de)if(Oe=g.get(ze),Oe===void 0&&(Oe=[],g.set(ze,Oe)),de.isWebGLMultipleRenderTargets){const nt=de.texture;if(Oe.length!==nt.length||Oe[0]!==t.COLOR_ATTACHMENT0){for(let vt=0,Mt=nt.length;vt<Mt;vt++)Oe[vt]=t.COLOR_ATTACHMENT0+vt;Oe.length=nt.length,st=!0}}else Oe[0]!==t.COLOR_ATTACHMENT0&&(Oe[0]=t.COLOR_ATTACHMENT0,st=!0);else Oe[0]!==t.BACK&&(Oe[0]=t.BACK,st=!0);st&&(n.isWebGL2?t.drawBuffers(Oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Oe))}function we(de){return y!==de?(t.useProgram(de),y=de,!0):!1}const W={[Fc]:t.FUNC_ADD,[mG]:t.FUNC_SUBTRACT,[gG]:t.FUNC_REVERSE_SUBTRACT};if(r)W[JM]=t.MIN,W[QM]=t.MAX;else{const de=e.get("EXT_blend_minmax");de!==null&&(W[JM]=de.MIN_EXT,W[QM]=de.MAX_EXT)}const Pe={[vG]:t.ZERO,[yG]:t.ONE,[xG]:t.SRC_COLOR,[w3]:t.SRC_ALPHA,[TG]:t.SRC_ALPHA_SATURATE,[bG]:t.DST_COLOR,[wG]:t.DST_ALPHA,[_G]:t.ONE_MINUS_SRC_COLOR,[S3]:t.ONE_MINUS_SRC_ALPHA,[EG]:t.ONE_MINUS_DST_COLOR,[SG]:t.ONE_MINUS_DST_ALPHA};function ve(de,ze,Oe,st,nt,vt,Mt,Ct){if(de===_l){x===!0&&(ye(t.BLEND),x=!1);return}if(x===!1&&(pe(t.BLEND),x=!0),de!==pG){if(de!==w||Ct!==M){if((_!==Fc||T!==Fc)&&(t.blendEquation(t.FUNC_ADD),_=Fc,T=Fc),Ct)switch(de){case af:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qM:t.blendFunc(t.ONE,t.ONE);break;case KM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ZM:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case af:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qM:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case KM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ZM:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}S=null,b=null,A=null,P=null,w=de,M=Ct}return}nt=nt||ze,vt=vt||Oe,Mt=Mt||st,(ze!==_||nt!==T)&&(t.blendEquationSeparate(W[ze],W[nt]),_=ze,T=nt),(Oe!==S||st!==b||vt!==A||Mt!==P)&&(t.blendFuncSeparate(Pe[Oe],Pe[st],Pe[vt],Pe[Mt]),S=Oe,b=st,A=vt,P=Mt),w=de,M=!1}function Ie(de,ze){de.side===qs?ye(t.CULL_FACE):pe(t.CULL_FACE);let Oe=de.side===Ji;ze&&(Oe=!Oe),be(Oe),de.blending===af&&de.transparent===!1?ve(_l):ve(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.premultipliedAlpha),l.setFunc(de.depthFunc),l.setTest(de.depthTest),l.setMask(de.depthWrite),o.setMask(de.colorWrite);const st=de.stencilWrite;u.setTest(st),st&&(u.setMask(de.stencilWriteMask),u.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),u.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),He(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?pe(t.SAMPLE_ALPHA_TO_COVERAGE):ye(t.SAMPLE_ALPHA_TO_COVERAGE)}function be(de){R!==de&&(de?t.frontFace(t.CW):t.frontFace(t.CCW),R=de)}function Ae(de){de!==fG?(pe(t.CULL_FACE),de!==D&&(de===YM?t.cullFace(t.BACK):de===hG?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ye(t.CULL_FACE),D=de}function Ne(de){de!==L&&(Z&&t.lineWidth(de),L=de)}function He(de,ze,Oe){de?(pe(t.POLYGON_OFFSET_FILL),(B!==ze||G!==Oe)&&(t.polygonOffset(ze,Oe),B=ze,G=Oe)):ye(t.POLYGON_OFFSET_FILL)}function qe(de){de?pe(t.SCISSOR_TEST):ye(t.SCISSOR_TEST)}function Le(de){de===void 0&&(de=t.TEXTURE0+z-1),H!==de&&(t.activeTexture(de),H=de)}function lt(de,ze,Oe){Oe===void 0&&(H===null?Oe=t.TEXTURE0+z-1:Oe=H);let st=X[Oe];st===void 0&&(st={type:void 0,texture:void 0},X[Oe]=st),(st.type!==de||st.texture!==ze)&&(H!==Oe&&(t.activeTexture(Oe),H=Oe),t.bindTexture(de,ze||ae[de]),st.type=de,st.texture=ze)}function Q(){const de=X[H];de!==void 0&&de.type!==void 0&&(t.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function K(){try{t.compressedTexImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function xe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Je(){try{t.texSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function De(){try{t.texSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Fe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function tt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ke(){try{t.texStorage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Re(){try{t.texStorage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ft(){try{t.texImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function at(){try{t.texImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function it(de){V.equals(de)===!1&&(t.scissor(de.x,de.y,de.z,de.w),V.copy(de))}function Xe(de){Y.equals(de)===!1&&(t.viewport(de.x,de.y,de.z,de.w),Y.copy(de))}function ce(de,ze){let Oe=f.get(ze);Oe===void 0&&(Oe=new WeakMap,f.set(ze,Oe));let st=Oe.get(de);st===void 0&&(st=t.getUniformBlockIndex(ze,de.name),Oe.set(de,st))}function Be(de,ze){const st=f.get(ze).get(de);c.get(ze)!==st&&(t.uniformBlockBinding(ze,st,de.__bindingPointIndex),c.set(ze,st))}function ut(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},H=null,X={},d={},g=new WeakMap,v=[],y=null,x=!1,w=null,_=null,S=null,b=null,T=null,A=null,P=null,M=!1,R=null,D=null,L=null,B=null,G=null,V.set(0,0,t.canvas.width,t.canvas.height),Y.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),u.reset()}return{buffers:{color:o,depth:l,stencil:u},enable:pe,disable:ye,bindFramebuffer:ge,drawBuffers:Se,useProgram:we,setBlending:ve,setMaterial:Ie,setFlipSided:be,setCullFace:Ae,setLineWidth:Ne,setPolygonOffset:He,setScissorTest:qe,activeTexture:Le,bindTexture:lt,unbindTexture:Q,compressedTexImage2D:K,compressedTexImage3D:xe,texImage2D:ft,texImage3D:at,updateUBOMapping:ce,uniformBlockBinding:Be,texStorage2D:Ke,texStorage3D:Re,texSubImage2D:Je,texSubImage3D:De,compressedTexSubImage2D:Fe,compressedTexSubImage3D:tt,scissor:it,viewport:Xe,reset:ut}}function wLe(t,e,n,r,i,a,s){const o=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(Q,K){return x?new OffscreenCanvas(Q,K):Wg("canvas")}function _(Q,K,xe,Je){let De=1;if((Q.width>Je||Q.height>Je)&&(De=Je/Math.max(Q.width,Q.height)),De<1||K===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const Fe=K?ww:Math.floor,tt=Fe(De*Q.width),Ke=Fe(De*Q.height);v===void 0&&(v=w(tt,Ke));const Re=xe?w(tt,Ke):v;return Re.width=tt,Re.height=Ke,Re.getContext("2d").drawImage(Q,0,0,tt,Ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+tt+"x"+Ke+")."),Re}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function S(Q){return AC(Q.width)&&AC(Q.height)}function b(Q){return o?!1:Q.wrapS!==Pi||Q.wrapT!==Pi||Q.minFilter!==mr&&Q.minFilter!==Zn}function T(Q,K){return Q.generateMipmaps&&K&&Q.minFilter!==mr&&Q.minFilter!==Zn}function A(Q){t.generateMipmap(Q)}function P(Q,K,xe,Je,De=!1){if(o===!1)return K;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Fe=K;return K===t.RED&&(xe===t.FLOAT&&(Fe=t.R32F),xe===t.HALF_FLOAT&&(Fe=t.R16F),xe===t.UNSIGNED_BYTE&&(Fe=t.R8)),K===t.RED_INTEGER&&(xe===t.UNSIGNED_BYTE&&(Fe=t.R8UI),xe===t.UNSIGNED_SHORT&&(Fe=t.R16UI),xe===t.UNSIGNED_INT&&(Fe=t.R32UI),xe===t.BYTE&&(Fe=t.R8I),xe===t.SHORT&&(Fe=t.R16I),xe===t.INT&&(Fe=t.R32I)),K===t.RG&&(xe===t.FLOAT&&(Fe=t.RG32F),xe===t.HALF_FLOAT&&(Fe=t.RG16F),xe===t.UNSIGNED_BYTE&&(Fe=t.RG8)),K===t.RGBA&&(xe===t.FLOAT&&(Fe=t.RGBA32F),xe===t.HALF_FLOAT&&(Fe=t.RGBA16F),xe===t.UNSIGNED_BYTE&&(Fe=Je===Dn&&De===!1?t.SRGB8_ALPHA8:t.RGBA8),xe===t.UNSIGNED_SHORT_4_4_4_4&&(Fe=t.RGBA4),xe===t.UNSIGNED_SHORT_5_5_5_1&&(Fe=t.RGB5_A1)),(Fe===t.R16F||Fe===t.R32F||Fe===t.RG16F||Fe===t.RG32F||Fe===t.RGBA16F||Fe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Fe}function M(Q,K,xe){return T(Q,xe)===!0||Q.isFramebufferTexture&&Q.minFilter!==mr&&Q.minFilter!==Zn?Math.log2(Math.max(K.width,K.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?K.mipmaps.length:1}function R(Q){return Q===mr||Q===xw||Q===xm?t.NEAREST:t.LINEAR}function D(Q){const K=Q.target;K.removeEventListener("dispose",D),B(K),K.isVideoTexture&&g.delete(K)}function L(Q){const K=Q.target;K.removeEventListener("dispose",L),z(K)}function B(Q){const K=r.get(Q);if(K.__webglInit===void 0)return;const xe=Q.source,Je=y.get(xe);if(Je){const De=Je[K.__cacheKey];De.usedTimes--,De.usedTimes===0&&G(Q),Object.keys(Je).length===0&&y.delete(xe)}r.remove(Q)}function G(Q){const K=r.get(Q);t.deleteTexture(K.__webglTexture);const xe=Q.source,Je=y.get(xe);delete Je[K.__cacheKey],s.memory.textures--}function z(Q){const K=Q.texture,xe=r.get(Q),Je=r.get(K);if(Je.__webglTexture!==void 0&&(t.deleteTexture(Je.__webglTexture),s.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(xe.__webglFramebuffer[De]))for(let Fe=0;Fe<xe.__webglFramebuffer[De].length;Fe++)t.deleteFramebuffer(xe.__webglFramebuffer[De][Fe]);else t.deleteFramebuffer(xe.__webglFramebuffer[De]);xe.__webglDepthbuffer&&t.deleteRenderbuffer(xe.__webglDepthbuffer[De])}else{if(Array.isArray(xe.__webglFramebuffer))for(let De=0;De<xe.__webglFramebuffer.length;De++)t.deleteFramebuffer(xe.__webglFramebuffer[De]);else t.deleteFramebuffer(xe.__webglFramebuffer);if(xe.__webglDepthbuffer&&t.deleteRenderbuffer(xe.__webglDepthbuffer),xe.__webglMultisampledFramebuffer&&t.deleteFramebuffer(xe.__webglMultisampledFramebuffer),xe.__webglColorRenderbuffer)for(let De=0;De<xe.__webglColorRenderbuffer.length;De++)xe.__webglColorRenderbuffer[De]&&t.deleteRenderbuffer(xe.__webglColorRenderbuffer[De]);xe.__webglDepthRenderbuffer&&t.deleteRenderbuffer(xe.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let De=0,Fe=K.length;De<Fe;De++){const tt=r.get(K[De]);tt.__webglTexture&&(t.deleteTexture(tt.__webglTexture),s.memory.textures--),r.remove(K[De])}r.remove(K),r.remove(Q)}let Z=0;function ee(){Z=0}function U(){const Q=Z;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),Z+=1,Q}function H(Q){const K=[];return K.push(Q.wrapS),K.push(Q.wrapT),K.push(Q.wrapR||0),K.push(Q.magFilter),K.push(Q.minFilter),K.push(Q.anisotropy),K.push(Q.internalFormat),K.push(Q.format),K.push(Q.type),K.push(Q.generateMipmaps),K.push(Q.premultiplyAlpha),K.push(Q.flipY),K.push(Q.unpackAlignment),K.push(Q.colorSpace),K.join()}function X(Q,K){const xe=r.get(Q);if(Q.isVideoTexture&&Le(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&xe.__version!==Q.version){const Je=Q.image;if(Je===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Je.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ge(xe,Q,K);return}}n.bindTexture(t.TEXTURE_2D,xe.__webglTexture,t.TEXTURE0+K)}function F(Q,K){const xe=r.get(Q);if(Q.version>0&&xe.__version!==Q.version){ge(xe,Q,K);return}n.bindTexture(t.TEXTURE_2D_ARRAY,xe.__webglTexture,t.TEXTURE0+K)}function N(Q,K){const xe=r.get(Q);if(Q.version>0&&xe.__version!==Q.version){ge(xe,Q,K);return}n.bindTexture(t.TEXTURE_3D,xe.__webglTexture,t.TEXTURE0+K)}function V(Q,K){const xe=r.get(Q);if(Q.version>0&&xe.__version!==Q.version){Se(xe,Q,K);return}n.bindTexture(t.TEXTURE_CUBE_MAP,xe.__webglTexture,t.TEXTURE0+K)}const Y={[kg]:t.REPEAT,[Pi]:t.CLAMP_TO_EDGE,[Fg]:t.MIRRORED_REPEAT},q={[mr]:t.NEAREST,[xw]:t.NEAREST_MIPMAP_NEAREST,[xm]:t.NEAREST_MIPMAP_LINEAR,[Zn]:t.LINEAR,[E3]:t.LINEAR_MIPMAP_NEAREST,[Uu]:t.LINEAR_MIPMAP_LINEAR},ae={[e9]:t.NEVER,[o9]:t.ALWAYS,[t9]:t.LESS,[r9]:t.LEQUAL,[n9]:t.EQUAL,[s9]:t.GEQUAL,[i9]:t.GREATER,[a9]:t.NOTEQUAL};function pe(Q,K,xe){if(xe?(t.texParameteri(Q,t.TEXTURE_WRAP_S,Y[K.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,Y[K.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,Y[K.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,q[K.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,q[K.minFilter])):(t.texParameteri(Q,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Q,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(K.wrapS!==Pi||K.wrapT!==Pi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,R(K.magFilter)),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,R(K.minFilter)),K.minFilter!==mr&&K.minFilter!==Zn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),K.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,ae[K.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Je=e.get("EXT_texture_filter_anisotropic");if(K.magFilter===mr||K.minFilter!==xm&&K.minFilter!==Uu||K.type===Eo&&e.has("OES_texture_float_linear")===!1||o===!1&&K.type===ip&&e.has("OES_texture_half_float_linear")===!1)return;(K.anisotropy>1||r.get(K).__currentAnisotropy)&&(t.texParameterf(Q,Je.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,i.getMaxAnisotropy())),r.get(K).__currentAnisotropy=K.anisotropy)}}function ye(Q,K){let xe=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,K.addEventListener("dispose",D));const Je=K.source;let De=y.get(Je);De===void 0&&(De={},y.set(Je,De));const Fe=H(K);if(Fe!==Q.__cacheKey){De[Fe]===void 0&&(De[Fe]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,xe=!0),De[Fe].usedTimes++;const tt=De[Q.__cacheKey];tt!==void 0&&(De[Q.__cacheKey].usedTimes--,tt.usedTimes===0&&G(K)),Q.__cacheKey=Fe,Q.__webglTexture=De[Fe].texture}return xe}function ge(Q,K,xe){let Je=t.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&(Je=t.TEXTURE_2D_ARRAY),K.isData3DTexture&&(Je=t.TEXTURE_3D);const De=ye(Q,K),Fe=K.source;n.bindTexture(Je,Q.__webglTexture,t.TEXTURE0+xe);const tt=r.get(Fe);if(Fe.version!==tt.__version||De===!0){n.activeTexture(t.TEXTURE0+xe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,K.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,K.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ke=b(K)&&S(K.image)===!1;let Re=_(K.image,Ke,!1,c);Re=lt(K,Re);const ft=S(Re)||o,at=a.convert(K.format,K.colorSpace);let it=a.convert(K.type),Xe=P(K.internalFormat,at,it,K.colorSpace,K.isVideoTexture);pe(Je,K,ft);let ce;const Be=K.mipmaps,ut=o&&K.isVideoTexture!==!0,de=tt.__version===void 0||De===!0,ze=M(K,Re,ft);if(K.isDepthTexture)Xe=t.DEPTH_COMPONENT,o?K.type===Eo?Xe=t.DEPTH_COMPONENT32F:K.type===hl?Xe=t.DEPTH_COMPONENT24:K.type===Mu?Xe=t.DEPTH24_STENCIL8:Xe=t.DEPTH_COMPONENT16:K.type===Eo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),K.format===Cu&&Xe===t.DEPTH_COMPONENT&&K.type!==WS&&K.type!==hl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),K.type=hl,it=a.convert(K.type)),K.format===Ef&&Xe===t.DEPTH_COMPONENT&&(Xe=t.DEPTH_STENCIL,K.type!==Mu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),K.type=Mu,it=a.convert(K.type))),de&&(ut?n.texStorage2D(t.TEXTURE_2D,1,Xe,Re.width,Re.height):n.texImage2D(t.TEXTURE_2D,0,Xe,Re.width,Re.height,0,at,it,null));else if(K.isDataTexture)if(Be.length>0&&ft){ut&&de&&n.texStorage2D(t.TEXTURE_2D,ze,Xe,Be[0].width,Be[0].height);for(let Oe=0,st=Be.length;Oe<st;Oe++)ce=Be[Oe],ut?n.texSubImage2D(t.TEXTURE_2D,Oe,0,0,ce.width,ce.height,at,it,ce.data):n.texImage2D(t.TEXTURE_2D,Oe,Xe,ce.width,ce.height,0,at,it,ce.data);K.generateMipmaps=!1}else ut?(de&&n.texStorage2D(t.TEXTURE_2D,ze,Xe,Re.width,Re.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Re.width,Re.height,at,it,Re.data)):n.texImage2D(t.TEXTURE_2D,0,Xe,Re.width,Re.height,0,at,it,Re.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){ut&&de&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ze,Xe,Be[0].width,Be[0].height,Re.depth);for(let Oe=0,st=Be.length;Oe<st;Oe++)ce=Be[Oe],K.format!==ca?at!==null?ut?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Oe,0,0,0,ce.width,ce.height,Re.depth,at,ce.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Oe,Xe,ce.width,ce.height,Re.depth,0,ce.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ut?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Oe,0,0,0,ce.width,ce.height,Re.depth,at,it,ce.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Oe,Xe,ce.width,ce.height,Re.depth,0,at,it,ce.data)}else{ut&&de&&n.texStorage2D(t.TEXTURE_2D,ze,Xe,Be[0].width,Be[0].height);for(let Oe=0,st=Be.length;Oe<st;Oe++)ce=Be[Oe],K.format!==ca?at!==null?ut?n.compressedTexSubImage2D(t.TEXTURE_2D,Oe,0,0,ce.width,ce.height,at,ce.data):n.compressedTexImage2D(t.TEXTURE_2D,Oe,Xe,ce.width,ce.height,0,ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ut?n.texSubImage2D(t.TEXTURE_2D,Oe,0,0,ce.width,ce.height,at,it,ce.data):n.texImage2D(t.TEXTURE_2D,Oe,Xe,ce.width,ce.height,0,at,it,ce.data)}else if(K.isDataArrayTexture)ut?(de&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ze,Xe,Re.width,Re.height,Re.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,at,it,Re.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Xe,Re.width,Re.height,Re.depth,0,at,it,Re.data);else if(K.isData3DTexture)ut?(de&&n.texStorage3D(t.TEXTURE_3D,ze,Xe,Re.width,Re.height,Re.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,at,it,Re.data)):n.texImage3D(t.TEXTURE_3D,0,Xe,Re.width,Re.height,Re.depth,0,at,it,Re.data);else if(K.isFramebufferTexture){if(de)if(ut)n.texStorage2D(t.TEXTURE_2D,ze,Xe,Re.width,Re.height);else{let Oe=Re.width,st=Re.height;for(let nt=0;nt<ze;nt++)n.texImage2D(t.TEXTURE_2D,nt,Xe,Oe,st,0,at,it,null),Oe>>=1,st>>=1}}else if(Be.length>0&&ft){ut&&de&&n.texStorage2D(t.TEXTURE_2D,ze,Xe,Be[0].width,Be[0].height);for(let Oe=0,st=Be.length;Oe<st;Oe++)ce=Be[Oe],ut?n.texSubImage2D(t.TEXTURE_2D,Oe,0,0,at,it,ce):n.texImage2D(t.TEXTURE_2D,Oe,Xe,at,it,ce);K.generateMipmaps=!1}else ut?(de&&n.texStorage2D(t.TEXTURE_2D,ze,Xe,Re.width,Re.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,at,it,Re)):n.texImage2D(t.TEXTURE_2D,0,Xe,at,it,Re);T(K,ft)&&A(Je),tt.__version=Fe.version,K.onUpdate&&K.onUpdate(K)}Q.__version=K.version}function Se(Q,K,xe){if(K.image.length!==6)return;const Je=ye(Q,K),De=K.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+xe);const Fe=r.get(De);if(De.version!==Fe.__version||Je===!0){n.activeTexture(t.TEXTURE0+xe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,K.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,K.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const tt=K.isCompressedTexture||K.image[0].isCompressedTexture,Ke=K.image[0]&&K.image[0].isDataTexture,Re=[];for(let Oe=0;Oe<6;Oe++)!tt&&!Ke?Re[Oe]=_(K.image[Oe],!1,!0,u):Re[Oe]=Ke?K.image[Oe].image:K.image[Oe],Re[Oe]=lt(K,Re[Oe]);const ft=Re[0],at=S(ft)||o,it=a.convert(K.format,K.colorSpace),Xe=a.convert(K.type),ce=P(K.internalFormat,it,Xe,K.colorSpace),Be=o&&K.isVideoTexture!==!0,ut=Fe.__version===void 0||Je===!0;let de=M(K,ft,at);pe(t.TEXTURE_CUBE_MAP,K,at);let ze;if(tt){Be&&ut&&n.texStorage2D(t.TEXTURE_CUBE_MAP,de,ce,ft.width,ft.height);for(let Oe=0;Oe<6;Oe++){ze=Re[Oe].mipmaps;for(let st=0;st<ze.length;st++){const nt=ze[st];K.format!==ca?it!==null?Be?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,st,0,0,nt.width,nt.height,it,nt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,st,ce,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,st,0,0,nt.width,nt.height,it,Xe,nt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,st,ce,nt.width,nt.height,0,it,Xe,nt.data)}}}else{ze=K.mipmaps,Be&&ut&&(ze.length>0&&de++,n.texStorage2D(t.TEXTURE_CUBE_MAP,de,ce,Re[0].width,Re[0].height));for(let Oe=0;Oe<6;Oe++)if(Ke){Be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,0,0,0,Re[Oe].width,Re[Oe].height,it,Xe,Re[Oe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,0,ce,Re[Oe].width,Re[Oe].height,0,it,Xe,Re[Oe].data);for(let st=0;st<ze.length;st++){const vt=ze[st].image[Oe].image;Be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,st+1,0,0,vt.width,vt.height,it,Xe,vt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,st+1,ce,vt.width,vt.height,0,it,Xe,vt.data)}}else{Be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,0,0,0,it,Xe,Re[Oe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,0,ce,it,Xe,Re[Oe]);for(let st=0;st<ze.length;st++){const nt=ze[st];Be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,st+1,0,0,it,Xe,nt.image[Oe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,st+1,ce,it,Xe,nt.image[Oe])}}}T(K,at)&&A(t.TEXTURE_CUBE_MAP),Fe.__version=De.version,K.onUpdate&&K.onUpdate(K)}Q.__version=K.version}function we(Q,K,xe,Je,De,Fe){const tt=a.convert(xe.format,xe.colorSpace),Ke=a.convert(xe.type),Re=P(xe.internalFormat,tt,Ke,xe.colorSpace);if(!r.get(K).__hasExternalTextures){const at=Math.max(1,K.width>>Fe),it=Math.max(1,K.height>>Fe);De===t.TEXTURE_3D||De===t.TEXTURE_2D_ARRAY?n.texImage3D(De,Fe,Re,at,it,K.depth,0,tt,Ke,null):n.texImage2D(De,Fe,Re,at,it,0,tt,Ke,null)}n.bindFramebuffer(t.FRAMEBUFFER,Q),qe(K)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Je,De,r.get(xe).__webglTexture,0,He(K)):(De===t.TEXTURE_2D||De>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&De<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Je,De,r.get(xe).__webglTexture,Fe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function W(Q,K,xe){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),K.depthBuffer&&!K.stencilBuffer){let Je=t.DEPTH_COMPONENT16;if(xe||qe(K)){const De=K.depthTexture;De&&De.isDepthTexture&&(De.type===Eo?Je=t.DEPTH_COMPONENT32F:De.type===hl&&(Je=t.DEPTH_COMPONENT24));const Fe=He(K);qe(K)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Fe,Je,K.width,K.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Fe,Je,K.width,K.height)}else t.renderbufferStorage(t.RENDERBUFFER,Je,K.width,K.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Q)}else if(K.depthBuffer&&K.stencilBuffer){const Je=He(K);xe&&qe(K)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Je,t.DEPTH24_STENCIL8,K.width,K.height):qe(K)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Je,t.DEPTH24_STENCIL8,K.width,K.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,K.width,K.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Q)}else{const Je=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let De=0;De<Je.length;De++){const Fe=Je[De],tt=a.convert(Fe.format,Fe.colorSpace),Ke=a.convert(Fe.type),Re=P(Fe.internalFormat,tt,Ke,Fe.colorSpace),ft=He(K);xe&&qe(K)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ft,Re,K.width,K.height):qe(K)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ft,Re,K.width,K.height):t.renderbufferStorage(t.RENDERBUFFER,Re,K.width,K.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Pe(Q,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(K.depthTexture).__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),X(K.depthTexture,0);const Je=r.get(K.depthTexture).__webglTexture,De=He(K);if(K.depthTexture.format===Cu)qe(K)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Je,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Je,0);else if(K.depthTexture.format===Ef)qe(K)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Je,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Je,0);else throw new Error("Unknown depthTexture format")}function ve(Q){const K=r.get(Q),xe=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!K.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");Pe(K.__webglFramebuffer,Q)}else if(xe){K.__webglDepthbuffer=[];for(let Je=0;Je<6;Je++)n.bindFramebuffer(t.FRAMEBUFFER,K.__webglFramebuffer[Je]),K.__webglDepthbuffer[Je]=t.createRenderbuffer(),W(K.__webglDepthbuffer[Je],Q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer=t.createRenderbuffer(),W(K.__webglDepthbuffer,Q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ie(Q,K,xe){const Je=r.get(Q);K!==void 0&&we(Je.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),xe!==void 0&&ve(Q)}function be(Q){const K=Q.texture,xe=r.get(Q),Je=r.get(K);Q.addEventListener("dispose",L),Q.isWebGLMultipleRenderTargets!==!0&&(Je.__webglTexture===void 0&&(Je.__webglTexture=t.createTexture()),Je.__version=K.version,s.memory.textures++);const De=Q.isWebGLCubeRenderTarget===!0,Fe=Q.isWebGLMultipleRenderTargets===!0,tt=S(Q)||o;if(De){xe.__webglFramebuffer=[];for(let Ke=0;Ke<6;Ke++)if(o&&K.mipmaps&&K.mipmaps.length>0){xe.__webglFramebuffer[Ke]=[];for(let Re=0;Re<K.mipmaps.length;Re++)xe.__webglFramebuffer[Ke][Re]=t.createFramebuffer()}else xe.__webglFramebuffer[Ke]=t.createFramebuffer()}else{if(o&&K.mipmaps&&K.mipmaps.length>0){xe.__webglFramebuffer=[];for(let Ke=0;Ke<K.mipmaps.length;Ke++)xe.__webglFramebuffer[Ke]=t.createFramebuffer()}else xe.__webglFramebuffer=t.createFramebuffer();if(Fe)if(i.drawBuffers){const Ke=Q.texture;for(let Re=0,ft=Ke.length;Re<ft;Re++){const at=r.get(Ke[Re]);at.__webglTexture===void 0&&(at.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&Q.samples>0&&qe(Q)===!1){const Ke=Fe?K:[K];xe.__webglMultisampledFramebuffer=t.createFramebuffer(),xe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let Re=0;Re<Ke.length;Re++){const ft=Ke[Re];xe.__webglColorRenderbuffer[Re]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,xe.__webglColorRenderbuffer[Re]);const at=a.convert(ft.format,ft.colorSpace),it=a.convert(ft.type),Xe=P(ft.internalFormat,at,it,ft.colorSpace,Q.isXRRenderTarget===!0),ce=He(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,ce,Xe,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.RENDERBUFFER,xe.__webglColorRenderbuffer[Re])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(xe.__webglDepthRenderbuffer=t.createRenderbuffer(),W(xe.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(De){n.bindTexture(t.TEXTURE_CUBE_MAP,Je.__webglTexture),pe(t.TEXTURE_CUBE_MAP,K,tt);for(let Ke=0;Ke<6;Ke++)if(o&&K.mipmaps&&K.mipmaps.length>0)for(let Re=0;Re<K.mipmaps.length;Re++)we(xe.__webglFramebuffer[Ke][Re],Q,K,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,Re);else we(xe.__webglFramebuffer[Ke],Q,K,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0);T(K,tt)&&A(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Fe){const Ke=Q.texture;for(let Re=0,ft=Ke.length;Re<ft;Re++){const at=Ke[Re],it=r.get(at);n.bindTexture(t.TEXTURE_2D,it.__webglTexture),pe(t.TEXTURE_2D,at,tt),we(xe.__webglFramebuffer,Q,at,t.COLOR_ATTACHMENT0+Re,t.TEXTURE_2D,0),T(at,tt)&&A(t.TEXTURE_2D)}n.unbindTexture()}else{let Ke=t.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(o?Ke=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ke,Je.__webglTexture),pe(Ke,K,tt),o&&K.mipmaps&&K.mipmaps.length>0)for(let Re=0;Re<K.mipmaps.length;Re++)we(xe.__webglFramebuffer[Re],Q,K,t.COLOR_ATTACHMENT0,Ke,Re);else we(xe.__webglFramebuffer,Q,K,t.COLOR_ATTACHMENT0,Ke,0);T(K,tt)&&A(Ke),n.unbindTexture()}Q.depthBuffer&&ve(Q)}function Ae(Q){const K=S(Q)||o,xe=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Je=0,De=xe.length;Je<De;Je++){const Fe=xe[Je];if(T(Fe,K)){const tt=Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ke=r.get(Fe).__webglTexture;n.bindTexture(tt,Ke),A(tt),n.unbindTexture()}}}function Ne(Q){if(o&&Q.samples>0&&qe(Q)===!1){const K=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],xe=Q.width,Je=Q.height;let De=t.COLOR_BUFFER_BIT;const Fe=[],tt=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ke=r.get(Q),Re=Q.isWebGLMultipleRenderTargets===!0;if(Re)for(let ft=0;ft<K.length;ft++)n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglFramebuffer);for(let ft=0;ft<K.length;ft++){Fe.push(t.COLOR_ATTACHMENT0+ft),Q.depthBuffer&&Fe.push(tt);const at=Ke.__ignoreDepthValues!==void 0?Ke.__ignoreDepthValues:!1;if(at===!1&&(Q.depthBuffer&&(De|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&(De|=t.STENCIL_BUFFER_BIT)),Re&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[ft]),at===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[tt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[tt])),Re){const it=r.get(K[ft]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,it,0)}t.blitFramebuffer(0,0,xe,Je,0,0,xe,Je,De,t.NEAREST),d&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Fe)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Re)for(let ft=0;ft<K.length;ft++){n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[ft]);const at=r.get(K[ft]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.TEXTURE_2D,at,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer)}}function He(Q){return Math.min(f,Q.samples)}function qe(Q){const K=r.get(Q);return o&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function Le(Q){const K=s.render.frame;g.get(Q)!==K&&(g.set(Q,K),Q.update())}function lt(Q,K){const xe=Q.colorSpace,Je=Q.format,De=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===_w||xe!==no&&xe!==Ou&&(xe===Dn||xe===Ev?o===!1?e.has("EXT_sRGB")===!0&&Je===ca?(Q.format=_w,Q.minFilter=Zn,Q.generateMipmaps=!1):K=D3.sRGBToLinear(K):(Je!==ca||De!==Ro)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xe)),K}this.allocateTextureUnit=U,this.resetTextureUnits=ee,this.setTexture2D=X,this.setTexture2DArray=F,this.setTexture3D=N,this.setTextureCube=V,this.rebindTextures=Ie,this.setupRenderTarget=be,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=we,this.useMultisampledRTT=qe}const SLe=0,Dr=1;function w9(t,e,n){const r=n.isWebGL2;function i(a,s=Ou){let o;const l=s===Dn||s===Ev?Dr:SLe;if(a===Ro)return t.UNSIGNED_BYTE;if(a===A3)return t.UNSIGNED_SHORT_4_4_4_4;if(a===M3)return t.UNSIGNED_SHORT_5_5_5_1;if(a===BG)return t.BYTE;if(a===zG)return t.SHORT;if(a===WS)return t.UNSIGNED_SHORT;if(a===T3)return t.INT;if(a===hl)return t.UNSIGNED_INT;if(a===Eo)return t.FLOAT;if(a===ip)return r?t.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===jG)return t.ALPHA;if(a===ca)return t.RGBA;if(a===HG)return t.LUMINANCE;if(a===WG)return t.LUMINANCE_ALPHA;if(a===Cu)return t.DEPTH_COMPONENT;if(a===Ef)return t.DEPTH_STENCIL;if(a===_w)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===GG)return t.RED;if(a===C3)return t.RED_INTEGER;if(a===VG)return t.RG;if(a===P3)return t.RG_INTEGER;if(a===O3)return t.RGBA_INTEGER;if(a===_1||a===w1||a===S1||a===b1)if(l===Dr)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===_1)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===w1)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===S1)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===b1)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===_1)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===w1)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===S1)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===b1)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===eC||a===tC||a===nC||a===rC)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===eC)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===tC)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===nC)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===rC)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===$G)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===iC||a===aC)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(a===iC)return l===Dr?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===aC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===sC||a===oC||a===lC||a===uC||a===cC||a===fC||a===hC||a===dC||a===pC||a===mC||a===gC||a===vC||a===yC||a===xC)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(a===sC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===oC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===lC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===uC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===cC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===fC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===hC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===dC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===pC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===mC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===gC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===vC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===yC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===xC)return l===Dr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===E1||a===_C||a===wC)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(a===E1)return l===Dr?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(a===_C)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(a===wC)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(a===XG||a===SC||a===bC||a===EC)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(a===E1)return o.COMPRESSED_RED_RGTC1_EXT;if(a===SC)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===bC)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===EC)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===Mu?r?t.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[a]!==void 0?t[a]:null}return{convert:i}}class S9 extends vr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class od extends hn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bLe={type:"move"};class $E{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new od,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new od,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new od,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),x=this._getHandJoint(u,v);y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=y.radius),x.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),d=.02,g=.005;u.inputState.pinching&&h>d+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=d-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(bLe)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new od;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class b9 extends cr{constructor(e,n,r,i,a,s,o,l,u,c){if(c=c!==void 0?c:Cu,c!==Cu&&c!==Ef)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Cu&&(r=hl),r===void 0&&c===Ef&&(r=Mu),super(null,i,a,s,o,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:mr,this.minFilter=l!==void 0?l:mr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class ELe extends Bl{constructor(e,n){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,u=null,c=null,f=null,h=null,d=null,g=null;const v=n.getContextAttributes();let y=null,x=null;const w=[],_=[],S=new vr;S.layers.enable(1),S.viewport=new gn;const b=new vr;b.layers.enable(2),b.viewport=new gn;const T=[S,b],A=new S9;A.layers.enable(1),A.layers.enable(2);let P=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let N=w[F];return N===void 0&&(N=new $E,w[F]=N),N.getTargetRaySpace()},this.getControllerGrip=function(F){let N=w[F];return N===void 0&&(N=new $E,w[F]=N),N.getGripSpace()},this.getHand=function(F){let N=w[F];return N===void 0&&(N=new $E,w[F]=N),N.getHandSpace()};function R(F){const N=_.indexOf(F.inputSource);if(N===-1)return;const V=w[N];V!==void 0&&(V.update(F.inputSource,F.frame,u||s),V.dispatchEvent({type:F.type,data:F.inputSource}))}function D(){i.removeEventListener("select",R),i.removeEventListener("selectstart",R),i.removeEventListener("selectend",R),i.removeEventListener("squeeze",R),i.removeEventListener("squeezestart",R),i.removeEventListener("squeezeend",R),i.removeEventListener("end",D),i.removeEventListener("inputsourceschange",L);for(let F=0;F<w.length;F++){const N=_[F];N!==null&&(_[F]=null,w[F].disconnect(N))}P=null,M=null,e.setRenderTarget(y),d=null,h=null,f=null,i=null,x=null,X.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){a=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){o=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(F){u=F},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",R),i.addEventListener("selectstart",R),i.addEventListener("selectend",R),i.addEventListener("squeeze",R),i.addEventListener("squeezestart",R),i.addEventListener("squeezeend",R),i.addEventListener("end",D),i.addEventListener("inputsourceschange",L),v.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const N={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(i,n,N),i.updateRenderState({baseLayer:d}),x=new ro(d.framebufferWidth,d.framebufferHeight,{format:ca,type:Ro,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let N=null,V=null,Y=null;v.depth&&(Y=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,N=v.stencil?Ef:Cu,V=v.stencil?Mu:hl);const q={colorFormat:n.RGBA8,depthFormat:Y,scaleFactor:a};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(q),i.updateRenderState({layers:[h]}),x=new ro(h.textureWidth,h.textureHeight,{format:ca,type:Ro,depthTexture:new b9(h.textureWidth,h.textureHeight,V,void 0,void 0,void 0,void 0,void 0,void 0,N),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0});const ae=e.properties.get(x);ae.__ignoreDepthValues=h.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),u=null,s=await i.requestReferenceSpace(o),X.setContext(i),X.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function L(F){for(let N=0;N<F.removed.length;N++){const V=F.removed[N],Y=_.indexOf(V);Y>=0&&(_[Y]=null,w[Y].disconnect(V))}for(let N=0;N<F.added.length;N++){const V=F.added[N];let Y=_.indexOf(V);if(Y===-1){for(let ae=0;ae<w.length;ae++)if(ae>=_.length){_.push(V),Y=ae;break}else if(_[ae]===null){_[ae]=V,Y=ae;break}if(Y===-1)break}const q=w[Y];q&&q.connect(V)}}const B=new se,G=new se;function z(F,N,V){B.setFromMatrixPosition(N.matrixWorld),G.setFromMatrixPosition(V.matrixWorld);const Y=B.distanceTo(G),q=N.projectionMatrix.elements,ae=V.projectionMatrix.elements,pe=q[14]/(q[10]-1),ye=q[14]/(q[10]+1),ge=(q[9]+1)/q[5],Se=(q[9]-1)/q[5],we=(q[8]-1)/q[0],W=(ae[8]+1)/ae[0],Pe=pe*we,ve=pe*W,Ie=Y/(-we+W),be=Ie*-we;N.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(be),F.translateZ(Ie),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const Ae=pe+Ie,Ne=ye+Ie,He=Pe-be,qe=ve+(Y-be),Le=ge*ye/Ne*Ae,lt=Se*ye/Ne*Ae;F.projectionMatrix.makePerspective(He,qe,Le,lt,Ae,Ne),F.projectionMatrixInverse.copy(F.projectionMatrix).invert()}function Z(F,N){N===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(N.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;A.near=b.near=S.near=F.near,A.far=b.far=S.far=F.far,(P!==A.near||M!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),P=A.near,M=A.far);const N=F.parent,V=A.cameras;Z(A,N);for(let Y=0;Y<V.length;Y++)Z(V[Y],N);V.length===2?z(A,S,b):A.projectionMatrix.copy(S.projectionMatrix),ee(F,A,N)};function ee(F,N,V){V===null?F.matrix.copy(N.matrixWorld):(F.matrix.copy(V.matrixWorld),F.matrix.invert(),F.matrix.multiply(N.matrixWorld)),F.matrix.decompose(F.position,F.quaternion,F.scale),F.updateMatrixWorld(!0),F.projectionMatrix.copy(N.projectionMatrix),F.projectionMatrixInverse.copy(N.projectionMatrixInverse),F.isPerspectiveCamera&&(F.fov=ap*2*Math.atan(1/F.projectionMatrix.elements[5]),F.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(F){l=F,h!==null&&(h.fixedFoveation=F),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=F)};let U=null;function H(F,N){if(c=N.getViewerPose(u||s),g=N,c!==null){const V=c.views;d!==null&&(e.setRenderTargetFramebuffer(x,d.framebuffer),e.setRenderTarget(x));let Y=!1;V.length!==A.cameras.length&&(A.cameras.length=0,Y=!0);for(let q=0;q<V.length;q++){const ae=V[q];let pe=null;if(d!==null)pe=d.getViewport(ae);else{const ge=f.getViewSubImage(h,ae);pe=ge.viewport,q===0&&(e.setRenderTargetTextures(x,ge.colorTexture,h.ignoreDepthValues?void 0:ge.depthStencilTexture),e.setRenderTarget(x))}let ye=T[q];ye===void 0&&(ye=new vr,ye.layers.enable(q),ye.viewport=new gn,T[q]=ye),ye.matrix.fromArray(ae.transform.matrix),ye.matrix.decompose(ye.position,ye.quaternion,ye.scale),ye.projectionMatrix.fromArray(ae.projectionMatrix),ye.projectionMatrixInverse.copy(ye.projectionMatrix).invert(),ye.viewport.set(pe.x,pe.y,pe.width,pe.height),q===0&&(A.matrix.copy(ye.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),Y===!0&&A.cameras.push(ye)}}for(let V=0;V<w.length;V++){const Y=_[V],q=w[V];Y!==null&&q!==void 0&&q.update(Y,N,u||s)}U&&U(F,N),N.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:N}),g=null}const X=new g9;X.setAnimationLoop(H),this.setAnimationLoop=function(F){U=F},this.dispose=function(){}}}function TLe(t,e){function n(y,x){y.matrixAutoUpdate===!0&&y.updateMatrix(),x.value.copy(y.matrix)}function r(y,x){x.color.getRGB(y.fogColor.value,d9(t)),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function i(y,x,w,_,S){x.isMeshBasicMaterial||x.isMeshLambertMaterial?a(y,x):x.isMeshToonMaterial?(a(y,x),f(y,x)):x.isMeshPhongMaterial?(a(y,x),c(y,x)):x.isMeshStandardMaterial?(a(y,x),h(y,x),x.isMeshPhysicalMaterial&&d(y,x,S)):x.isMeshMatcapMaterial?(a(y,x),g(y,x)):x.isMeshDepthMaterial?a(y,x):x.isMeshDistanceMaterial?(a(y,x),v(y,x)):x.isMeshNormalMaterial?a(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?l(y,x,w,_):x.isSpriteMaterial?u(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map,n(x.map,y.mapTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,n(x.alphaMap,y.alphaMapTransform)),x.bumpMap&&(y.bumpMap.value=x.bumpMap,n(x.bumpMap,y.bumpMapTransform),y.bumpScale.value=x.bumpScale,x.side===Ji&&(y.bumpScale.value*=-1)),x.normalMap&&(y.normalMap.value=x.normalMap,n(x.normalMap,y.normalMapTransform),y.normalScale.value.copy(x.normalScale),x.side===Ji&&y.normalScale.value.negate()),x.displacementMap&&(y.displacementMap.value=x.displacementMap,n(x.displacementMap,y.displacementMapTransform),y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap,n(x.emissiveMap,y.emissiveMapTransform)),x.specularMap&&(y.specularMap.value=x.specularMap,n(x.specularMap,y.specularMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const w=e.get(x).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap){y.lightMap.value=x.lightMap;const _=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=x.lightMapIntensity*_,n(x.lightMap,y.lightMapTransform)}x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity,n(x.aoMap,y.aoMapTransform))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,x.map&&(y.map.value=x.map,n(x.map,y.mapTransform))}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function l(y,x,w,_){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*w,y.scale.value=_*.5,x.map&&(y.map.value=x.map,n(x.map,y.uvTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,n(x.alphaMap,y.alphaMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest)}function u(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map,n(x.map,y.mapTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,n(x.alphaMap,y.alphaMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest)}function c(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function f(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function h(y,x){y.metalness.value=x.metalness,x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap,n(x.metalnessMap,y.metalnessMapTransform)),y.roughness.value=x.roughness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap,n(x.roughnessMap,y.roughnessMapTransform)),e.get(x).envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function d(y,x,w){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap,n(x.sheenColorMap,y.sheenColorMapTransform)),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap,n(x.sheenRoughnessMap,y.sheenRoughnessMapTransform))),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap,n(x.clearcoatMap,y.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,n(x.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(y.clearcoatNormalMap.value=x.clearcoatNormalMap,n(x.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Ji&&y.clearcoatNormalScale.value.negate())),x.iridescence>0&&(y.iridescence.value=x.iridescence,y.iridescenceIOR.value=x.iridescenceIOR,y.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(y.iridescenceMap.value=x.iridescenceMap,n(x.iridescenceMap,y.iridescenceMapTransform)),x.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=x.iridescenceThicknessMap,n(x.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap,n(x.transmissionMap,y.transmissionMapTransform)),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap,n(x.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(y.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(y.anisotropyMap.value=x.anisotropyMap,n(x.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap,n(x.specularColorMap,y.specularColorMapTransform)),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap,n(x.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,x){x.matcap&&(y.matcap.value=x.matcap)}function v(y,x){const w=e.get(x).light;y.referencePosition.value.setFromMatrixPosition(w.matrixWorld),y.nearDistance.value=w.shadow.camera.near,y.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function ALe(t,e,n,r){let i={},a={},s=[];const o=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,_){const S=_.program;r.uniformBlockBinding(w,S)}function u(w,_){let S=i[w.id];S===void 0&&(g(w),S=c(w),i[w.id]=S,w.addEventListener("dispose",y));const b=_.program;r.updateUBOMapping(w,b);const T=e.render.frame;a[w.id]!==T&&(h(w),a[w.id]=T)}function c(w){const _=f();w.__bindingPointIndex=_;const S=t.createBuffer(),b=w.__size,T=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,b,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,S),S}function f(){for(let w=0;w<o;w++)if(s.indexOf(w)===-1)return s.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(w){const _=i[w.id],S=w.uniforms,b=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let T=0,A=S.length;T<A;T++){const P=S[T];if(d(P,T,b)===!0){const M=P.__offset,R=Array.isArray(P.value)?P.value:[P.value];let D=0;for(let L=0;L<R.length;L++){const B=R[L],G=v(B);typeof B=="number"?(P.__data[0]=B,t.bufferSubData(t.UNIFORM_BUFFER,M+D,P.__data)):B.isMatrix3?(P.__data[0]=B.elements[0],P.__data[1]=B.elements[1],P.__data[2]=B.elements[2],P.__data[3]=B.elements[0],P.__data[4]=B.elements[3],P.__data[5]=B.elements[4],P.__data[6]=B.elements[5],P.__data[7]=B.elements[0],P.__data[8]=B.elements[6],P.__data[9]=B.elements[7],P.__data[10]=B.elements[8],P.__data[11]=B.elements[0]):(B.toArray(P.__data,D),D+=G.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,M,P.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(w,_,S){const b=w.value;if(S[_]===void 0){if(typeof b=="number")S[_]=b;else{const T=Array.isArray(b)?b:[b],A=[];for(let P=0;P<T.length;P++)A.push(T[P].clone());S[_]=A}return!0}else if(typeof b=="number"){if(S[_]!==b)return S[_]=b,!0}else{const T=Array.isArray(S[_])?S[_]:[S[_]],A=Array.isArray(b)?b:[b];for(let P=0;P<T.length;P++){const M=T[P];if(M.equals(A[P])===!1)return M.copy(A[P]),!0}}return!1}function g(w){const _=w.uniforms;let S=0;const b=16;let T=0;for(let A=0,P=_.length;A<P;A++){const M=_[A],R={boundary:0,storage:0},D=Array.isArray(M.value)?M.value:[M.value];for(let L=0,B=D.length;L<B;L++){const G=D[L],z=v(G);R.boundary+=z.boundary,R.storage+=z.storage}if(M.__data=new Float32Array(R.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=S,A>0){T=S%b;const L=b-T;T!==0&&L-R.boundary<0&&(S+=b-T,M.__offset=S)}S+=R.storage}return T=S%b,T>0&&(S+=b-T),w.__size=S,w.__cache={},this}function v(w){const _={boundary:0,storage:0};return typeof w=="number"?(_.boundary=4,_.storage=4):w.isVector2?(_.boundary=8,_.storage=8):w.isVector3||w.isColor?(_.boundary=16,_.storage=12):w.isVector4?(_.boundary=16,_.storage=16):w.isMatrix3?(_.boundary=48,_.storage=48):w.isMatrix4?(_.boundary=64,_.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),_}function y(w){const _=w.target;_.removeEventListener("dispose",y);const S=s.indexOf(_.__bindingPointIndex);s.splice(S,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete a[_.id]}function x(){for(const w in i)t.deleteBuffer(i[w]);s=[],i={},a={}}return{bind:l,update:u,dispose:x}}class j3{constructor(e={}){const{canvas:n=c9(),context:r=null,depth:i=!0,stencil:a=!0,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;r!==null?h=r.getContextAttributes().alpha:h=s;const d=new Uint32Array(4),g=new Int32Array(4);let v=null,y=null;const x=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Dn,this._useLegacyLights=!1,this.toneMapping=Oo,this.toneMappingExposure=1;const _=this;let S=!1,b=0,T=0,A=null,P=-1,M=null;const R=new gn,D=new gn;let L=null;const B=new _t(0);let G=0,z=n.width,Z=n.height,ee=1,U=null,H=null;const X=new gn(0,0,z,Z),F=new gn(0,0,z,Z);let N=!1;const V=new $S;let Y=!1,q=!1,ae=null;const pe=new Ut,ye=new Qe,ge=new se,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function we(){return A===null?ee:1}let W=r;function Pe(k,re){for(let me=0;me<k.length;me++){const ne=k[me],oe=n.getContext(ne,re);if(oe!==null)return oe}return null}try{const k={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${zS}`),n.addEventListener("webglcontextlost",ze,!1),n.addEventListener("webglcontextrestored",Oe,!1),n.addEventListener("webglcontextcreationerror",st,!1),W===null){const re=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&re.shift(),W=Pe(re,k),W===null)throw Pe(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&W instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),W.getShaderPrecisionFormat===void 0&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let ve,Ie,be,Ae,Ne,He,qe,Le,lt,Q,K,xe,Je,De,Fe,tt,Ke,Re,ft,at,it,Xe,ce,Be;function ut(){ve=new jIe(W),Ie=new DIe(W,ve,e),ve.init(Ie),Xe=new w9(W,ve,Ie),be=new _Le(W,ve,Ie),Ae=new GIe(W),Ne=new lLe,He=new wLe(W,ve,be,Ne,Ie,Xe,Ae),qe=new FIe(_),Le=new zIe(_),lt=new eRe(W,Ie),ce=new IIe(W,ve,lt,Ie),Q=new HIe(W,lt,Ae,ce),K=new YIe(W,Q,lt,Ae),ft=new XIe(W,Ie,He),tt=new kIe(Ne),xe=new oLe(_,qe,Le,ve,Ie,ce,tt),Je=new TLe(_,Ne),De=new cLe,Fe=new gLe(ve,Ie),Re=new NIe(_,qe,Le,be,K,h,l),Ke=new xLe(_,K,Ie),Be=new ALe(W,Ae,Ie,be),at=new LIe(W,ve,Ae,Ie),it=new WIe(W,ve,Ae,Ie),Ae.programs=xe.programs,_.capabilities=Ie,_.extensions=ve,_.properties=Ne,_.renderLists=De,_.shadowMap=Ke,_.state=be,_.info=Ae}ut();const de=new ELe(_,W);this.xr=de,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){const k=ve.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=ve.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(k){k!==void 0&&(ee=k,this.setSize(z,Z,!1))},this.getSize=function(k){return k.set(z,Z)},this.setSize=function(k,re,me=!0){if(de.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=k,Z=re,n.width=Math.floor(k*ee),n.height=Math.floor(re*ee),me===!0&&(n.style.width=k+"px",n.style.height=re+"px"),this.setViewport(0,0,k,re)},this.getDrawingBufferSize=function(k){return k.set(z*ee,Z*ee).floor()},this.setDrawingBufferSize=function(k,re,me){z=k,Z=re,ee=me,n.width=Math.floor(k*me),n.height=Math.floor(re*me),this.setViewport(0,0,k,re)},this.getCurrentViewport=function(k){return k.copy(R)},this.getViewport=function(k){return k.copy(X)},this.setViewport=function(k,re,me,ne){k.isVector4?X.set(k.x,k.y,k.z,k.w):X.set(k,re,me,ne),be.viewport(R.copy(X).multiplyScalar(ee).floor())},this.getScissor=function(k){return k.copy(F)},this.setScissor=function(k,re,me,ne){k.isVector4?F.set(k.x,k.y,k.z,k.w):F.set(k,re,me,ne),be.scissor(D.copy(F).multiplyScalar(ee).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(k){be.setScissorTest(N=k)},this.setOpaqueSort=function(k){U=k},this.setTransparentSort=function(k){H=k},this.getClearColor=function(k){return k.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function(k=!0,re=!0,me=!0){let ne=0;if(k){let oe=!1;if(A!==null){const _e=A.texture.format;oe=_e===O3||_e===P3||_e===C3}if(oe){const _e=A.texture.type,Ue=_e===Ro||_e===hl||_e===WS||_e===Mu||_e===A3||_e===M3,Ge=Re.getClearColor(),et=Re.getClearAlpha(),Ve=Ge.r,Me=Ge.g,ot=Ge.b;Ue?(d[0]=Ve,d[1]=Me,d[2]=ot,d[3]=et,W.clearBufferuiv(W.COLOR,0,d)):(g[0]=Ve,g[1]=Me,g[2]=ot,g[3]=et,W.clearBufferiv(W.COLOR,0,g))}else ne|=W.COLOR_BUFFER_BIT}re&&(ne|=W.DEPTH_BUFFER_BIT),me&&(ne|=W.STENCIL_BUFFER_BIT),W.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ze,!1),n.removeEventListener("webglcontextrestored",Oe,!1),n.removeEventListener("webglcontextcreationerror",st,!1),De.dispose(),Fe.dispose(),Ne.dispose(),qe.dispose(),Le.dispose(),K.dispose(),ce.dispose(),Be.dispose(),xe.dispose(),de.dispose(),de.removeEventListener("sessionstart",Tt),de.removeEventListener("sessionend",Qt),ae&&(ae.dispose(),ae=null),Gt.stop()};function ze(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Oe(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const k=Ae.autoReset,re=Ke.enabled,me=Ke.autoUpdate,ne=Ke.needsUpdate,oe=Ke.type;ut(),Ae.autoReset=k,Ke.enabled=re,Ke.autoUpdate=me,Ke.needsUpdate=ne,Ke.type=oe}function st(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function nt(k){const re=k.target;re.removeEventListener("dispose",nt),vt(re)}function vt(k){Mt(k),Ne.remove(k)}function Mt(k){const re=Ne.get(k).programs;re!==void 0&&(re.forEach(function(me){xe.releaseProgram(me)}),k.isShaderMaterial&&xe.releaseShaderCache(k))}this.renderBufferDirect=function(k,re,me,ne,oe,_e){re===null&&(re=Se);const Ue=oe.isMesh&&oe.matrixWorld.determinant()<0,Ge=te(k,re,me,ne,oe);be.setMaterial(ne,Ue);let et=me.index,Ve=1;if(ne.wireframe===!0){if(et=Q.getWireframeAttribute(me),et===void 0)return;Ve=2}const Me=me.drawRange,ot=me.attributes.position;let Lt=Me.start*Ve,Rt=(Me.start+Me.count)*Ve;_e!==null&&(Lt=Math.max(Lt,_e.start*Ve),Rt=Math.min(Rt,(_e.start+_e.count)*Ve)),et!==null?(Lt=Math.max(Lt,0),Rt=Math.min(Rt,et.count)):ot!=null&&(Lt=Math.max(Lt,0),Rt=Math.min(Rt,ot.count));const rn=Rt-Lt;if(rn<0||rn===1/0)return;ce.setup(oe,ne,Ge,me,et);let tr,en=at;if(et!==null&&(tr=lt.get(et),en=it,en.setIndex(tr)),oe.isMesh)ne.wireframe===!0?(be.setLineWidth(ne.wireframeLinewidth*we()),en.setMode(W.LINES)):en.setMode(W.TRIANGLES);else if(oe.isLine){let Nt=ne.linewidth;Nt===void 0&&(Nt=1),be.setLineWidth(Nt*we()),oe.isLineSegments?en.setMode(W.LINES):oe.isLineLoop?en.setMode(W.LINE_LOOP):en.setMode(W.LINE_STRIP)}else oe.isPoints?en.setMode(W.POINTS):oe.isSprite&&en.setMode(W.TRIANGLES);if(oe.isInstancedMesh)en.renderInstances(Lt,rn,oe.count);else if(me.isInstancedBufferGeometry){const Nt=me._maxInstanceCount!==void 0?me._maxInstanceCount:1/0,jt=Math.min(me.instanceCount,Nt);en.renderInstances(Lt,rn,jt)}else en.render(Lt,rn)},this.compile=function(k,re){function me(ne,oe,_e){ne.transparent===!0&&ne.side===qs&&ne.forceSinglePass===!1?(ne.side=Ji,ne.needsUpdate=!0,J(ne,oe,_e),ne.side=Rl,ne.needsUpdate=!0,J(ne,oe,_e),ne.side=qs):J(ne,oe,_e)}y=Fe.get(k),y.init(),w.push(y),k.traverseVisible(function(ne){ne.isLight&&ne.layers.test(re.layers)&&(y.pushLight(ne),ne.castShadow&&y.pushShadow(ne))}),y.setupLights(_._useLegacyLights),k.traverse(function(ne){const oe=ne.material;if(oe)if(Array.isArray(oe))for(let _e=0;_e<oe.length;_e++){const Ue=oe[_e];me(Ue,k,ne)}else me(oe,k,ne)}),w.pop(),y=null};let Ct=null;function Et(k){Ct&&Ct(k)}function Tt(){Gt.stop()}function Qt(){Gt.start()}const Gt=new g9;Gt.setAnimationLoop(Et),typeof self<"u"&&Gt.setContext(self),this.setAnimationLoop=function(k){Ct=k,de.setAnimationLoop(k),k===null?Gt.stop():Gt.start()},de.addEventListener("sessionstart",Tt),de.addEventListener("sessionend",Qt),this.render=function(k,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),de.enabled===!0&&de.isPresenting===!0&&(de.cameraAutoUpdate===!0&&de.updateCamera(re),re=de.getCamera()),k.isScene===!0&&k.onBeforeRender(_,k,re,A),y=Fe.get(k,w.length),y.init(),w.push(y),pe.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),V.setFromProjectionMatrix(pe),q=this.localClippingEnabled,Y=tt.init(this.clippingPlanes,q),v=De.get(k,x.length),v.init(),x.push(v),Nn(k,re,0,_.sortObjects),v.finish(),_.sortObjects===!0&&v.sort(U,H),this.info.render.frame++,Y===!0&&tt.beginShadows();const me=y.state.shadowsArray;if(Ke.render(me,k,re),Y===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset(),Re.render(v,k),y.setupLights(_._useLegacyLights),re.isArrayCamera){const ne=re.cameras;for(let oe=0,_e=ne.length;oe<_e;oe++){const Ue=ne[oe];_r(v,k,Ue,Ue.viewport)}}else _r(v,k,re);A!==null&&(He.updateMultisampleRenderTarget(A),He.updateRenderTargetMipmap(A)),k.isScene===!0&&k.onAfterRender(_,k,re),ce.resetDefaultState(),P=-1,M=null,w.pop(),w.length>0?y=w[w.length-1]:y=null,x.pop(),x.length>0?v=x[x.length-1]:v=null};function Nn(k,re,me,ne){if(k.visible===!1)return;if(k.layers.test(re.layers)){if(k.isGroup)me=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(re);else if(k.isLight)y.pushLight(k),k.castShadow&&y.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||V.intersectsSprite(k)){ne&&ge.setFromMatrixPosition(k.matrixWorld).applyMatrix4(pe);const Ue=K.update(k),Ge=k.material;Ge.visible&&v.push(k,Ue,Ge,me,ge.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||V.intersectsObject(k))){const Ue=K.update(k),Ge=k.material;if(ne&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),ge.copy(k.boundingSphere.center)):(Ue.boundingSphere===null&&Ue.computeBoundingSphere(),ge.copy(Ue.boundingSphere.center)),ge.applyMatrix4(k.matrixWorld).applyMatrix4(pe)),Array.isArray(Ge)){const et=Ue.groups;for(let Ve=0,Me=et.length;Ve<Me;Ve++){const ot=et[Ve],Lt=Ge[ot.materialIndex];Lt&&Lt.visible&&v.push(k,Ue,Lt,me,ge.z,ot)}}else Ge.visible&&v.push(k,Ue,Ge,me,ge.z,null)}}const _e=k.children;for(let Ue=0,Ge=_e.length;Ue<Ge;Ue++)Nn(_e[Ue],re,me,ne)}function _r(k,re,me,ne){const oe=k.opaque,_e=k.transmissive,Ue=k.transparent;y.setupLightsView(me),Y===!0&&tt.setGlobalState(_.clippingPlanes,me),_e.length>0&&Di(oe,_e,re,me),ne&&be.viewport(R.copy(ne)),oe.length>0&&wr(oe,re,me),_e.length>0&&wr(_e,re,me),Ue.length>0&&wr(Ue,re,me),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function Di(k,re,me,ne){const oe=Ie.isWebGL2;ae===null&&(ae=new ro(1,1,{generateMipmaps:!0,type:ve.has("EXT_color_buffer_half_float")?ip:Ro,minFilter:Uu,samples:oe?4:0})),_.getDrawingBufferSize(ye),oe?ae.setSize(ye.x,ye.y):ae.setSize(ww(ye.x),ww(ye.y));const _e=_.getRenderTarget();_.setRenderTarget(ae),_.getClearColor(B),G=_.getClearAlpha(),G<1&&_.setClearColor(16777215,.5),_.clear();const Ue=_.toneMapping;_.toneMapping=Oo,wr(k,me,ne),He.updateMultisampleRenderTarget(ae),He.updateRenderTargetMipmap(ae);let Ge=!1;for(let et=0,Ve=re.length;et<Ve;et++){const Me=re[et],ot=Me.object,Lt=Me.geometry,Rt=Me.material,rn=Me.group;if(Rt.side===qs&&ot.layers.test(ne.layers)){const tr=Rt.side;Rt.side=Ji,Rt.needsUpdate=!0,ki(ot,me,ne,Lt,Rt,rn),Rt.side=tr,Rt.needsUpdate=!0,Ge=!0}}Ge===!0&&(He.updateMultisampleRenderTarget(ae),He.updateRenderTargetMipmap(ae)),_.setRenderTarget(_e),_.setClearColor(B,G),_.toneMapping=Ue}function wr(k,re,me){const ne=re.isScene===!0?re.overrideMaterial:null;for(let oe=0,_e=k.length;oe<_e;oe++){const Ue=k[oe],Ge=Ue.object,et=Ue.geometry,Ve=ne===null?Ue.material:ne,Me=Ue.group;Ge.layers.test(me.layers)&&ki(Ge,re,me,et,Ve,Me)}}function ki(k,re,me,ne,oe,_e){k.onBeforeRender(_,re,me,ne,oe,_e),k.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),oe.onBeforeRender(_,re,me,ne,k,_e),oe.transparent===!0&&oe.side===qs&&oe.forceSinglePass===!1?(oe.side=Ji,oe.needsUpdate=!0,_.renderBufferDirect(me,re,ne,oe,k,_e),oe.side=Rl,oe.needsUpdate=!0,_.renderBufferDirect(me,re,ne,oe,k,_e),oe.side=qs):_.renderBufferDirect(me,re,ne,oe,k,_e),k.onAfterRender(_,re,me,ne,oe,_e)}function J(k,re,me){re.isScene!==!0&&(re=Se);const ne=Ne.get(k),oe=y.state.lights,_e=y.state.shadowsArray,Ue=oe.state.version,Ge=xe.getParameters(k,oe.state,_e,re,me),et=xe.getProgramCacheKey(Ge);let Ve=ne.programs;ne.environment=k.isMeshStandardMaterial?re.environment:null,ne.fog=re.fog,ne.envMap=(k.isMeshStandardMaterial?Le:qe).get(k.envMap||ne.environment),Ve===void 0&&(k.addEventListener("dispose",nt),Ve=new Map,ne.programs=Ve);let Me=Ve.get(et);if(Me!==void 0){if(ne.currentProgram===Me&&ne.lightsStateVersion===Ue)return le(k,Ge),Me}else Ge.uniforms=xe.getUniforms(k),k.onBuild(me,Ge,_),k.onBeforeCompile(Ge,_),Me=xe.acquireProgram(Ge,et),Ve.set(et,Me),ne.uniforms=Ge.uniforms;const ot=ne.uniforms;(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(ot.clippingPlanes=tt.uniform),le(k,Ge),ne.needsLights=ue(k),ne.lightsStateVersion=Ue,ne.needsLights&&(ot.ambientLightColor.value=oe.state.ambient,ot.lightProbe.value=oe.state.probe,ot.directionalLights.value=oe.state.directional,ot.directionalLightShadows.value=oe.state.directionalShadow,ot.spotLights.value=oe.state.spot,ot.spotLightShadows.value=oe.state.spotShadow,ot.rectAreaLights.value=oe.state.rectArea,ot.ltc_1.value=oe.state.rectAreaLTC1,ot.ltc_2.value=oe.state.rectAreaLTC2,ot.pointLights.value=oe.state.point,ot.pointLightShadows.value=oe.state.pointShadow,ot.hemisphereLights.value=oe.state.hemi,ot.directionalShadowMap.value=oe.state.directionalShadowMap,ot.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,ot.spotShadowMap.value=oe.state.spotShadowMap,ot.spotLightMatrix.value=oe.state.spotLightMatrix,ot.spotLightMap.value=oe.state.spotLightMap,ot.pointShadowMap.value=oe.state.pointShadowMap,ot.pointShadowMatrix.value=oe.state.pointShadowMatrix);const Lt=Me.getUniforms(),Rt=M1.seqWithValue(Lt.seq,ot);return ne.currentProgram=Me,ne.uniformsList=Rt,Me}function le(k,re){const me=Ne.get(k);me.outputColorSpace=re.outputColorSpace,me.instancing=re.instancing,me.instancingColor=re.instancingColor,me.skinning=re.skinning,me.morphTargets=re.morphTargets,me.morphNormals=re.morphNormals,me.morphColors=re.morphColors,me.morphTargetsCount=re.morphTargetsCount,me.numClippingPlanes=re.numClippingPlanes,me.numIntersection=re.numClipIntersection,me.vertexAlphas=re.vertexAlphas,me.vertexTangents=re.vertexTangents,me.toneMapping=re.toneMapping}function te(k,re,me,ne,oe){re.isScene!==!0&&(re=Se),He.resetTextureUnits();const _e=re.fog,Ue=ne.isMeshStandardMaterial?re.environment:null,Ge=A===null?_.outputColorSpace:A.isXRRenderTarget===!0?A.texture.colorSpace:no,et=(ne.isMeshStandardMaterial?Le:qe).get(ne.envMap||Ue),Ve=ne.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,Me=!!me.attributes.tangent&&(!!ne.normalMap||ne.anisotropy>0),ot=!!me.morphAttributes.position,Lt=!!me.morphAttributes.normal,Rt=!!me.morphAttributes.color;let rn=Oo;ne.toneMapped&&(A===null||A.isXRRenderTarget===!0)&&(rn=_.toneMapping);const tr=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,en=tr!==void 0?tr.length:0,Nt=Ne.get(ne),jt=y.state.lights;if(Y===!0&&(q===!0||k!==M)){const Sr=k===M&&ne.id===P;tt.setState(ne,k,Sr)}let It=!1;ne.version===Nt.__version?(Nt.needsLights&&Nt.lightsStateVersion!==jt.state.version||Nt.outputColorSpace!==Ge||oe.isInstancedMesh&&Nt.instancing===!1||!oe.isInstancedMesh&&Nt.instancing===!0||oe.isSkinnedMesh&&Nt.skinning===!1||!oe.isSkinnedMesh&&Nt.skinning===!0||oe.isInstancedMesh&&Nt.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&Nt.instancingColor===!1&&oe.instanceColor!==null||Nt.envMap!==et||ne.fog===!0&&Nt.fog!==_e||Nt.numClippingPlanes!==void 0&&(Nt.numClippingPlanes!==tt.numPlanes||Nt.numIntersection!==tt.numIntersection)||Nt.vertexAlphas!==Ve||Nt.vertexTangents!==Me||Nt.morphTargets!==ot||Nt.morphNormals!==Lt||Nt.morphColors!==Rt||Nt.toneMapping!==rn||Ie.isWebGL2===!0&&Nt.morphTargetsCount!==en)&&(It=!0):(It=!0,Nt.__version=ne.version);let pn=Nt.currentProgram;It===!0&&(pn=J(ne,re,oe));let nr=!1,Gn=!1,na=!1;const En=pn.getUniforms(),In=Nt.uniforms;if(be.useProgram(pn.program)&&(nr=!0,Gn=!0,na=!0),ne.id!==P&&(P=ne.id,Gn=!0),nr||M!==k){En.setValue(W,"projectionMatrix",k.projectionMatrix),En.setValue(W,"viewMatrix",k.matrixWorldInverse);const Sr=En.map.cameraPosition;Sr!==void 0&&Sr.setValue(W,ge.setFromMatrixPosition(k.matrixWorld)),Ie.logarithmicDepthBuffer&&En.setValue(W,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&En.setValue(W,"isOrthographic",k.isOrthographicCamera===!0),M!==k&&(M=k,Gn=!0,na=!0)}if(oe.isSkinnedMesh){En.setOptional(W,oe,"bindMatrix"),En.setOptional(W,oe,"bindMatrixInverse");const Sr=oe.skeleton;Sr&&(Ie.floatVertexTextures?(Sr.boneTexture===null&&Sr.computeBoneTexture(),En.setValue(W,"boneTexture",Sr.boneTexture,He),En.setValue(W,"boneTextureSize",Sr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Fi=me.morphAttributes;if((Fi.position!==void 0||Fi.normal!==void 0||Fi.color!==void 0&&Ie.isWebGL2===!0)&&ft.update(oe,me,pn),(Gn||Nt.receiveShadow!==oe.receiveShadow)&&(Nt.receiveShadow=oe.receiveShadow,En.setValue(W,"receiveShadow",oe.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(In.envMap.value=et,In.flipEnvMap.value=et.isCubeTexture&&et.isRenderTargetTexture===!1?-1:1),Gn&&(En.setValue(W,"toneMappingExposure",_.toneMappingExposure),Nt.needsLights&&ie(In,na),_e&&ne.fog===!0&&Je.refreshFogUniforms(In,_e),Je.refreshMaterialUniforms(In,ne,ee,Z,ae),M1.upload(W,Nt.uniformsList,In,He)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(M1.upload(W,Nt.uniformsList,In,He),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&En.setValue(W,"center",oe.center),En.setValue(W,"modelViewMatrix",oe.modelViewMatrix),En.setValue(W,"normalMatrix",oe.normalMatrix),En.setValue(W,"modelMatrix",oe.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const Sr=ne.uniformsGroups;for(let lo=0,uo=Sr.length;lo<uo;lo++)if(Ie.isWebGL2){const mi=Sr[lo];Be.update(mi,pn),Be.bind(mi,pn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pn}function ie(k,re){k.ambientLightColor.needsUpdate=re,k.lightProbe.needsUpdate=re,k.directionalLights.needsUpdate=re,k.directionalLightShadows.needsUpdate=re,k.pointLights.needsUpdate=re,k.pointLightShadows.needsUpdate=re,k.spotLights.needsUpdate=re,k.spotLightShadows.needsUpdate=re,k.rectAreaLights.needsUpdate=re,k.hemisphereLights.needsUpdate=re}function ue(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(k,re,me){Ne.get(k.texture).__webglTexture=re,Ne.get(k.depthTexture).__webglTexture=me;const ne=Ne.get(k);ne.__hasExternalTextures=!0,ne.__hasExternalTextures&&(ne.__autoAllocateDepthBuffer=me===void 0,ne.__autoAllocateDepthBuffer||ve.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,re){const me=Ne.get(k);me.__webglFramebuffer=re,me.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(k,re=0,me=0){A=k,b=re,T=me;let ne=!0,oe=null,_e=!1,Ue=!1;if(k){const et=Ne.get(k);et.__useDefaultFramebuffer!==void 0?(be.bindFramebuffer(W.FRAMEBUFFER,null),ne=!1):et.__webglFramebuffer===void 0?He.setupRenderTarget(k):et.__hasExternalTextures&&He.rebindTextures(k,Ne.get(k.texture).__webglTexture,Ne.get(k.depthTexture).__webglTexture);const Ve=k.texture;(Ve.isData3DTexture||Ve.isDataArrayTexture||Ve.isCompressedArrayTexture)&&(Ue=!0);const Me=Ne.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(Me[re])?oe=Me[re][me]:oe=Me[re],_e=!0):Ie.isWebGL2&&k.samples>0&&He.useMultisampledRTT(k)===!1?oe=Ne.get(k).__webglMultisampledFramebuffer:Array.isArray(Me)?oe=Me[me]:oe=Me,R.copy(k.viewport),D.copy(k.scissor),L=k.scissorTest}else R.copy(X).multiplyScalar(ee).floor(),D.copy(F).multiplyScalar(ee).floor(),L=N;if(be.bindFramebuffer(W.FRAMEBUFFER,oe)&&Ie.drawBuffers&&ne&&be.drawBuffers(k,oe),be.viewport(R),be.scissor(D),be.setScissorTest(L),_e){const et=Ne.get(k.texture);W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_CUBE_MAP_POSITIVE_X+re,et.__webglTexture,me)}else if(Ue){const et=Ne.get(k.texture),Ve=re||0;W.framebufferTextureLayer(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,et.__webglTexture,me||0,Ve)}P=-1},this.readRenderTargetPixels=function(k,re,me,ne,oe,_e,Ue){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ge=Ne.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Ue!==void 0&&(Ge=Ge[Ue]),Ge){be.bindFramebuffer(W.FRAMEBUFFER,Ge);try{const et=k.texture,Ve=et.format,Me=et.type;if(Ve!==ca&&Xe.convert(Ve)!==W.getParameter(W.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ot=Me===ip&&(ve.has("EXT_color_buffer_half_float")||Ie.isWebGL2&&ve.has("EXT_color_buffer_float"));if(Me!==Ro&&Xe.convert(Me)!==W.getParameter(W.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Me===Eo&&(Ie.isWebGL2||ve.has("OES_texture_float")||ve.has("WEBGL_color_buffer_float")))&&!ot){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=k.width-ne&&me>=0&&me<=k.height-oe&&W.readPixels(re,me,ne,oe,Xe.convert(Ve),Xe.convert(Me),_e)}finally{const et=A!==null?Ne.get(A).__webglFramebuffer:null;be.bindFramebuffer(W.FRAMEBUFFER,et)}}},this.copyFramebufferToTexture=function(k,re,me=0){const ne=Math.pow(2,-me),oe=Math.floor(re.image.width*ne),_e=Math.floor(re.image.height*ne);He.setTexture2D(re,0),W.copyTexSubImage2D(W.TEXTURE_2D,me,0,0,k.x,k.y,oe,_e),be.unbindTexture()},this.copyTextureToTexture=function(k,re,me,ne=0){const oe=re.image.width,_e=re.image.height,Ue=Xe.convert(me.format),Ge=Xe.convert(me.type);He.setTexture2D(me,0),W.pixelStorei(W.UNPACK_FLIP_Y_WEBGL,me.flipY),W.pixelStorei(W.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),W.pixelStorei(W.UNPACK_ALIGNMENT,me.unpackAlignment),re.isDataTexture?W.texSubImage2D(W.TEXTURE_2D,ne,k.x,k.y,oe,_e,Ue,Ge,re.image.data):re.isCompressedTexture?W.compressedTexSubImage2D(W.TEXTURE_2D,ne,k.x,k.y,re.mipmaps[0].width,re.mipmaps[0].height,Ue,re.mipmaps[0].data):W.texSubImage2D(W.TEXTURE_2D,ne,k.x,k.y,Ue,Ge,re.image),ne===0&&me.generateMipmaps&&W.generateMipmap(W.TEXTURE_2D),be.unbindTexture()},this.copyTextureToTexture3D=function(k,re,me,ne,oe=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const _e=k.max.x-k.min.x+1,Ue=k.max.y-k.min.y+1,Ge=k.max.z-k.min.z+1,et=Xe.convert(ne.format),Ve=Xe.convert(ne.type);let Me;if(ne.isData3DTexture)He.setTexture3D(ne,0),Me=W.TEXTURE_3D;else if(ne.isDataArrayTexture)He.setTexture2DArray(ne,0),Me=W.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}W.pixelStorei(W.UNPACK_FLIP_Y_WEBGL,ne.flipY),W.pixelStorei(W.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),W.pixelStorei(W.UNPACK_ALIGNMENT,ne.unpackAlignment);const ot=W.getParameter(W.UNPACK_ROW_LENGTH),Lt=W.getParameter(W.UNPACK_IMAGE_HEIGHT),Rt=W.getParameter(W.UNPACK_SKIP_PIXELS),rn=W.getParameter(W.UNPACK_SKIP_ROWS),tr=W.getParameter(W.UNPACK_SKIP_IMAGES),en=me.isCompressedTexture?me.mipmaps[0]:me.image;W.pixelStorei(W.UNPACK_ROW_LENGTH,en.width),W.pixelStorei(W.UNPACK_IMAGE_HEIGHT,en.height),W.pixelStorei(W.UNPACK_SKIP_PIXELS,k.min.x),W.pixelStorei(W.UNPACK_SKIP_ROWS,k.min.y),W.pixelStorei(W.UNPACK_SKIP_IMAGES,k.min.z),me.isDataTexture||me.isData3DTexture?W.texSubImage3D(Me,oe,re.x,re.y,re.z,_e,Ue,Ge,et,Ve,en.data):me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),W.compressedTexSubImage3D(Me,oe,re.x,re.y,re.z,_e,Ue,Ge,et,en.data)):W.texSubImage3D(Me,oe,re.x,re.y,re.z,_e,Ue,Ge,et,Ve,en),W.pixelStorei(W.UNPACK_ROW_LENGTH,ot),W.pixelStorei(W.UNPACK_IMAGE_HEIGHT,Lt),W.pixelStorei(W.UNPACK_SKIP_PIXELS,Rt),W.pixelStorei(W.UNPACK_SKIP_ROWS,rn),W.pixelStorei(W.UNPACK_SKIP_IMAGES,tr),oe===0&&ne.generateMipmaps&&W.generateMipmap(Me),be.unbindTexture()},this.initTexture=function(k){k.isCubeTexture?He.setTextureCube(k,0):k.isData3DTexture?He.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?He.setTexture2DArray(k,0):He.setTexture2D(k,0),be.unbindTexture()},this.resetState=function(){b=0,T=0,A=null,be.reset(),ce.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return To}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Dn?Pu:N3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Pu?Dn:no}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class E9 extends j3{}E9.prototype.isWebGL1Renderer=!0;class KS{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new _t(e),this.density=n}clone(){return new KS(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class ZS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new _t(e),this.near=n,this.far=r}clone(){return new ZS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class H3 extends hn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class JS{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=jg,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Va()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Va()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Va()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Gi=new se;class Tf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Gi.fromBufferAttribute(this,n),Gi.applyMatrix4(e),this.setXYZ(n,Gi.x,Gi.y,Gi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Gi.fromBufferAttribute(this,n),Gi.applyNormalMatrix(e),this.setXYZ(n,Gi.x,Gi.y,Gi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Gi.fromBufferAttribute(this,n),Gi.transformDirection(e),this.setXYZ(n,Gi.x,Gi.y,Gi.z);return this}setX(e,n){return this.normalized&&(n=$t(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=$t(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=$t(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=$t(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=fa(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=fa(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=fa(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=fa(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array),i=$t(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=$t(n,this.array),r=$t(r,this.array),i=$t(i,this.array),a=$t(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new On(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Tf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class W3 extends Li{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Rh;const N0=new se,Nh=new se,Ih=new se,Lh=new Qe,I0=new Qe,T9=new Ut,Rx=new se,L0=new se,Nx=new se,UU=new Qe,XE=new Qe,BU=new Qe;class A9 extends hn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Rh===void 0){Rh=new Zt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new JS(n,5);Rh.setIndex([0,1,2,0,2,3]),Rh.setAttribute("position",new Tf(r,3,0,!1)),Rh.setAttribute("uv",new Tf(r,2,3,!1))}this.geometry=Rh,this.material=e!==void 0?e:new W3,this.center=new Qe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Nh.setFromMatrixScale(this.matrixWorld),T9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ih.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Nh.multiplyScalar(-Ih.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;Ix(Rx.set(-.5,-.5,0),Ih,s,Nh,i,a),Ix(L0.set(.5,-.5,0),Ih,s,Nh,i,a),Ix(Nx.set(.5,.5,0),Ih,s,Nh,i,a),UU.set(0,0),XE.set(1,0),BU.set(1,1);let o=e.ray.intersectTriangle(Rx,L0,Nx,!1,N0);if(o===null&&(Ix(L0.set(-.5,.5,0),Ih,s,Nh,i,a),XE.set(0,1),o=e.ray.intersectTriangle(Rx,Nx,L0,!1,N0),o===null))return;const l=e.ray.origin.distanceTo(N0);l<e.near||l>e.far||n.push({distance:l,point:N0.clone(),uv:ua.getInterpolation(N0,Rx,L0,Nx,UU,XE,BU,new Qe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ix(t,e,n,r,i,a){Lh.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(I0.x=a*Lh.x-i*Lh.y,I0.y=i*Lh.x+a*Lh.y):I0.copy(Lh),t.copy(e),t.x+=I0.x,t.y+=I0.y,t.applyMatrix4(T9)}const Lx=new se,zU=new se;class M9 extends hn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Lx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Lx);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Lx.setFromMatrixPosition(e.matrixWorld),zU.setFromMatrixPosition(this.matrixWorld);const r=Lx.distanceTo(zU)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const jU=new se,HU=new gn,WU=new gn,MLe=new se,GU=new Ut,Dh=new se,YE=new Ms,VU=new Ut,qE=new jf;class C9 extends Pr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ut,this.bindMatrixInverse=new Ut,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new As),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Dh.fromBufferAttribute(n,r),this.applyBoneTransform(r,Dh),this.boundingBox.expandByPoint(Dh)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ms),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Dh.fromBufferAttribute(n,r),this.applyBoneTransform(r,Dh),this.boundingSphere.expandByPoint(Dh)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),YE.copy(this.boundingSphere),YE.applyMatrix4(i),e.ray.intersectsSphere(YE)!==!1&&(VU.copy(i).invert(),qE.copy(e.ray).applyMatrix4(VU),!(this.boundingBox!==null&&qE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,qE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new gn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;HU.fromBufferAttribute(i.attributes.skinIndex,e),WU.fromBufferAttribute(i.attributes.skinWeight,e),jU.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=WU.getComponent(a);if(s!==0){const o=HU.getComponent(a);GU.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(MLe.copy(jU).applyMatrix4(GU),s)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class G3 extends hn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ed extends cr{constructor(e=null,n=1,r=1,i,a,s,o,l,u=mr,c=mr,f,h){super(null,s,o,l,u,c,i,a,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $U=new Ut,CLe=new Ut;class QS{constructor(e=[],n=[]){this.uuid=Va(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ut;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:CLe;$U.multiplyMatrices(o,n[a]),$U.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new QS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=l9(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Ed(n,e,e,ca,Eo);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=n[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new G3),this.bones.push(s),this.boneInverses.push(new Ut().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const s=n[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class Af extends On{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const kh=new Ut,XU=new Ut,Dx=[],YU=new As,PLe=new Ut,D0=new Pr,k0=new Ms;class P9 extends Pr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Af(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,PLe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new As),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,kh),YU.copy(e.boundingBox).applyMatrix4(kh),this.boundingBox.union(YU)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ms),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,kh),k0.copy(e.boundingSphere).applyMatrix4(kh),this.boundingSphere.union(k0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(D0.geometry=this.geometry,D0.material=this.material,D0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),k0.copy(this.boundingSphere),k0.applyMatrix4(r),e.ray.intersectsSphere(k0)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,kh),XU.multiplyMatrices(r,kh),D0.matrixWorld=XU,D0.raycast(e,Dx);for(let s=0,o=Dx.length;s<o;s++){const l=Dx[s];l.instanceId=a,l.object=this,n.push(l)}Dx.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Af(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ta extends Li{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new _t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const qU=new se,KU=new se,ZU=new Ut,KE=new jf,kx=new Ms;class Bu extends hn{constructor(e=new Zt,n=new ta){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)qU.fromBufferAttribute(n,i-1),KU.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=qU.distanceTo(KU);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),kx.copy(r.boundingSphere),kx.applyMatrix4(i),kx.radius+=a,e.ray.intersectsSphere(kx)===!1)return;ZU.copy(i).invert(),KE.copy(e.ray).applyMatrix4(ZU);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=new se,c=new se,f=new se,h=new se,d=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,s.start),w=Math.min(g.count,s.start+s.count);for(let _=x,S=w-1;_<S;_+=d){const b=g.getX(_),T=g.getX(_+1);if(u.fromBufferAttribute(y,b),c.fromBufferAttribute(y,T),KE.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(h);P<e.near||P>e.far||n.push({distance:P,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,s.start),w=Math.min(y.count,s.start+s.count);for(let _=x,S=w-1;_<S;_+=d){if(u.fromBufferAttribute(y,_),c.fromBufferAttribute(y,_+1),KE.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(h);T<e.near||T>e.far||n.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}const JU=new se,QU=new se;class Fo extends Bu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)JU.fromBufferAttribute(n,i),QU.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+JU.distanceTo(QU);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class O9 extends Bu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class V3 extends Li{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const eB=new Ut,PC=new jf,Fx=new Ms,Ux=new se;class R9 extends hn{constructor(e=new Zt,n=new V3){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Fx.copy(r.boundingSphere),Fx.applyMatrix4(i),Fx.radius+=a,e.ray.intersectsSphere(Fx)===!1)return;eB.copy(i).invert(),PC.copy(e.ray).applyMatrix4(eB);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,s.start),d=Math.min(u.count,s.start+s.count);for(let g=h,v=d;g<v;g++){const y=u.getX(g);Ux.fromBufferAttribute(f,y),tB(Ux,y,l,i,e,n,this)}}else{const h=Math.max(0,s.start),d=Math.min(f.count,s.start+s.count);for(let g=h,v=d;g<v;g++)Ux.fromBufferAttribute(f,g),tB(Ux,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function tB(t,e,n,r,i,a,s){const o=PC.distanceSqToPoint(t);if(o<n){const l=new se;PC.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:s})}}class OLe extends cr{constructor(e,n,r,i,a,s,o,l,u){super(e,n,r,i,a,s,o,l,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Zn,this.magFilter=a!==void 0?a:Zn,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class RLe extends cr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=mr,this.minFilter=mr,this.generateMipmaps=!1,this.needsUpdate=!0}}class eb extends cr{constructor(e,n,r,i,a,s,o,l,u,c,f,h){super(null,s,o,l,u,c,i,a,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class NLe extends eb{constructor(e,n,r,i,a,s){super(e,n,r,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Pi}}class ILe extends eb{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Nl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class LLe extends cr{constructor(e,n,r,i,a,s,o,l,u){super(e,n,r,i,a,s,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class so{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const a=r.length;let s;n?s=n:s=e*r[a-1];let o=0,l=a-1,u;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),u=r[i]-s,u<0)o=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(a-1);const c=r[i],h=r[i+1]-c,d=(s-c)/h;return(i+d)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=n||(s.isVector2?new Qe:new se);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new se,i=[],a=[],s=[],o=new se,l=new Ut;for(let d=0;d<=e;d++){const g=d/e;i[d]=this.getTangentAt(g,new se)}a[0]=new se,s[0]=new se;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let d=1;d<=e;d++){if(a[d]=a[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(i[d-1],i[d]),o.length()>Number.EPSILON){o.normalize();const g=Math.acos(lr(i[d-1].dot(i[d]),-1,1));a[d].applyMatrix4(l.makeRotationAxis(o,g))}s[d].crossVectors(i[d],a[d])}if(n===!0){let d=Math.acos(lr(a[0].dot(a[e]),-1,1));d/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(d=-d);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(i[g],d*g)),s[g].crossVectors(i[g],a[g])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class tb extends so{constructor(e=0,n=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,n){const r=n||new Qe,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=u-this.aY;l=h*c-d*f+this.aX,u=h*f+d*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class N9 extends tb{constructor(e,n,r,i,a,s){super(e,n,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function $3(){let t=0,e=0,n=0,r=0;function i(a,s,o,l){t=a,e=o,n=-3*a+3*s-2*o-l,r=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,u){i(s,o,u*(o-a),u*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,u,c,f){let h=(s-a)/u-(o-a)/(u+c)+(o-s)/c,d=(o-s)/c-(l-s)/(c+f)+(l-o)/f;h*=c,d*=c,i(s,o,h,d)},calc:function(a){const s=a*a,o=s*a;return t+e*a+n*s+r*o}}}const Bx=new se,ZE=new $3,JE=new $3,QE=new $3;class I9 extends so{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new se){const r=n,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let u,c;this.closed||o>0?u=i[(o-1)%a]:(Bx.subVectors(i[0],i[1]).add(i[0]),u=Bx);const f=i[o%a],h=i[(o+1)%a];if(this.closed||o+2<a?c=i[(o+2)%a]:(Bx.subVectors(i[a-1],i[a-2]).add(i[a-1]),c=Bx),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),d),v=Math.pow(f.distanceToSquared(h),d),y=Math.pow(h.distanceToSquared(c),d);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),ZE.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,v,y),JE.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,v,y),QE.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,v,y)}else this.curveType==="catmullrom"&&(ZE.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),JE.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),QE.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(ZE.calc(l),JE.calc(l),QE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new se().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function nB(t,e,n,r,i){const a=(r-e)*.5,s=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+a+s)*l+(-3*n+3*r-2*a-s)*o+a*t+n}function DLe(t,e){const n=1-t;return n*n*e}function kLe(t,e){return 2*(1-t)*t*e}function FLe(t,e){return t*t*e}function Sm(t,e,n,r){return DLe(t,e)+kLe(t,n)+FLe(t,r)}function ULe(t,e){const n=1-t;return n*n*n*e}function BLe(t,e){const n=1-t;return 3*n*n*t*e}function zLe(t,e){return 3*(1-t)*t*t*e}function jLe(t,e){return t*t*t*e}function bm(t,e,n,r,i){return ULe(t,e)+BLe(t,n)+zLe(t,r)+jLe(t,i)}class X3 extends so{constructor(e=new Qe,n=new Qe,r=new Qe,i=new Qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Qe){const r=n,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(bm(e,i.x,a.x,s.x,o.x),bm(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L9 extends so{constructor(e=new se,n=new se,r=new se,i=new se){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new se){const r=n,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(bm(e,i.x,a.x,s.x,o.x),bm(e,i.y,a.y,s.y,o.y),bm(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nb extends so{constructor(e=new Qe,n=new Qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Qe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Qe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D9 extends so{constructor(e=new se,n=new se){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new se){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new se){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Y3 extends so{constructor(e=new Qe,n=new Qe,r=new Qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Qe){const r=n,i=this.v0,a=this.v1,s=this.v2;return r.set(Sm(e,i.x,a.x,s.x),Sm(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class q3 extends so{constructor(e=new se,n=new se,r=new se){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new se){const r=n,i=this.v0,a=this.v1,s=this.v2;return r.set(Sm(e,i.x,a.x,s.x),Sm(e,i.y,a.y,s.y),Sm(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class K3 extends so{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Qe){const r=n,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],u=i[s],c=i[s>i.length-2?i.length-1:s+1],f=i[s>i.length-3?i.length-1:s+2];return r.set(nB(o,l.x,u.x,c.x,f.x),nB(o,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Qe().fromArray(i))}return this}}var Z3=Object.freeze({__proto__:null,ArcCurve:N9,CatmullRomCurve3:I9,CubicBezierCurve:X3,CubicBezierCurve3:L9,EllipseCurve:tb,LineCurve:nb,LineCurve3:D9,QuadraticBezierCurve:Y3,QuadraticBezierCurve3:q3,SplineCurve:K3});class k9 extends so{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new nb(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],l=o.getLength(),u=l===0?0:1-s/l;return o.getPointAt(u,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Z3[i.type]().fromJSON(i))}return this}}class Gg extends k9{constructor(e){super(),this.type="Path",this.currentPoint=new Qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new nb(this.currentPoint.clone(),new Qe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new Y3(this.currentPoint.clone(),new Qe(e,n),new Qe(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,s){const o=new X3(this.currentPoint.clone(),new Qe(e,n),new Qe(r,i),new Qe(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new K3(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,a,s),this}absarc(e,n,r,i,a,s){return this.absellipse(e,n,r,r,i,a,s),this}ellipse(e,n,r,i,a,s,o,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,a,s,o,l),this}absellipse(e,n,r,i,a,s,o,l){const u=new tb(e,n,r,i,a,s,o,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Cv extends Zt{constructor(e=[new Qe(0,-.5),new Qe(.5,0),new Qe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=lr(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],u=[],c=1/n,f=new se,h=new Qe,d=new se,g=new se,v=new se;let y=0,x=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,d.x=x*1,d.y=-y,d.z=x*0,v.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,d.x=x*1,d.y=-y,d.z=x*0,g.copy(d),d.x+=v.x,d.y+=v.y,d.z+=v.z,d.normalize(),l.push(d.x,d.y,d.z),v.copy(g)}for(let w=0;w<=n;w++){const _=r+w*c*i,S=Math.sin(_),b=Math.cos(_);for(let T=0;T<=e.length-1;T++){f.x=e[T].x*S,f.y=e[T].y,f.z=e[T].x*b,s.push(f.x,f.y,f.z),h.x=w/n,h.y=T/(e.length-1),o.push(h.x,h.y);const A=l[3*T+0]*S,P=l[3*T+1],M=l[3*T+0]*b;u.push(A,P,M)}}for(let w=0;w<n;w++)for(let _=0;_<e.length-1;_++){const S=_+w*e.length,b=S,T=S+e.length,A=S+e.length+1,P=S+1;a.push(b,T,P),a.push(A,P,T)}this.setIndex(a),this.setAttribute("position",new At(s,3)),this.setAttribute("uv",new At(o,2)),this.setAttribute("normal",new At(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cv(e.points,e.segments,e.phiStart,e.phiLength)}}class rb extends Cv{constructor(e=1,n=1,r=4,i=8){const a=new Gg;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new rb(e.radius,e.length,e.capSegments,e.radialSegments)}}class ib extends Zt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],s=[],o=[],l=[],u=new se,c=new Qe;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const d=r+f/n*i;u.x=e*Math.cos(d),u.y=e*Math.sin(d),s.push(u.x,u.y,u.z),o.push(0,0,1),c.x=(s[h]/e+1)/2,c.y=(s[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new At(s,3)),this.setAttribute("normal",new At(o,3)),this.setAttribute("uv",new At(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ib(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Dp extends Zt{constructor(e=1,n=1,r=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const c=[],f=[],h=[],d=[];let g=0;const v=[],y=r/2;let x=0;w(),s===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new At(f,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(d,2));function w(){const S=new se,b=new se;let T=0;const A=(n-e)/r;for(let P=0;P<=a;P++){const M=[],R=P/a,D=R*(n-e)+e;for(let L=0;L<=i;L++){const B=L/i,G=B*l+o,z=Math.sin(G),Z=Math.cos(G);b.x=D*z,b.y=-R*r+y,b.z=D*Z,f.push(b.x,b.y,b.z),S.set(z,A,Z).normalize(),h.push(S.x,S.y,S.z),d.push(B,1-R),M.push(g++)}v.push(M)}for(let P=0;P<i;P++)for(let M=0;M<a;M++){const R=v[M][P],D=v[M+1][P],L=v[M+1][P+1],B=v[M][P+1];c.push(R,D,B),c.push(D,L,B),T+=6}u.addGroup(x,T,0),x+=T}function _(S){const b=g,T=new Qe,A=new se;let P=0;const M=S===!0?e:n,R=S===!0?1:-1;for(let L=1;L<=i;L++)f.push(0,y*R,0),h.push(0,R,0),d.push(.5,.5),g++;const D=g;for(let L=0;L<=i;L++){const G=L/i*l+o,z=Math.cos(G),Z=Math.sin(G);A.x=M*Z,A.y=y*R,A.z=M*z,f.push(A.x,A.y,A.z),h.push(0,R,0),T.x=z*.5+.5,T.y=Z*.5*R+.5,d.push(T.x,T.y),g++}for(let L=0;L<i;L++){const B=b+L,G=D+L;S===!0?c.push(G,G+1,B):c.push(G+1,G,B),P+=3}u.addGroup(x,P,S===!0?1:2),x+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ab extends Dp{constructor(e=1,n=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,n,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new ab(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qu extends Zt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],s=[];o(i),u(r),c(),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(a.slice(),3)),this.setAttribute("uv",new At(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const _=new se,S=new se,b=new se;for(let T=0;T<n.length;T+=3)d(n[T+0],_),d(n[T+1],S),d(n[T+2],b),l(_,S,b,w)}function l(w,_,S,b){const T=b+1,A=[];for(let P=0;P<=T;P++){A[P]=[];const M=w.clone().lerp(S,P/T),R=_.clone().lerp(S,P/T),D=T-P;for(let L=0;L<=D;L++)L===0&&P===T?A[P][L]=M:A[P][L]=M.clone().lerp(R,L/D)}for(let P=0;P<T;P++)for(let M=0;M<2*(T-P)-1;M++){const R=Math.floor(M/2);M%2===0?(h(A[P][R+1]),h(A[P+1][R]),h(A[P][R])):(h(A[P][R+1]),h(A[P+1][R+1]),h(A[P+1][R]))}}function u(w){const _=new se;for(let S=0;S<a.length;S+=3)_.x=a[S+0],_.y=a[S+1],_.z=a[S+2],_.normalize().multiplyScalar(w),a[S+0]=_.x,a[S+1]=_.y,a[S+2]=_.z}function c(){const w=new se;for(let _=0;_<a.length;_+=3){w.x=a[_+0],w.y=a[_+1],w.z=a[_+2];const S=y(w)/2/Math.PI+.5,b=x(w)/Math.PI+.5;s.push(S,1-b)}g(),f()}function f(){for(let w=0;w<s.length;w+=6){const _=s[w+0],S=s[w+2],b=s[w+4],T=Math.max(_,S,b),A=Math.min(_,S,b);T>.9&&A<.1&&(_<.2&&(s[w+0]+=1),S<.2&&(s[w+2]+=1),b<.2&&(s[w+4]+=1))}}function h(w){a.push(w.x,w.y,w.z)}function d(w,_){const S=w*3;_.x=e[S+0],_.y=e[S+1],_.z=e[S+2]}function g(){const w=new se,_=new se,S=new se,b=new se,T=new Qe,A=new Qe,P=new Qe;for(let M=0,R=0;M<a.length;M+=9,R+=6){w.set(a[M+0],a[M+1],a[M+2]),_.set(a[M+3],a[M+4],a[M+5]),S.set(a[M+6],a[M+7],a[M+8]),T.set(s[R+0],s[R+1]),A.set(s[R+2],s[R+3]),P.set(s[R+4],s[R+5]),b.copy(w).add(_).add(S).divideScalar(3);const D=y(b);v(T,R+0,w,D),v(A,R+2,_,D),v(P,R+4,S,D)}}function v(w,_,S,b){b<0&&w.x===1&&(s[_]=w.x-1),S.x===0&&S.z===0&&(s[_]=b/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qu(e.vertices,e.indices,e.radius,e.details)}}class sb extends Qu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sb(e.radius,e.detail)}}const zx=new se,jx=new se,eT=new se,Hx=new ua;class F9 extends Zt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),a=Math.cos(sf*n),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},d=[];for(let g=0;g<l;g+=3){s?(u[0]=s.getX(g),u[1]=s.getX(g+1),u[2]=s.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:y,c:x}=Hx;if(v.fromBufferAttribute(o,u[0]),y.fromBufferAttribute(o,u[1]),x.fromBufferAttribute(o,u[2]),Hx.getNormal(eT),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const _=(w+1)%3,S=f[w],b=f[_],T=Hx[c[w]],A=Hx[c[_]],P=`${S}_${b}`,M=`${b}_${S}`;M in h&&h[M]?(eT.dot(h[M].normal)<=a&&(d.push(T.x,T.y,T.z),d.push(A.x,A.y,A.z)),h[M]=null):P in h||(h[P]={index0:u[w],index1:u[_],normal:eT.clone()})}}for(const g in h)if(h[g]){const{index0:v,index1:y}=h[g];zx.fromBufferAttribute(o,v),jx.fromBufferAttribute(o,y),d.push(zx.x,zx.y,zx.z),d.push(jx.x,jx.y,jx.z)}this.setAttribute("position",new At(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class lf extends Gg{constructor(e){super(e),this.uuid=Va(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Gg().fromJSON(i))}return this}}const HLe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=U9(t,0,i,n,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,u,c,f,h,d;if(r&&(a=XLe(t,e,a,n)),t.length>80*n){o=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)f=t[g],h=t[g+1],f<o&&(o=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);d=Math.max(u-o,c-l),d=d!==0?32767/d:0}return Vg(a,s,n,o,l,d,0),s}};function U9(t,e,n,r,i){let a,s;if(i===iDe(t,e,n,r)>0)for(a=e;a<n;a+=r)s=rB(a,t[a],t[a+1],s);else for(a=n-r;a>=e;a-=r)s=rB(a,t[a],t[a+1],s);return s&&ob(s,s.next)&&(Xg(s),s=s.next),s}function Mf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(ob(n,n.next)||Jn(n.prev,n,n.next)===0)){if(Xg(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Vg(t,e,n,r,i,a,s){if(!t)return;!s&&a&&JLe(t,r,i,a);let o=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,a?GLe(t,r,i,a):WLe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Xg(t),t=u.next,o=u.next;continue}if(t=u,t===o){s?s===1?(t=VLe(Mf(t),e,n),Vg(t,e,n,r,i,a,2)):s===2&&$Le(t,e,n,r,i,a):Vg(Mf(t),e,n,r,i,a,1);break}}}function WLe(t){const e=t.prev,n=t,r=t.next;if(Jn(e,n,r)>=0)return!1;const i=e.x,a=n.x,s=r.x,o=e.y,l=n.y,u=r.y,c=i<a?i<s?i:s:a<s?a:s,f=o<l?o<u?o:u:l<u?l:u,h=i>a?i>s?i:s:a>s?a:s,d=o>l?o>u?o:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=d&&ld(i,o,a,l,s,u,g.x,g.y)&&Jn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function GLe(t,e,n,r){const i=t.prev,a=t,s=t.next;if(Jn(i,a,s)>=0)return!1;const o=i.x,l=a.x,u=s.x,c=i.y,f=a.y,h=s.y,d=o<l?o<u?o:u:l<u?l:u,g=c<f?c<h?c:h:f<h?f:h,v=o>l?o>u?o:u:l>u?l:u,y=c>f?c>h?c:h:f>h?f:h,x=OC(d,g,e,n,r),w=OC(v,y,e,n,r);let _=t.prevZ,S=t.nextZ;for(;_&&_.z>=x&&S&&S.z<=w;){if(_.x>=d&&_.x<=v&&_.y>=g&&_.y<=y&&_!==i&&_!==s&&ld(o,c,l,f,u,h,_.x,_.y)&&Jn(_.prev,_,_.next)>=0||(_=_.prevZ,S.x>=d&&S.x<=v&&S.y>=g&&S.y<=y&&S!==i&&S!==s&&ld(o,c,l,f,u,h,S.x,S.y)&&Jn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;_&&_.z>=x;){if(_.x>=d&&_.x<=v&&_.y>=g&&_.y<=y&&_!==i&&_!==s&&ld(o,c,l,f,u,h,_.x,_.y)&&Jn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;S&&S.z<=w;){if(S.x>=d&&S.x<=v&&S.y>=g&&S.y<=y&&S!==i&&S!==s&&ld(o,c,l,f,u,h,S.x,S.y)&&Jn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function VLe(t,e,n){let r=t;do{const i=r.prev,a=r.next.next;!ob(i,a)&&B9(i,r,r.next,a)&&$g(i,a)&&$g(a,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(a.i/n|0),Xg(r),Xg(r.next),r=t=a),r=r.next}while(r!==t);return Mf(r)}function $Le(t,e,n,r,i,a){let s=t;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&tDe(s,o)){let l=z9(s,o);s=Mf(s,s.next),l=Mf(l,l.next),Vg(s,e,n,r,i,a,0),Vg(l,e,n,r,i,a,0);return}o=o.next}s=s.next}while(s!==t)}function XLe(t,e,n,r){const i=[];let a,s,o,l,u;for(a=0,s=e.length;a<s;a++)o=e[a]*r,l=a<s-1?e[a+1]*r:t.length,u=U9(t,o,l,r,!1),u===u.next&&(u.steiner=!0),i.push(eDe(u));for(i.sort(YLe),a=0;a<i.length;a++)n=qLe(i[a],n);return n}function YLe(t,e){return t.x-e.x}function qLe(t,e){const n=KLe(t,e);if(!n)return e;const r=z9(n,t);return Mf(r,r.next),Mf(n,n.next)}function KLe(t,e){let n=e,r=-1/0,i;const a=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const h=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=a&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===a))return i}n=n.next}while(n!==e);if(!i)return null;const o=i,l=i.x,u=i.y;let c=1/0,f;n=i;do a>=n.x&&n.x>=l&&a!==n.x&&ld(s<u?a:r,s,l,u,s<u?r:a,s,n.x,n.y)&&(f=Math.abs(s-n.y)/(a-n.x),$g(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&ZLe(i,n)))&&(i=n,c=f)),n=n.next;while(n!==o);return i}function ZLe(t,e){return Jn(t.prev,t,e.prev)<0&&Jn(e.next,t,t.next)<0}function JLe(t,e,n,r){let i=t;do i.z===0&&(i.z=OC(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,QLe(i)}function QLe(t){let e,n,r,i,a,s,o,l,u=1;do{for(n=t,t=null,a=null,s=0;n;){for(s++,r=n,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(l=u;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(s>1);return t}function OC(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function eDe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ld(t,e,n,r,i,a,s,o){return(i-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(r-o)>=(n-s)*(e-o)&&(n-s)*(a-o)>=(i-s)*(r-o)}function tDe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!nDe(t,e)&&($g(t,e)&&$g(e,t)&&rDe(t,e)&&(Jn(t.prev,t,e.prev)||Jn(t,e.prev,e))||ob(t,e)&&Jn(t.prev,t,t.next)>0&&Jn(e.prev,e,e.next)>0)}function Jn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ob(t,e){return t.x===e.x&&t.y===e.y}function B9(t,e,n,r){const i=Gx(Jn(t,e,n)),a=Gx(Jn(t,e,r)),s=Gx(Jn(n,r,t)),o=Gx(Jn(n,r,e));return!!(i!==a&&s!==o||i===0&&Wx(t,n,e)||a===0&&Wx(t,r,e)||s===0&&Wx(n,t,r)||o===0&&Wx(n,e,r))}function Wx(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Gx(t){return t>0?1:t<0?-1:0}function nDe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&B9(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function $g(t,e){return Jn(t.prev,t,t.next)<0?Jn(t,e,t.next)>=0&&Jn(t,t.prev,e)>=0:Jn(t,e,t.prev)<0||Jn(t,t.next,e)<0}function rDe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function z9(t,e){const n=new RC(t.i,t.x,t.y),r=new RC(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function rB(t,e,n,r){const i=new RC(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Xg(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function RC(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function iDe(t,e,n,r){let i=0;for(let a=e,s=n-r;a<n;a+=r)i+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return i}class No{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return No.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];iB(e),aB(r,e);let s=e.length;n.forEach(iB);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,aB(r,n[l]);const o=HLe.triangulate(r,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function iB(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function aB(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class lb extends Zt{constructor(e=new lf([new Qe(.5,.5),new Qe(-.5,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];s(u)}this.setAttribute("position",new At(i,3)),this.setAttribute("uv",new At(a,2)),this.computeVertexNormals();function s(o){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:d-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const x=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:aDe;let _,S=!1,b,T,A,P;x&&(_=x.getSpacedPoints(c),S=!0,h=!1,b=x.computeFrenetFrames(c,!1),T=new se,A=new se,P=new se),h||(y=0,d=0,g=0,v=0);const M=o.extractPoints(u);let R=M.shape;const D=M.holes;if(!No.isClockWise(R)){R=R.reverse();for(let W=0,Pe=D.length;W<Pe;W++){const ve=D[W];No.isClockWise(ve)&&(D[W]=ve.reverse())}}const B=No.triangulateShape(R,D),G=R;for(let W=0,Pe=D.length;W<Pe;W++){const ve=D[W];R=R.concat(ve)}function z(W,Pe,ve){return Pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),W.clone().addScaledVector(Pe,ve)}const Z=R.length,ee=B.length;function U(W,Pe,ve){let Ie,be,Ae;const Ne=W.x-Pe.x,He=W.y-Pe.y,qe=ve.x-W.x,Le=ve.y-W.y,lt=Ne*Ne+He*He,Q=Ne*Le-He*qe;if(Math.abs(Q)>Number.EPSILON){const K=Math.sqrt(lt),xe=Math.sqrt(qe*qe+Le*Le),Je=Pe.x-He/K,De=Pe.y+Ne/K,Fe=ve.x-Le/xe,tt=ve.y+qe/xe,Ke=((Fe-Je)*Le-(tt-De)*qe)/(Ne*Le-He*qe);Ie=Je+Ne*Ke-W.x,be=De+He*Ke-W.y;const Re=Ie*Ie+be*be;if(Re<=2)return new Qe(Ie,be);Ae=Math.sqrt(Re/2)}else{let K=!1;Ne>Number.EPSILON?qe>Number.EPSILON&&(K=!0):Ne<-Number.EPSILON?qe<-Number.EPSILON&&(K=!0):Math.sign(He)===Math.sign(Le)&&(K=!0),K?(Ie=-He,be=Ne,Ae=Math.sqrt(lt)):(Ie=Ne,be=He,Ae=Math.sqrt(lt/2))}return new Qe(Ie/Ae,be/Ae)}const H=[];for(let W=0,Pe=G.length,ve=Pe-1,Ie=W+1;W<Pe;W++,ve++,Ie++)ve===Pe&&(ve=0),Ie===Pe&&(Ie=0),H[W]=U(G[W],G[ve],G[Ie]);const X=[];let F,N=H.concat();for(let W=0,Pe=D.length;W<Pe;W++){const ve=D[W];F=[];for(let Ie=0,be=ve.length,Ae=be-1,Ne=Ie+1;Ie<be;Ie++,Ae++,Ne++)Ae===be&&(Ae=0),Ne===be&&(Ne=0),F[Ie]=U(ve[Ie],ve[Ae],ve[Ne]);X.push(F),N=N.concat(F)}for(let W=0;W<y;W++){const Pe=W/y,ve=d*Math.cos(Pe*Math.PI/2),Ie=g*Math.sin(Pe*Math.PI/2)+v;for(let be=0,Ae=G.length;be<Ae;be++){const Ne=z(G[be],H[be],Ie);pe(Ne.x,Ne.y,-ve)}for(let be=0,Ae=D.length;be<Ae;be++){const Ne=D[be];F=X[be];for(let He=0,qe=Ne.length;He<qe;He++){const Le=z(Ne[He],F[He],Ie);pe(Le.x,Le.y,-ve)}}}const V=g+v;for(let W=0;W<Z;W++){const Pe=h?z(R[W],N[W],V):R[W];S?(A.copy(b.normals[0]).multiplyScalar(Pe.x),T.copy(b.binormals[0]).multiplyScalar(Pe.y),P.copy(_[0]).add(A).add(T),pe(P.x,P.y,P.z)):pe(Pe.x,Pe.y,0)}for(let W=1;W<=c;W++)for(let Pe=0;Pe<Z;Pe++){const ve=h?z(R[Pe],N[Pe],V):R[Pe];S?(A.copy(b.normals[W]).multiplyScalar(ve.x),T.copy(b.binormals[W]).multiplyScalar(ve.y),P.copy(_[W]).add(A).add(T),pe(P.x,P.y,P.z)):pe(ve.x,ve.y,f/c*W)}for(let W=y-1;W>=0;W--){const Pe=W/y,ve=d*Math.cos(Pe*Math.PI/2),Ie=g*Math.sin(Pe*Math.PI/2)+v;for(let be=0,Ae=G.length;be<Ae;be++){const Ne=z(G[be],H[be],Ie);pe(Ne.x,Ne.y,f+ve)}for(let be=0,Ae=D.length;be<Ae;be++){const Ne=D[be];F=X[be];for(let He=0,qe=Ne.length;He<qe;He++){const Le=z(Ne[He],F[He],Ie);S?pe(Le.x,Le.y+_[c-1].y,_[c-1].x+ve):pe(Le.x,Le.y,f+ve)}}}Y(),q();function Y(){const W=i.length/3;if(h){let Pe=0,ve=Z*Pe;for(let Ie=0;Ie<ee;Ie++){const be=B[Ie];ye(be[2]+ve,be[1]+ve,be[0]+ve)}Pe=c+y*2,ve=Z*Pe;for(let Ie=0;Ie<ee;Ie++){const be=B[Ie];ye(be[0]+ve,be[1]+ve,be[2]+ve)}}else{for(let Pe=0;Pe<ee;Pe++){const ve=B[Pe];ye(ve[2],ve[1],ve[0])}for(let Pe=0;Pe<ee;Pe++){const ve=B[Pe];ye(ve[0]+Z*c,ve[1]+Z*c,ve[2]+Z*c)}}r.addGroup(W,i.length/3-W,0)}function q(){const W=i.length/3;let Pe=0;ae(G,Pe),Pe+=G.length;for(let ve=0,Ie=D.length;ve<Ie;ve++){const be=D[ve];ae(be,Pe),Pe+=be.length}r.addGroup(W,i.length/3-W,1)}function ae(W,Pe){let ve=W.length;for(;--ve>=0;){const Ie=ve;let be=ve-1;be<0&&(be=W.length-1);for(let Ae=0,Ne=c+y*2;Ae<Ne;Ae++){const He=Z*Ae,qe=Z*(Ae+1),Le=Pe+Ie+He,lt=Pe+be+He,Q=Pe+be+qe,K=Pe+Ie+qe;ge(Le,lt,Q,K)}}}function pe(W,Pe,ve){l.push(W),l.push(Pe),l.push(ve)}function ye(W,Pe,ve){Se(W),Se(Pe),Se(ve);const Ie=i.length/3,be=w.generateTopUV(r,i,Ie-3,Ie-2,Ie-1);we(be[0]),we(be[1]),we(be[2])}function ge(W,Pe,ve,Ie){Se(W),Se(Pe),Se(Ie),Se(Pe),Se(ve),Se(Ie);const be=i.length/3,Ae=w.generateSideWallUV(r,i,be-6,be-3,be-2,be-1);we(Ae[0]),we(Ae[1]),we(Ae[3]),we(Ae[1]),we(Ae[2]),we(Ae[3])}function Se(W){i.push(l[W*3+0]),i.push(l[W*3+1]),i.push(l[W*3+2])}function we(W){a.push(W.x),a.push(W.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return sDe(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=n[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Z3[i.type]().fromJSON(i)),new lb(r,e.options)}}const aDe={generateTopUV:function(t,e,n,r,i){const a=e[n*3],s=e[n*3+1],o=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Qe(a,s),new Qe(o,l),new Qe(u,c)]},generateSideWallUV:function(t,e,n,r,i,a){const s=e[n*3],o=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],d=e[i*3+1],g=e[i*3+2],v=e[a*3],y=e[a*3+1],x=e[a*3+2];return Math.abs(o-c)<Math.abs(s-u)?[new Qe(s,1-l),new Qe(u,1-f),new Qe(h,1-g),new Qe(v,1-x)]:[new Qe(o,1-l),new Qe(c,1-f),new Qe(d,1-g),new Qe(y,1-x)]}};function sDe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class ub extends Qu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ub(e.radius,e.detail)}}class Pv extends Qu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Pv(e.radius,e.detail)}}class cb extends Zt{constructor(e=.5,n=1,r=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],u=[],c=[];let f=e;const h=(n-e)/i,d=new se,g=new Qe;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=a+y/r*s;d.x=f*Math.cos(x),d.y=f*Math.sin(x),l.push(d.x,d.y,d.z),u.push(0,0,1),g.x=(d.x/n+1)/2,g.y=(d.y/n+1)/2,c.push(g.x,g.y)}f+=h}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const w=x+y,_=w,S=w+r+1,b=w+r+2,T=w+1;o.push(_,S,T),o.push(S,b,T)}}this.setIndex(o),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(u,3)),this.setAttribute("uv",new At(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class fb extends Zt{constructor(e=new lf([new Qe(0,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(o,l,c),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new At(i,3)),this.setAttribute("normal",new At(a,3)),this.setAttribute("uv",new At(s,2));function u(c){const f=i.length/3,h=c.extractPoints(n);let d=h.shape;const g=h.holes;No.isClockWise(d)===!1&&(d=d.reverse());for(let y=0,x=g.length;y<x;y++){const w=g[y];No.isClockWise(w)===!0&&(g[y]=w.reverse())}const v=No.triangulateShape(d,g);for(let y=0,x=g.length;y<x;y++){const w=g[y];d=d.concat(w)}for(let y=0,x=d.length;y<x;y++){const w=d[y];i.push(w.x,w.y,0),a.push(0,0,1),s.push(w.x,w.y)}for(let y=0,x=v.length;y<x;y++){const w=v[y],_=w[0]+f,S=w[1]+f,b=w[2]+f;r.push(_,S,b),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return oDe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=n[e.shapes[i]];r.push(s)}return new fb(r,e.curveSegments)}}function oDe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Ov extends Zt{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let u=0;const c=[],f=new se,h=new se,d=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const w=[],_=x/r;let S=0;x===0&&s===0?S=.5/n:x===r&&l===Math.PI&&(S=-.5/n);for(let b=0;b<=n;b++){const T=b/n;f.x=-e*Math.cos(i+T*a)*Math.sin(s+_*o),f.y=e*Math.cos(s+_*o),f.z=e*Math.sin(i+T*a)*Math.sin(s+_*o),g.push(f.x,f.y,f.z),h.copy(f).normalize(),v.push(h.x,h.y,h.z),y.push(T+S,1-_),w.push(u++)}c.push(w)}for(let x=0;x<r;x++)for(let w=0;w<n;w++){const _=c[x][w+1],S=c[x][w],b=c[x+1][w],T=c[x+1][w+1];(x!==0||s>0)&&d.push(_,S,T),(x!==r-1||l<Math.PI)&&d.push(S,b,T)}this.setIndex(d),this.setAttribute("position",new At(g,3)),this.setAttribute("normal",new At(v,3)),this.setAttribute("uv",new At(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ov(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hb extends Qu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new hb(e.radius,e.detail)}}class db extends Zt{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],l=[],u=[],c=new se,f=new se,h=new se;for(let d=0;d<=r;d++)for(let g=0;g<=i;g++){const v=g/i*a,y=d/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(v),f.y=(e+n*Math.cos(y))*Math.sin(v),f.z=n*Math.sin(y),o.push(f.x,f.y,f.z),c.x=e*Math.cos(v),c.y=e*Math.sin(v),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(d/r)}for(let d=1;d<=r;d++)for(let g=1;g<=i;g++){const v=(i+1)*d+g-1,y=(i+1)*(d-1)+g-1,x=(i+1)*(d-1)+g,w=(i+1)*d+g;s.push(v,y,w),s.push(y,x,w)}this.setIndex(s),this.setAttribute("position",new At(o,3)),this.setAttribute("normal",new At(l,3)),this.setAttribute("uv",new At(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new db(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class pb extends Zt{constructor(e=1,n=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],u=[],c=[],f=new se,h=new se,d=new se,g=new se,v=new se,y=new se,x=new se;for(let _=0;_<=r;++_){const S=_/r*a*Math.PI*2;w(S,a,s,e,d),w(S+.01,a,s,e,g),y.subVectors(g,d),x.addVectors(g,d),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let b=0;b<=i;++b){const T=b/i*Math.PI*2,A=-n*Math.cos(T),P=n*Math.sin(T);f.x=d.x+(A*x.x+P*v.x),f.y=d.y+(A*x.y+P*v.y),f.z=d.z+(A*x.z+P*v.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),u.push(h.x,h.y,h.z),c.push(_/r),c.push(b/i)}}for(let _=1;_<=r;_++)for(let S=1;S<=i;S++){const b=(i+1)*(_-1)+(S-1),T=(i+1)*_+(S-1),A=(i+1)*_+S,P=(i+1)*(_-1)+S;o.push(b,T,P),o.push(T,A,P)}this.setIndex(o),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(u,3)),this.setAttribute("uv",new At(c,2));function w(_,S,b,T,A){const P=Math.cos(_),M=Math.sin(_),R=b/S*_,D=Math.cos(R);A.x=T*(2+D)*.5*P,A.y=T*(2+D)*M*.5,A.z=T*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class mb extends Zt{constructor(e=new q3(new se(-1,-1,0),new se(-1,1,0),new se(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new se,l=new se,u=new Qe;let c=new se;const f=[],h=[],d=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new At(f,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(d,2));function v(){for(let _=0;_<n;_++)y(_);y(a===!1?n:0),w(),x()}function y(_){c=e.getPointAt(_/n,c);const S=s.normals[_],b=s.binormals[_];for(let T=0;T<=i;T++){const A=T/i*Math.PI*2,P=Math.sin(A),M=-Math.cos(A);l.x=M*S.x+P*b.x,l.y=M*S.y+P*b.y,l.z=M*S.z+P*b.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=c.x+r*l.x,o.y=c.y+r*l.y,o.z=c.z+r*l.z,f.push(o.x,o.y,o.z)}}function x(){for(let _=1;_<=n;_++)for(let S=1;S<=i;S++){const b=(i+1)*(_-1)+(S-1),T=(i+1)*_+(S-1),A=(i+1)*_+S,P=(i+1)*(_-1)+S;g.push(b,T,P),g.push(T,A,P)}}function w(){for(let _=0;_<=n;_++)for(let S=0;S<=i;S++)u.x=_/n,u.y=S/i,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new mb(new Z3[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class j9 extends Zt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new se,a=new se;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,d=f.count;for(let g=h,v=h+d;g<v;g+=3)for(let y=0;y<3;y++){const x=o.getX(g+y),w=o.getX(g+(y+1)%3);i.fromBufferAttribute(s,x),a.fromBufferAttribute(s,w),sB(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let u=0;u<3;u++){const c=3*o+u,f=3*o+(u+1)%3;i.fromBufferAttribute(s,c),a.fromBufferAttribute(s,f),sB(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new At(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function sB(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var oB=Object.freeze({__proto__:null,BoxGeometry:Hf,CapsuleGeometry:rb,CircleGeometry:ib,ConeGeometry:ab,CylinderGeometry:Dp,DodecahedronGeometry:sb,EdgesGeometry:F9,ExtrudeGeometry:lb,IcosahedronGeometry:ub,LatheGeometry:Cv,OctahedronGeometry:Pv,PlaneGeometry:Ju,PolyhedronGeometry:Qu,RingGeometry:cb,ShapeGeometry:fb,SphereGeometry:Ov,TetrahedronGeometry:hb,TorusGeometry:db,TorusKnotGeometry:pb,TubeGeometry:mb,WireframeGeometry:j9});class H9 extends Li{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new _t(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class W9 extends Do{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class J3 extends Li{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class G9 extends J3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return lr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new _t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new _t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _t(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class V9 extends Li{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new _t(16777215),this.specular=new _t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $9 extends Li{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class X9 extends Li{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Y9 extends Li{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class q9 extends Li{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zu,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class K9 extends ta{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function hs(t,e,n){return Q3(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Kc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Q3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Z9(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function NC(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,s=0;s!==r;++a){const o=n[a]*e;for(let l=0;l!==e;++l)i[s++]=t[o+l]}return i}function eR(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),n.push.apply(n,s)),a=t[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),n.push(s)),a=t[i++];while(a!==void 0)}function lDe(t,e,n,r,i=30){const a=t.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],h=[];for(let d=0;d<u.times.length;++d){const g=u.times[d]*i;if(!(g<n||g>=r)){f.push(u.times[d]);for(let v=0;v<c;++v)h.push(u.values[d*c+v])}}f.length!==0&&(u.times=Kc(f,u.times.constructor),u.values=Kc(h,u.values.constructor),s.push(u))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function uDe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let s=0;s<i;++s){const o=n.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(x){return x.name===o.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const g=o.times.length-1;let v;if(a<=o.times[0]){const x=c,w=f-c;v=hs(o.values,x,w)}else if(a>=o.times[g]){const x=g*f+c,w=x+f-c;v=hs(o.values,x,w)}else{const x=o.createInterpolant(),w=c,_=f-c;x.evaluate(a),v=hs(x.resultBuffer,w,_)}l==="quaternion"&&new Ni().fromArray(v).normalize().conjugate().toArray(v);const y=u.times.length;for(let x=0;x<y;++x){const w=x*d+h;if(l==="quaternion")Ni.multiplyQuaternionsFlat(u.values,w,v,0,u.values,w);else{const _=d-h*2;for(let S=0;S<_;++S)u.values[w+S]-=v[S]}}}return t.blendMode=R3,t}const cDe={arraySlice:hs,convertArray:Kc,isTypedArray:Q3,getKeyframeOrder:Z9,sortedArray:NC,flattenJSON:eR,subclip:lDe,makeClipAdditive:uDe};class Rv{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=a)){const o=n[1];e<o&&(r=2,a=o);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<n[o]?s=o:r=o+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)n[s]=r[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class J9 extends Rv{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Xc,endingEnd:Xc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Yc:a=e,o=2*n-r;break;case zg:a=i.length-2,o=n+i[a]-i[a+1];break;default:a=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Yc:s=e,l=2*r-n;break;case zg:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-o),this._weightNext=u/(l-r),this._offsetPrev=a*c,this._offsetNext=s*c}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,g=(r-n)/(i-n),v=g*g,y=v*g,x=-h*y+2*h*v-h*g,w=(1+h)*y+(-1.5-2*h)*v+(-.5+h)*g+1,_=(-1-d)*y+(1.5+d)*v+.5*g,S=d*y-d*v;for(let b=0;b!==o;++b)a[b]=x*s[c+b]+w*s[u+b]+_*s[l+b]+S*s[f+b];return a}}class tR extends Rv{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=(r-n)/(i-n),f=1-c;for(let h=0;h!==o;++h)a[h]=s[u+h]*f+s[l+h]*c;return a}}class Q9 extends Rv{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class oo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Kc(n,this.TimeBufferType),this.values=Kc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Kc(e.times,Array),values:Kc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Q9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new tR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new J9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Ug:n=this.InterpolantFactoryMethodDiscrete;break;case Bg:n=this.InterpolantFactoryMethodLinear;break;case T1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ug;case this.InterpolantFactoryMethodLinear:return Bg;case this.InterpolantFactoryMethodSmooth:return T1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>n;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=hs(r,a,s),this.values=hs(this.values,a*o,s*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&Q3(i))for(let o=0,l=i.length;o!==l;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=hs(this.times),n=hs(this.values),r=this.getValueSize(),i=this.getInterpolation()===T1,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const u=e[o],c=e[o+1];if(u!==c&&(o!==1||u!==e[0]))if(i)l=!0;else{const f=o*r,h=f-r,d=f+r;for(let g=0;g!==r;++g){const v=n[f+g];if(v!==n[h+g]||v!==n[d+g]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const f=o*r,h=s*r;for(let d=0;d!==r;++d)n[h+d]=n[f+d]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,l=s*r,u=0;u!==r;++u)n[l+u]=n[o+u];++s}return s!==e.length?(this.times=hs(e,0,s),this.values=hs(n,0,s*r)):(this.times=e,this.values=n),this}clone(){const e=hs(this.times,0),n=hs(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}oo.prototype.TimeBufferType=Float32Array;oo.prototype.ValueBufferType=Float32Array;oo.prototype.DefaultInterpolation=Bg;class Wf extends oo{}Wf.prototype.ValueTypeName="bool";Wf.prototype.ValueBufferType=Array;Wf.prototype.DefaultInterpolation=Ug;Wf.prototype.InterpolantFactoryMethodLinear=void 0;Wf.prototype.InterpolantFactoryMethodSmooth=void 0;class nR extends oo{}nR.prototype.ValueTypeName="color";class Yg extends oo{}Yg.prototype.ValueTypeName="number";class eV extends Rv{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let u=e*o;for(let c=u+o;u!==c;u+=4)Ni.slerpFlat(a,0,s,u-o,s,u,l);return a}}class kp extends oo{InterpolantFactoryMethodLinear(e){return new eV(this.times,this.values,this.getValueSize(),e)}}kp.prototype.ValueTypeName="quaternion";kp.prototype.DefaultInterpolation=Bg;kp.prototype.InterpolantFactoryMethodSmooth=void 0;class Gf extends oo{}Gf.prototype.ValueTypeName="string";Gf.prototype.ValueBufferType=Array;Gf.prototype.DefaultInterpolation=Ug;Gf.prototype.InterpolantFactoryMethodLinear=void 0;Gf.prototype.InterpolantFactoryMethodSmooth=void 0;class qg extends oo{}qg.prototype.ValueTypeName="vector";class Kg{constructor(e,n=-1,r,i=GS){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Va(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)n.push(hDe(r[s]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=r.length;a!==s;++a)n.push(oo.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,s=[];for(let o=0;o<a;o++){let l=[],u=[];l.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);const c=Z9(l);l=NC(l,1,c),u=NC(u,1,c),!i&&l[0]===0&&(l.push(a),u.push(u[0])),s.push(new Yg(".morphTargetInfluences["+n[o].name+"]",l,u).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,d,g,v){if(d.length!==0){const y=[],x=[];eR(d,y,x,g),y.length!==0&&v.push(new f(h,y,x))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let v=0;v<h[g].morphTargets.length;v++)d[h[g].morphTargets[v]]=-1;for(const v in d){const y=[],x=[];for(let w=0;w!==h[g].morphTargets.length;++w){const _=h[g];y.push(_.time),x.push(_.morphTarget===v?1:0)}i.push(new Yg(".morphTargetInfluence["+v+"]",y,x))}l=d.length*s}else{const d=".bones["+n[f].name+"]";r(qg,d+".position",h,"pos",i),r(kp,d+".quaternion",h,"rot",i),r(qg,d+".scale",h,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function fDe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yg;case"vector":case"vector2":case"vector3":case"vector4":return qg;case"color":return nR;case"quaternion":return kp;case"bool":case"boolean":return Wf;case"string":return Gf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function hDe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=fDe(t.type);if(t.times===void 0){const n=[],r=[];eR(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Cf={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class rR{constructor(e,n,r){const i=this;let a=!1,s=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){o++,a===!1&&i.onStart!==void 0&&i.onStart(c,s,o),a=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const d=u[f],g=u[f+1];if(d.global&&(d.lastIndex=0),d.test(c))return g}return null}}}const tV=new rR;class ba{constructor(e){this.manager=e!==void 0?e:tV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ba.DEFAULT_MATERIAL_NAME="__DEFAULT";const tl={};class dDe extends Error{constructor(e,n){super(e),this.response=n}}class Il extends ba{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Cf.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(tl[e]!==void 0){tl[e].push({onLoad:n,onProgress:r,onError:i});return}tl[e]=[],tl[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=tl[e],f=u.body.getReader(),h=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),d=h?parseInt(h):0,g=d!==0;let v=0;const y=new ReadableStream({start(x){w();function w(){f.read().then(({done:_,value:S})=>{if(_)x.close();else{v+=S.byteLength;const b=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:d});for(let T=0,A=c.length;T<A;T++){const P=c[T];P.onProgress&&P.onProgress(b)}x.enqueue(S),w()}})}}});return new Response(y)}else throw new dDe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,o));case"json":return u.json();default:if(o===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return u.arrayBuffer().then(g=>d.decode(g))}}}).then(u=>{Cf.add(e,u);const c=tl[e];delete tl[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{const c=tl[e];if(c===void 0)throw this.manager.itemError(e),u;delete tl[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class pDe extends ba{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new Il(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Kg.parse(e[r]);n.push(i)}return n}}class mDe extends ba{constructor(e){super(e)}load(e,n,r,i){const a=this,s=[],o=new eb,l=new Il(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const d=a.parse(h,!0);s[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(o.minFilter=Zn),o.image=s,o.format=d.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=a.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let g=0;g<d;g++){s[g]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)s[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+v]),s[g].format=h.format,s[g].width=h.width,s[g].height=h.height}o.image=s}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=Zn),o.format=h.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}class Zg extends ba{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Cf.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s;const o=Wg("img");function l(){c(),Cf.add(e,this),n&&n(this),a.manager.itemEnd(e)}function u(f){c(),i&&i(f),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class gDe extends ba{constructor(e){super(e)}load(e,n,r,i){const a=new Mv;a.colorSpace=Dn;const s=new Zg(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(u){s.load(e[u],function(c){a.images[u]=c,o++,o===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class vDe extends ba{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new Ed,o=new Il(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:Pi,s.wrapT=u.wrapT!==void 0?u.wrapT:Pi,s.magFilter=u.magFilter!==void 0?u.magFilter:Zn,s.minFilter=u.minFilter!==void 0?u.minFilter:Zn,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?s.colorSpace=u.colorSpace:u.encoding!==void 0&&(s.encoding=u.encoding),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=Uu),u.mipmapCount===1&&(s.minFilter=Zn),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,n&&n(s,u)},r,i),s}}class yDe extends ba{constructor(e){super(e)}load(e,n,r,i){const a=new cr,s=new Zg(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class ec extends hn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new _t(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class nV extends ec{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(hn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new _t(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const tT=new Ut,lB=new se,uB=new se;class iR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $S,this._frameExtents=new Qe(1,1),this._viewportCount=1,this._viewports=[new gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;lB.setFromMatrixPosition(e.matrixWorld),n.position.copy(lB),uB.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(uB),n.updateMatrixWorld(),tT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(tT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class xDe extends iR{constructor(){super(new vr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=ap*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class rV extends ec{constructor(e,n,r=0,i=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(hn.DEFAULT_UP),this.updateMatrix(),this.target=new hn,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new xDe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const cB=new Ut,F0=new se,nT=new se;class _De extends iR{constructor(){super(new vr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Qe(4,2),this._viewportCount=6,this._viewports=[new gn(2,1,1,1),new gn(0,1,1,1),new gn(3,1,1,1),new gn(1,1,1,1),new gn(3,0,1,1),new gn(1,0,1,1)],this._cubeDirections=[new se(1,0,0),new se(-1,0,0),new se(0,0,1),new se(0,0,-1),new se(0,1,0),new se(0,-1,0)],this._cubeUps=[new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,0,1),new se(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),F0.setFromMatrixPosition(e.matrixWorld),r.position.copy(F0),nT.copy(r.position),nT.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(nT),r.updateMatrixWorld(),i.makeTranslation(-F0.x,-F0.y,-F0.z),cB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cB)}}class iV extends ec{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new _De}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class wDe extends iR{constructor(){super(new Ru(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class aV extends ec{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(hn.DEFAULT_UP),this.updateMatrix(),this.target=new hn,this.shadow=new wDe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sV extends ec{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class oV extends ec{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class lV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new se)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(r*a)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*r*a),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}}class gb extends ec{constructor(e=new lV,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class vb extends ba{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,s=new Il(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const i=vb.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new _t().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new _t().setHex(s.value);break;case"v2":i.uniforms[a].value=new Qe().fromArray(s.value);break;case"v3":i.uniforms[a].value=new se().fromArray(s.value);break;case"v4":i.uniforms[a].value=new gn().fromArray(s.value);break;case"m3":i.uniforms[a].value=new Vt().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Ut().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Qe().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:H9,SpriteMaterial:W3,RawShaderMaterial:W9,ShaderMaterial:Do,PointsMaterial:V3,MeshPhysicalMaterial:G9,MeshStandardMaterial:J3,MeshPhongMaterial:V9,MeshToonMaterial:$9,MeshNormalMaterial:X9,MeshLambertMaterial:Y9,MeshDepthMaterial:YS,MeshDistanceMaterial:qS,MeshBasicMaterial:zl,MeshMatcapMaterial:q9,LineDashedMaterial:K9,LineBasicMaterial:ta,Material:Li};return new n[e]}}class IC{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class aR extends Zt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class uV extends ba{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new Il(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(d,g){if(n[g]!==void 0)return n[g];const y=d.interleavedBuffers[g],x=a(d,y.buffer),w=ad(y.type,x),_=new JS(w,y.stride);return _.uuid=y.uuid,n[g]=_,_}function a(d,g){if(r[g]!==void 0)return r[g];const y=d.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const s=e.isInstancedBufferGeometry?new aR:new Zt,o=e.data.index;if(o!==void 0){const d=ad(o.type,o.array);s.setIndex(new On(d,1))}const l=e.data.attributes;for(const d in l){const g=l[d];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new Tf(y,g.itemSize,g.offset,g.normalized)}else{const y=ad(g.type,g.array),x=g.isInstancedBufferAttribute?Af:On;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),s.setAttribute(d,v)}const u=e.data.morphAttributes;if(u)for(const d in u){const g=u[d],v=[];for(let y=0,x=g.length;y<x;y++){const w=g[y];let _;if(w.isInterleavedBufferAttribute){const S=i(e.data,w.data);_=new Tf(S,w.itemSize,w.offset,w.normalized)}else{const S=ad(w.type,w.array);_=new On(S,w.itemSize,w.normalized)}w.name!==void 0&&(_.name=w.name),v.push(_)}s.morphAttributes[d]=v}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,g=f.length;d!==g;++d){const v=f[d];s.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new se;h.center!==void 0&&d.fromArray(h.center),s.boundingSphere=new Ms(d,h.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class SDe extends ba{constructor(e){super(e)}load(e,n,r,i){const a=this,s=this.path===""?IC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Il(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?IC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Il(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(u)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,l,o,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const h in s)if(s[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new lf().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new QS().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new uV;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in oB?o=oB[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new vb;a.setTextures(n);for(let s=0,o=e.length;s<o;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=Kg.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function s(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return s(c)}else return l.data?{data:ad(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new rR(n);a=new Zg(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const d=[];for(let g=0,v=h.length;g<v;g++){const y=h[g],x=o(y);x!==null&&(x instanceof HTMLImageElement?d.push(x):d.push(new Ed(x.data,x.width,x.height)))}i[f.uuid]=new qc(d)}else{const d=o(f.url);i[f.uuid]=new qc(d)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:ad(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Zg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f],g=await a(d);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new Ed(g.data,g.width,g.height)))}r[l.uuid]=new qc(c)}else{const c=await a(l.url);r[l.uuid]=new qc(c)}}}return r}parseTextures(e,n){function r(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],u=l.data;let c;Array.isArray(u)?(c=new Mv,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Ed:c=new cr,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=o.uuid,o.name!==void 0&&(c.name=o.name),o.mapping!==void 0&&(c.mapping=r(o.mapping,bDe)),o.channel!==void 0&&(c.channel=o.channel),o.offset!==void 0&&c.offset.fromArray(o.offset),o.repeat!==void 0&&c.repeat.fromArray(o.repeat),o.center!==void 0&&c.center.fromArray(o.center),o.rotation!==void 0&&(c.rotation=o.rotation),o.wrap!==void 0&&(c.wrapS=r(o.wrap[0],fB),c.wrapT=r(o.wrap[1],fB)),o.format!==void 0&&(c.format=o.format),o.internalFormat!==void 0&&(c.internalFormat=o.internalFormat),o.type!==void 0&&(c.type=o.type),o.colorSpace!==void 0&&(c.colorSpace=o.colorSpace),o.encoding!==void 0&&(c.encoding=o.encoding),o.minFilter!==void 0&&(c.minFilter=r(o.minFilter,hB)),o.magFilter!==void 0&&(c.magFilter=r(o.magFilter,hB)),o.anisotropy!==void 0&&(c.anisotropy=o.anisotropy),o.flipY!==void 0&&(c.flipY=o.flipY),o.generateMipmaps!==void 0&&(c.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(c.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(c.compareFunction=o.compareFunction),o.userData!==void 0&&(c.userData=o.userData),i[o.uuid]=c}return i}parseObject(e,n,r,i,a){let s;function o(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let g=0,v=h.length;g<v;g++){const y=h[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),d.push(r[y])}return d}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":s=new H3,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new _t(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new ZS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new KS(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new vr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Ru(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new sV(e.color,e.intensity);break;case"DirectionalLight":s=new aV(e.color,e.intensity);break;case"PointLight":s=new iV(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new oV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new rV(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new nV(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new gb().fromJSON(e);break;case"SkinnedMesh":c=o(e.geometry),f=l(e.material),s=new C9(c,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=o(e.geometry),f=l(e.material),s=new Pr(c,f);break;case"InstancedMesh":c=o(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,g=e.instanceColor;s=new P9(c,f,h),s.instanceMatrix=new Af(new Float32Array(d.array),16),g!==void 0&&(s.instanceColor=new Af(new Float32Array(g.array),g.itemSize));break;case"LOD":s=new M9;break;case"Line":s=new Bu(o(e.geometry),l(e.material));break;case"LineLoop":s=new O9(o(e.geometry),l(e.material));break;case"LineSegments":s=new Fo(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new R9(o(e.geometry),l(e.material));break;case"Sprite":s=new A9(l(e.material));break;case"Group":s=new od;break;case"Bone":s=new G3;break;default:s=new hn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)s.add(this.parseObject(h[d],n,r,i,a))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const g=h[d];s.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const g=h[d],v=s.getObjectByProperty("uuid",g.object);v!==void 0&&s.addLevel(v,g.distance,g.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const bDe={UVMapping:HS,CubeReflectionMapping:Nl,CubeRefractionMapping:Fu,EquirectangularReflectionMapping:Lg,EquirectangularRefractionMapping:Dg,CubeUVReflectionMapping:Ip},fB={RepeatWrapping:kg,ClampToEdgeWrapping:Pi,MirroredRepeatWrapping:Fg},hB={NearestFilter:mr,NearestMipmapNearestFilter:xw,NearestMipmapLinearFilter:xm,LinearFilter:Zn,LinearMipmapNearestFilter:E3,LinearMipmapLinearFilter:Uu};class EDe extends ba{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Cf.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(l){Cf.add(e,l),n&&n(l),a.manager.itemEnd(e)}).catch(function(l){i&&i(l),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}let Vx;class sR{static getContext(){return Vx===void 0&&(Vx=new(window.AudioContext||window.webkitAudioContext)),Vx}static setContext(e){Vx=e}}class TDe extends ba{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new Il(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const u=l.slice(0);sR.getContext().decodeAudioData(u,function(f){n(f)},o)}catch(u){o(u)}},r,i);function o(l){i?i(l):console.error(l),a.manager.itemError(e)}}}class ADe extends gb{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new _t().set(e),a=new _t().set(n),s=new se(i.r,i.g,i.b),o=new se(a.r,a.g,a.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(u)}}class MDe extends gb{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new _t().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const dB=new Ut,pB=new Ut,Sc=new Ut;class CDe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new vr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new vr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Sc.copy(e.projectionMatrix);const i=n.eyeSep/2,a=i*n.near/n.focus,s=n.near*Math.tan(sf*n.fov*.5)/n.zoom;let o,l;pB.elements[12]=-i,dB.elements[12]=i,o=-s*n.aspect+a,l=s*n.aspect+a,Sc.elements[0]=2*n.near/(l-o),Sc.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Sc),o=-s*n.aspect-a,l=s*n.aspect-a,Sc.elements[0]=2*n.near/(l-o),Sc.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Sc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(pB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(dB)}}class oR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=mB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=mB();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function mB(){return(typeof performance>"u"?Date:performance).now()}const bc=new se,gB=new Ni,PDe=new se,Ec=new se;class ODe extends hn{constructor(){super(),this.type="AudioListener",this.context=sR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new oR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bc,gB,PDe),Ec.set(0,0,-1).applyQuaternion(gB),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(bc.x,i),n.positionY.linearRampToValueAtTime(bc.y,i),n.positionZ.linearRampToValueAtTime(bc.z,i),n.forwardX.linearRampToValueAtTime(Ec.x,i),n.forwardY.linearRampToValueAtTime(Ec.y,i),n.forwardZ.linearRampToValueAtTime(Ec.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(bc.x,bc.y,bc.z),n.setOrientation(Ec.x,Ec.y,Ec.z,r.x,r.y,r.z)}}class cV extends hn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Tc=new se,vB=new Ni,RDe=new se,Ac=new se;class NDe extends cV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Tc,vB,RDe),Ac.set(0,0,1).applyQuaternion(vB);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Tc.x,r),n.positionY.linearRampToValueAtTime(Tc.y,r),n.positionZ.linearRampToValueAtTime(Tc.z,r),n.orientationX.linearRampToValueAtTime(Ac.x,r),n.orientationY.linearRampToValueAtTime(Ac.y,r),n.orientationZ.linearRampToValueAtTime(Ac.z,r)}else n.setPosition(Tc.x,Tc.y,Tc.z),n.setOrientation(Ac.x,Ac.y,Ac.z)}}class IDe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class fV{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,s;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=n}else{s+=n;const o=n/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,s=i;a!==s;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){Ni.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const s=this._workIndex*a;Ni.multiplyQuaternionsFlat(e,s,e,n,e,r),Ni.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=n+o;e[l]=e[l]*s+e[r+o]*i}}_lerpAdditive(e,n,r,i,a){for(let s=0;s!==a;++s){const o=n+s;e[o]=e[o]+e[r+s]*i}}}const lR="\\[\\]\\.:\\/",LDe=new RegExp("["+lR+"]","g"),uR="[^"+lR+"]",DDe="[^"+lR.replace("\\.","")+"]",kDe=/((?:WC+[\/:])*)/.source.replace("WC",uR),FDe=/(WCOD+)?/.source.replace("WCOD",DDe),UDe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uR),BDe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uR),zDe=new RegExp("^"+kDe+FDe+UDe+BDe+"$"),jDe=["material","materials","bones","map"];class HDe{constructor(e,n,r){const i=r||sn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class sn{constructor(e,n,r){this.path=n,this.parsedPath=r||sn.parseTrackName(n),this.node=sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new sn.Composite(e,n,r):new sn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(LDe,"")}static parseTrackName(e){const n=zDe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);jDe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=sn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[i];if(s===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}sn.Composite=HDe;sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};sn.prototype.GetterByBindingType=[sn.prototype._getValue_direct,sn.prototype._getValue_array,sn.prototype._getValue_arrayElement,sn.prototype._getValue_toArray];sn.prototype.SetterByBindingTypeAndVersioning=[[sn.prototype._setValue_direct,sn.prototype._setValue_direct_setNeedsUpdate,sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_array,sn.prototype._setValue_array_setNeedsUpdate,sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_arrayElement,sn.prototype._setValue_arrayElement_setNeedsUpdate,sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_fromArray,sn.prototype._setValue_fromArray_setNeedsUpdate,sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class WDe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Va(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],d=h.uuid;let g=n[d];if(g===void 0){g=l++,n[d]=g,e.push(h);for(let v=0,y=s;v!==y;++v)a[v].push(new sn(h,r[v],i[v]))}else if(g<u){o=e[g];const v=--u,y=e[v];n[y.uuid]=g,e[g]=y,n[d]=v,e[v]=h;for(let x=0,w=s;x!==w;++x){const _=a[x],S=_[v];let b=_[g];_[g]=S,b===void 0&&(b=new sn(h,r[x],i[x])),_[v]=b}}else e[g]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],u=l.uuid,c=n[u];if(c!==void 0&&c>=a){const f=a++,h=e[f];n[h.uuid]=c,e[c]=h,n[u]=f,e[f]=l;for(let d=0,g=i;d!==g;++d){const v=r[d],y=v[f],x=v[c];v[c]=y,v[f]=x}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<a){const h=--a,d=e[h],g=--s,v=e[g];n[d.uuid]=f,e[f]=d,n[v.uuid]=h,e[h]=v,e.pop();for(let y=0,x=i;y!==x;++y){const w=r[y],_=w[h],S=w[g];w[f]=_,w[h]=S,w.pop()}}else{const h=--s,d=e[h];h>0&&(n[d.uuid]=f),e[f]=d,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[h],y.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=a.length,r[e]=i,s.push(e),o.push(n),a.push(f);for(let h=c,d=l.length;h!==d;++h){const g=l[h];f[h]=new sn(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],u=e[o];n[u]=r,s[r]=l,s.pop(),a[r]=a[o],a.pop(),i[r]=i[o],i.pop()}}}class hV{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,s=a.length,o=new Array(s),l={endingStart:Xc,endingEnd:Xc};for(let u=0;u!==s;++u){const c=a[u].createInterpolant(null);o[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/s,u[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case R3:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(s),u[c].accumulateAdditive(o);break;case GS:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(s),u[c].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===KG;if(e===0)return a===-1?i:s&&(a&1)===1?n-i:i;if(r===YG){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Yc,i.endingEnd=Yc):(e?i.endingStart=this.zeroSlopeAtStart?Yc:Xc:i.endingStart=zg,n?i.endingEnd=this.zeroSlopeAtEnd?Yc:Xc:i.endingEnd=zg)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=n,o[1]=a+e,l[1]=r,this}}const GDe=new Float32Array(1);class VDe extends Bl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const h=i[f],d=h.name;let g=c[d];if(g!==void 0)++g.referenceCount,s[f]=g;else{if(g=s[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,d));continue}const v=n&&n._propertyBindings[f].binding.parsedPath;g=new fV(sn.create(r,d,v),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,d),s[f]=g}o[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new tR(new Float32Array(2),new Float32Array(2),1,GDe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let s=typeof e=="string"?Kg.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let u=null;if(r===void 0&&(s!==null?r=s.blendMode:r=GS),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const c=new hV(this,s,n,r);return this._bindAction(c,u),this._addInactiveAction(c,o,a),c}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?Kg.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const u=s[o];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class cR{constructor(e){this.value=e}clone(){return new cR(this.value.clone===void 0?this.value:this.value.clone())}}let $De=0;class XDe extends Bl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:$De++}),this.name="",this.usage=jg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class YDe extends JS{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class qDe{constructor(e,n,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class dV{constructor(e,n,r=0,i=1/0){this.ray=new jf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new of,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return LC(e,this,r,n),r.sort(yB),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)LC(e[i],this,r,n);return r.sort(yB),r}}function yB(t,e){return t.distance-e.distance}function LC(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let a=0,s=i.length;a<s;a++)LC(i[a],e,n,!0)}}class DC{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(lr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class KDe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const xB=new Qe;class ZDe{constructor(e=new Qe(1/0,1/0),n=new Qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=xB.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _B=new se,$x=new se;class JDe{constructor(e=new se,n=new se){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){_B.subVectors(e,this.start),$x.subVectors(this.end,this.start);const r=$x.dot($x);let a=$x.dot(_B)/r;return n&&(a=lr(a,0,1)),a}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const wB=new se;class QDe extends hn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Zt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const u=s/l*Math.PI*2,c=o/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new At(i,3));const a=new ta({fog:!1,toneMapped:!1});this.cone=new Fo(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),wB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(wB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ru=new se,Xx=new Ut,rT=new Ut;class eke extends Fo{constructor(e){const n=pV(e),r=new Zt,i=[],a=[],s=new _t(0,0,1),o=new _t(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}r.setAttribute("position",new At(i,3)),r.setAttribute("color",new At(a,3));const l=new ta({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");rT.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const o=n[a];o.parent&&o.parent.isBone&&(Xx.multiplyMatrices(rT,o.matrixWorld),ru.setFromMatrixPosition(Xx),i.setXYZ(s,ru.x,ru.y,ru.z),Xx.multiplyMatrices(rT,o.parent.matrixWorld),ru.setFromMatrixPosition(Xx),i.setXYZ(s+1,ru.x,ru.y,ru.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function pV(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,pV(t.children[n]));return e}class tke extends Pr{constructor(e,n,r){const i=new Ov(n,4,2),a=new zl({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nke=new se,SB=new _t,bB=new _t;class rke extends hn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Pv(n);i.rotateY(Math.PI*.5),this.material=new zl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new On(s,3)),this.add(new Pr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");SB.copy(this.light.color),bB.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?SB:bB;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nke.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ike extends Fo{constructor(e=10,n=10,r=4473924,i=8947848){r=new _t(r),i=new _t(i);const a=n/2,s=e/n,o=e/2,l=[],u=[];for(let h=0,d=0,g=-o;h<=n;h++,g+=s){l.push(-o,0,g,o,0,g),l.push(g,0,-o,g,0,o);const v=h===a?r:i;v.toArray(u,d),d+=3,v.toArray(u,d),d+=3,v.toArray(u,d),d+=3,v.toArray(u,d),d+=3}const c=new Zt;c.setAttribute("position",new At(l,3)),c.setAttribute("color",new At(u,3));const f=new ta({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ake extends Fo{constructor(e=10,n=16,r=8,i=64,a=4473924,s=8947848){a=new _t(a),s=new _t(s);const o=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),d=Math.sin(h)*e,g=Math.cos(h)*e;o.push(0,0,0),o.push(d,0,g);const v=f&1?a:s;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const h=f&1?a:s,d=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*d,x=Math.cos(v)*d;o.push(y,0,x),l.push(h.r,h.g,h.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*d,x=Math.cos(v)*d,o.push(y,0,x),l.push(h.r,h.g,h.b)}}const u=new Zt;u.setAttribute("position",new At(o,3)),u.setAttribute("color",new At(l,3));const c=new ta({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const EB=new se,Yx=new se,TB=new se;class ske extends hn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Zt;i.setAttribute("position",new At([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new ta({fog:!1,toneMapped:!1});this.lightPlane=new Bu(i,a),this.add(this.lightPlane),i=new Zt,i.setAttribute("position",new At([0,0,0,0,0,1],3)),this.targetLine=new Bu(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),EB.setFromMatrixPosition(this.light.matrixWorld),Yx.setFromMatrixPosition(this.light.target.matrixWorld),TB.subVectors(Yx,EB),this.lightPlane.lookAt(Yx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yx),this.targetLine.scale.z=TB.length()}}const qx=new se,ir=new Av;class oke extends Fo{constructor(e){const n=new Zt,r=new ta({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(g,v){l(g),l(v)}function l(g){i.push(0,0,0),a.push(0,0,0),s[g]===void 0&&(s[g]=[]),s[g].push(i.length/3-1)}n.setAttribute("position",new At(i,3)),n.setAttribute("color",new At(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const u=new _t(16755200),c=new _t(16711680),f=new _t(43775),h=new _t(16777215),d=new _t(3355443);this.setColors(u,c,f,h,d)}setColors(e,n,r,i,a){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;ir.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),pr("c",n,e,ir,0,0,-1),pr("t",n,e,ir,0,0,1),pr("n1",n,e,ir,-r,-i,-1),pr("n2",n,e,ir,r,-i,-1),pr("n3",n,e,ir,-r,i,-1),pr("n4",n,e,ir,r,i,-1),pr("f1",n,e,ir,-r,-i,1),pr("f2",n,e,ir,r,-i,1),pr("f3",n,e,ir,-r,i,1),pr("f4",n,e,ir,r,i,1),pr("u1",n,e,ir,r*.7,i*1.1,-1),pr("u2",n,e,ir,-r*.7,i*1.1,-1),pr("u3",n,e,ir,0,i*2,-1),pr("cf1",n,e,ir,-r,0,1),pr("cf2",n,e,ir,r,0,1),pr("cf3",n,e,ir,0,-i,1),pr("cf4",n,e,ir,0,i,1),pr("cn1",n,e,ir,-r,0,-1),pr("cn2",n,e,ir,r,0,-1),pr("cn3",n,e,ir,0,-i,-1),pr("cn4",n,e,ir,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function pr(t,e,n,r,i,a,s){qx.set(i,a,s).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let u=0,c=o.length;u<c;u++)l.setXYZ(o[u],qx.x,qx.y,qx.z)}}const Kx=new As;class lke extends Fo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Zt;a.setIndex(new On(r,1)),a.setAttribute("position",new On(i,3)),super(a,new ta({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Kx.setFromObject(this.object),Kx.isEmpty())return;const n=Kx.min,r=Kx.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uke extends Fo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Zt;a.setIndex(new On(r,1)),a.setAttribute("position",new At(i,3)),super(a,new ta({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cke extends Bu{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Zt;s.setAttribute("position",new At(a,3)),s.computeBoundingSphere(),super(s,new ta({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Zt;l.setAttribute("position",new At(o,3)),l.computeBoundingSphere(),this.add(new Pr(l,new zl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const AB=new se;let Zx,iT;class fke extends hn{constructor(e=new se(0,0,1),n=new se(0,0,0),r=1,i=16776960,a=r*.2,s=a*.2){super(),this.type="ArrowHelper",Zx===void 0&&(Zx=new Zt,Zx.setAttribute("position",new At([0,0,0,0,1,0],3)),iT=new Dp(0,.5,1,5,1),iT.translate(0,-.5,0)),this.position.copy(n),this.line=new Bu(Zx,new ta({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pr(iT,new zl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{AB.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(AB,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class hke extends Fo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Zt;i.setAttribute("position",new At(n,3)),i.setAttribute("color",new At(r,3));const a=new ta({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new _t,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dke{constructor(){this.type="ShapePath",this.color=new _t,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Gg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,s){return this.currentPath.bezierCurveTo(e,n,r,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(x){const w=[];for(let _=0,S=x.length;_<S;_++){const b=x[_],T=new lf;T.curves=b.curves,w.push(T)}return w}function r(x,w){const _=w.length;let S=!1;for(let b=_-1,T=0;T<_;b=T++){let A=w[b],P=w[T],M=P.x-A.x,R=P.y-A.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(A=w[T],M=-M,P=w[b],R=-R),x.y<A.y||x.y>P.y)continue;if(x.y===A.y){if(x.x===A.x)return!0}else{const D=R*(x.x-A.x)-M*(x.y-A.y);if(D===0)return!0;if(D<0)continue;S=!S}}else{if(x.y!==A.y)continue;if(P.x<=x.x&&x.x<=A.x||A.x<=x.x&&x.x<=P.x)return!0}}return S}const i=No.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const u=[];if(a.length===1)return o=a[0],l=new lf,l.curves=o.curves,u.push(l),u;let c=!i(a[0].getPoints());c=e?!c:c;const f=[],h=[];let d=[],g=0,v;h[g]=void 0,d[g]=[];for(let x=0,w=a.length;x<w;x++)o=a[x],v=o.getPoints(),s=i(v),s=e?!s:s,s?(!c&&h[g]&&g++,h[g]={s:new lf,p:v},h[g].s.curves=o.curves,c&&g++,d[g]=[]):d[g].push({h:o,p:v[0]});if(!h[0])return n(a);if(h.length>1){let x=!1,w=0;for(let _=0,S=h.length;_<S;_++)f[_]=[];for(let _=0,S=h.length;_<S;_++){const b=d[_];for(let T=0;T<b.length;T++){const A=b[T];let P=!0;for(let M=0;M<h.length;M++)r(A.p,h[M].p)&&(_!==M&&w++,P?(P=!1,f[M].push(A)):x=!0);P&&f[_].push(A)}}w>0&&x===!1&&(d=f)}let y;for(let x=0,w=h.length;x<w;x++){l=h[x].s,u.push(l),y=d[x];for(let _=0,S=y.length;_<S;_++)l.holes.push(y[_].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:zS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=zS);const pke=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:b3,AddEquation:Fc,AddOperation:LG,AdditiveAnimationBlendMode:R3,AdditiveBlending:qM,AlphaFormat:jG,AlwaysCompare:o9,AlwaysDepth:MG,AlwaysStencilFunc:QG,AmbientLight:sV,AmbientLightProbe:MDe,AnimationAction:hV,AnimationClip:Kg,AnimationLoader:pDe,AnimationMixer:VDe,AnimationObjectGroup:WDe,AnimationUtils:cDe,ArcCurve:N9,ArrayCamera:S9,ArrowHelper:fke,Audio:cV,AudioAnalyser:IDe,AudioContext:sR,AudioListener:ODe,AudioLoader:TDe,AxesHelper:hke,BackSide:Ji,BasicDepthPacking:ZG,BasicShadowMap:dG,Bone:G3,BooleanKeyframeTrack:Wf,Box2:ZDe,Box3:As,Box3Helper:uke,BoxGeometry:Hf,BoxHelper:lke,BufferAttribute:On,BufferGeometry:Zt,BufferGeometryLoader:uV,ByteType:BG,Cache:Cf,Camera:Av,CameraHelper:oke,CanvasTexture:LLe,CapsuleGeometry:rb,CatmullRomCurve3:I9,CineonToneMapping:FG,CircleGeometry:ib,ClampToEdgeWrapping:Pi,Clock:oR,Color:_t,ColorKeyframeTrack:nR,ColorManagement:cs,CompressedArrayTexture:NLe,CompressedCubeTexture:ILe,CompressedTexture:eb,CompressedTextureLoader:mDe,ConeGeometry:ab,CubeCamera:p9,CubeReflectionMapping:Nl,CubeRefractionMapping:Fu,CubeTexture:Mv,CubeTextureLoader:gDe,CubeUVReflectionMapping:Ip,CubicBezierCurve:X3,CubicBezierCurve3:L9,CubicInterpolant:J9,CullFaceBack:YM,CullFaceFront:hG,CullFaceFrontBack:EOe,CullFaceNone:fG,Curve:so,CurvePath:k9,CustomBlending:pG,CustomToneMapping:UG,CylinderGeometry:Dp,Cylindrical:KDe,Data3DTexture:k3,DataArrayTexture:VS,DataTexture:Ed,DataTextureLoader:vDe,DataUtils:B3e,DecrementStencilOp:FOe,DecrementWrapStencilOp:BOe,DefaultLoadingManager:tV,DepthFormat:Cu,DepthStencilFormat:Ef,DepthTexture:b9,DirectionalLight:aV,DirectionalLightHelper:ske,DiscreteInterpolant:Q9,DisplayP3ColorSpace:Ev,DodecahedronGeometry:sb,DoubleSide:qs,DstAlphaFactor:wG,DstColorFactor:bG,DynamicCopyUsage:e3e,DynamicDrawUsage:YOe,DynamicReadUsage:ZOe,EdgesGeometry:F9,EllipseCurve:tb,EqualCompare:n9,EqualDepth:PG,EqualStencilFunc:WOe,EquirectangularReflectionMapping:Lg,EquirectangularRefractionMapping:Dg,Euler:Tv,EventDispatcher:Bl,ExtrudeGeometry:lb,FileLoader:Il,Float16BufferAttribute:V3e,Float32BufferAttribute:At,Float64BufferAttribute:$3e,FloatType:Eo,Fog:ZS,FogExp2:KS,FramebufferTexture:RLe,FrontSide:Rl,Frustum:$S,GLBufferAttribute:qDe,GLSL1:n3e,GLSL3:TC,GreaterCompare:i9,GreaterDepth:RG,GreaterEqualCompare:s9,GreaterEqualDepth:OG,GreaterEqualStencilFunc:XOe,GreaterStencilFunc:VOe,GridHelper:ike,Group:od,HalfFloatType:ip,HemisphereLight:nV,HemisphereLightHelper:rke,HemisphereLightProbe:ADe,IcosahedronGeometry:ub,ImageBitmapLoader:EDe,ImageLoader:Zg,ImageUtils:D3,IncrementStencilOp:kOe,IncrementWrapStencilOp:UOe,InstancedBufferAttribute:Af,InstancedBufferGeometry:aR,InstancedInterleavedBuffer:YDe,InstancedMesh:P9,Int16BufferAttribute:W3e,Int32BufferAttribute:G3e,Int8BufferAttribute:z3e,IntType:T3,InterleavedBuffer:JS,InterleavedBufferAttribute:Tf,Interpolant:Rv,InterpolateDiscrete:Ug,InterpolateLinear:Bg,InterpolateSmooth:T1,InvertStencilOp:zOe,KeepStencilOp:A1,KeyframeTrack:oo,LOD:M9,LatheGeometry:Cv,Layers:of,LessCompare:t9,LessDepth:CG,LessEqualCompare:r9,LessEqualDepth:yw,LessEqualStencilFunc:GOe,LessStencilFunc:HOe,Light:ec,LightProbe:gb,Line:Bu,Line3:JDe,LineBasicMaterial:ta,LineCurve:nb,LineCurve3:D9,LineDashedMaterial:K9,LineLoop:O9,LineSegments:Fo,LinearDisplayP3ColorSpace:IOe,LinearEncoding:N3,LinearFilter:Zn,LinearInterpolant:tR,LinearMipMapLinearFilter:POe,LinearMipMapNearestFilter:COe,LinearMipmapLinearFilter:Uu,LinearMipmapNearestFilter:E3,LinearSRGBColorSpace:no,LinearToneMapping:DG,Loader:ba,LoaderUtils:IC,LoadingManager:rR,LoopOnce:YG,LoopPingPong:KG,LoopRepeat:qG,LuminanceAlphaFormat:WG,LuminanceFormat:HG,MOUSE:Ic,Material:Li,MaterialLoader:vb,MathUtils:g3e,Matrix3:Vt,Matrix4:Ut,MaxEquation:QM,Mesh:Pr,MeshBasicMaterial:zl,MeshDepthMaterial:YS,MeshDistanceMaterial:qS,MeshLambertMaterial:Y9,MeshMatcapMaterial:q9,MeshNormalMaterial:X9,MeshPhongMaterial:V9,MeshPhysicalMaterial:G9,MeshStandardMaterial:J3,MeshToonMaterial:$9,MinEquation:JM,MirroredRepeatWrapping:Fg,MixOperation:IG,MultiplyBlending:ZM,MultiplyOperation:bv,NearestFilter:mr,NearestMipMapLinearFilter:MOe,NearestMipMapNearestFilter:AOe,NearestMipmapLinearFilter:xm,NearestMipmapNearestFilter:xw,NeverCompare:e9,NeverDepth:AG,NeverStencilFunc:jOe,NoBlending:_l,NoColorSpace:Ou,NoToneMapping:Oo,NormalAnimationBlendMode:GS,NormalBlending:af,NotEqualCompare:a9,NotEqualDepth:NG,NotEqualStencilFunc:$Oe,NumberKeyframeTrack:Yg,Object3D:hn,ObjectLoader:SDe,ObjectSpaceNormalMap:JG,OctahedronGeometry:Pv,OneFactor:yG,OneMinusDstAlphaFactor:SG,OneMinusDstColorFactor:EG,OneMinusSrcAlphaFactor:S3,OneMinusSrcColorFactor:_G,OrthographicCamera:Ru,PCFShadowMap:jS,PCFSoftShadowMap:ym,PMREMGenerator:MC,Path:Gg,PerspectiveCamera:vr,Plane:al,PlaneGeometry:Ju,PlaneHelper:cke,PointLight:iV,PointLightHelper:tke,Points:R9,PointsMaterial:V3,PolarGridHelper:ake,PolyhedronGeometry:Qu,PositionalAudio:NDe,PropertyBinding:sn,PropertyMixer:fV,QuadraticBezierCurve:Y3,QuadraticBezierCurve3:q3,Quaternion:Ni,QuaternionKeyframeTrack:kp,QuaternionLinearInterpolant:eV,RED_GREEN_RGTC2_Format:bC,RED_RGTC1_Format:XG,REVISION:zS,RGBADepthPacking:I3,RGBAFormat:ca,RGBAIntegerFormat:O3,RGBA_ASTC_10x10_Format:vC,RGBA_ASTC_10x5_Format:pC,RGBA_ASTC_10x6_Format:mC,RGBA_ASTC_10x8_Format:gC,RGBA_ASTC_12x10_Format:yC,RGBA_ASTC_12x12_Format:xC,RGBA_ASTC_4x4_Format:sC,RGBA_ASTC_5x4_Format:oC,RGBA_ASTC_5x5_Format:lC,RGBA_ASTC_6x5_Format:uC,RGBA_ASTC_6x6_Format:cC,RGBA_ASTC_8x5_Format:fC,RGBA_ASTC_8x6_Format:hC,RGBA_ASTC_8x8_Format:dC,RGBA_BPTC_Format:E1,RGBA_ETC2_EAC_Format:aC,RGBA_PVRTC_2BPPV1_Format:rC,RGBA_PVRTC_4BPPV1_Format:nC,RGBA_S3TC_DXT1_Format:w1,RGBA_S3TC_DXT3_Format:S1,RGBA_S3TC_DXT5_Format:b1,RGB_BPTC_SIGNED_Format:_C,RGB_BPTC_UNSIGNED_Format:wC,RGB_ETC1_Format:$G,RGB_ETC2_Format:iC,RGB_PVRTC_2BPPV1_Format:tC,RGB_PVRTC_4BPPV1_Format:eC,RGB_S3TC_DXT1_Format:_1,RGFormat:VG,RGIntegerFormat:P3,RawShaderMaterial:W9,Ray:jf,Raycaster:dV,RectAreaLight:oV,RedFormat:GG,RedIntegerFormat:C3,ReinhardToneMapping:kG,RenderTarget:f9,RepeatWrapping:kg,ReplaceStencilOp:DOe,ReverseSubtractEquation:gG,RingGeometry:cb,SIGNED_RED_GREEN_RGTC2_Format:EC,SIGNED_RED_RGTC1_Format:SC,SRGBColorSpace:Dn,Scene:H3,ShaderChunk:Ht,ShaderLib:$s,ShaderMaterial:Do,ShadowMaterial:H9,Shape:lf,ShapeGeometry:fb,ShapePath:dke,ShapeUtils:No,ShortType:zG,Skeleton:QS,SkeletonHelper:eke,SkinnedMesh:C9,Source:qc,Sphere:Ms,SphereGeometry:Ov,Spherical:DC,SphericalHarmonics3:lV,SplineCurve:K3,SpotLight:rV,SpotLightHelper:QDe,Sprite:A9,SpriteMaterial:W3,SrcAlphaFactor:w3,SrcAlphaSaturateFactor:TG,SrcColorFactor:xG,StaticCopyUsage:QOe,StaticDrawUsage:jg,StaticReadUsage:KOe,StereoCamera:CDe,StreamCopyUsage:t3e,StreamDrawUsage:qOe,StreamReadUsage:JOe,StringKeyframeTrack:Gf,SubtractEquation:mG,SubtractiveBlending:KM,TOUCH:Lc,TangentSpaceNormalMap:Zu,TetrahedronGeometry:hb,Texture:cr,TextureLoader:yDe,TorusGeometry:db,TorusKnotGeometry:pb,Triangle:ua,TriangleFanDrawMode:NOe,TriangleStripDrawMode:ROe,TrianglesDrawMode:OOe,TubeGeometry:mb,TwoPassDoubleSide:TOe,UVMapping:HS,Uint16BufferAttribute:F3,Uint32BufferAttribute:U3,Uint8BufferAttribute:j3e,Uint8ClampedBufferAttribute:H3e,Uniform:cR,UniformsGroup:XDe,UniformsLib:gt,UniformsUtils:B3,UnsignedByteType:Ro,UnsignedInt248Type:Mu,UnsignedIntType:hl,UnsignedShort4444Type:A3,UnsignedShort5551Type:M3,UnsignedShortType:WS,VSMShadowMap:Bs,Vector2:Qe,Vector3:se,Vector4:gn,VectorKeyframeTrack:qg,VideoTexture:OLe,WebGL1Renderer:E9,WebGL3DRenderTarget:M3e,WebGLArrayRenderTarget:A3e,WebGLCoordinateSystem:To,WebGLCubeRenderTarget:m9,WebGLMultipleRenderTargets:C3e,WebGLRenderTarget:ro,WebGLRenderer:j3,WebGLUtils:w9,WebGPUCoordinateSystem:Hg,WireframeGeometry:j9,WrapAroundEnding:zg,ZeroCurvatureEnding:Xc,ZeroFactor:vG,ZeroSlopeEnding:Yc,ZeroStencilOp:LOe,_SRGBAFormat:_w,createCanvasElement:c9,sRGBEncoding:Pu},Symbol.toStringTag,{value:"Module"}));var mV={exports:{}},Vf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Vf.ConcurrentRoot=1;Vf.ContinuousEventPriority=4;Vf.DefaultEventPriority=16;Vf.DiscreteEventPriority=1;Vf.IdleEventPriority=536870912;Vf.LegacyRoot=0;mV.exports=Vf;var ud=mV.exports;function mke(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},i=()=>e,a=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function d(){const g=c(e);if(!f(h,g)){const v=h;u(h=g,v)}}return n.add(d),()=>n.delete(d)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?a(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const gke=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),MB=gke?fe.useEffect:fe.useLayoutEffect;function vke(t){const e=typeof t=="function"?mke(t):t,n=(r=e.getState,i=Object.is)=>{const[,a]=fe.useReducer(y=>y+1,0),s=e.getState(),o=fe.useRef(s),l=fe.useRef(r),u=fe.useRef(i),c=fe.useRef(!1),f=fe.useRef();f.current===void 0&&(f.current=r(s));let h,d=!1;(o.current!==s||l.current!==r||u.current!==i||c.current)&&(h=r(s),d=!i(f.current,h)),MB(()=>{d&&(f.current=h),o.current=s,l.current=r,u.current=i,c.current=!1});const g=fe.useRef(s);MB(()=>{const y=()=>{try{const w=e.getState(),_=l.current(w);u.current(f.current,_)||(o.current=w,f.current=_,a())}catch{c.current=!0,a()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=d?h:f.current;return fe.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const yke=t=>typeof t=="object"&&typeof t.then=="function",Jx=[];function xke(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function _ke(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const a of Jx)if(xke(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=Jx.indexOf(i);a!==-1&&Jx.splice(a,1)},promise:(yke(t)?t:t(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(Jx.push(i),!n)throw i.promise}const wke=(t,e,n)=>_ke(t,e,!1,n);var gV={exports:{}},aT={exports:{}},sT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CB;function Ske(){return CB||(CB=1,function(t){function e(U,H){var X=U.length;U.push(H);e:for(;0<X;){var F=X-1>>>1,N=U[F];if(0<i(N,H))U[F]=H,U[X]=N,X=F;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var H=U[0],X=U.pop();if(X!==H){U[0]=X;e:for(var F=0,N=U.length,V=N>>>1;F<V;){var Y=2*(F+1)-1,q=U[Y],ae=Y+1,pe=U[ae];if(0>i(q,X))ae<N&&0>i(pe,q)?(U[F]=pe,U[ae]=X,F=ae):(U[F]=q,U[Y]=X,F=Y);else if(ae<N&&0>i(pe,X))U[F]=pe,U[ae]=X,F=ae;else break e}}return H}function i(U,H){var X=U.sortIndex-H.sortIndex;return X!==0?X:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=U)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function S(U){if(v=!1,_(U),!g)if(n(l)!==null)g=!0,Z(b);else{var H=n(u);H!==null&&ee(S,H.startTime-U)}}function b(U,H){g=!1,v&&(v=!1,x(P),P=-1),d=!0;var X=h;try{for(_(H),f=n(l);f!==null&&(!(f.expirationTime>H)||U&&!D());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var N=F(f.expirationTime<=H);H=t.unstable_now(),typeof N=="function"?f.callback=N:f===n(l)&&r(l),_(H)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var Y=n(u);Y!==null&&ee(S,Y.startTime-H),V=!1}return V}finally{f=null,h=X,d=!1}}var T=!1,A=null,P=-1,M=5,R=-1;function D(){return!(t.unstable_now()-R<M)}function L(){if(A!==null){var U=t.unstable_now();R=U;var H=!0;try{H=A(!0,U)}finally{H?B():(T=!1,A=null)}}else T=!1}var B;if(typeof w=="function")B=function(){w(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,z=G.port2;G.port1.onmessage=L,B=function(){z.postMessage(null)}}else B=function(){y(L,0)};function Z(U){A=U,T||(T=!0,B())}function ee(U,H){P=y(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,Z(b))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var X=h;h=H;try{return U()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=h;h=U;try{return H()}finally{h=X}},t.unstable_scheduleCallback=function(U,H,X){var F=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?F+X:F):X=F,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=X+N,U={id:c++,callback:H,priorityLevel:U,startTime:X,expirationTime:N,sortIndex:-1},X>F?(U.sortIndex=X,e(u,U),n(l)===null&&U===n(u)&&(v?(x(P),P=-1):v=!0,ee(S,X-F))):(U.sortIndex=N,e(l,U),g||d||(g=!0,Z(b))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var H=h;return function(){var X=h;h=H;try{return U.apply(this,arguments)}finally{h=X}}}}(sT)),sT}var PB;function bke(){return PB||(PB=1,aT.exports=Ske()),aT.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eke=function(e){var n={},r=fe,i=bke(),a=Object.assign;function s(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,E=1;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),b=Symbol.iterator;function T(p){return p===null||typeof p!="object"?null:(p=b&&p[b]||p["@@iterator"],typeof p=="function"?p:null)}function A(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case g:return(p.displayName||"Context")+".Consumer";case d:return(p._context.displayName||"Context")+".Provider";case v:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case w:return m=p.displayName||null,m!==null?m:A(p.type)||"Memo";case _:m=p._payload,p=p._init;try{return A(p(m))}catch{}}return null}function P(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function M(p){var m=p,E=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&4098&&(E=m.return),p=m.return;while(p)}return m.tag===3?E:null}function R(p){if(M(p)!==p)throw Error(s(188))}function D(p){var m=p.alternate;if(!m){if(m=M(p),m===null)throw Error(s(188));return m!==p?null:p}for(var E=p,C=m;;){var I=E.return;if(I===null)break;var j=I.alternate;if(j===null){if(C=I.return,C!==null){E=C;continue}break}if(I.child===j.child){for(j=I.child;j;){if(j===E)return R(I),p;if(j===C)return R(I),m;j=j.sibling}throw Error(s(188))}if(E.return!==C.return)E=I,C=j;else{for(var he=!1,Ee=I.child;Ee;){if(Ee===E){he=!0,E=I,C=j;break}if(Ee===C){he=!0,C=I,E=j;break}Ee=Ee.sibling}if(!he){for(Ee=j.child;Ee;){if(Ee===E){he=!0,E=j,C=I;break}if(Ee===C){he=!0,C=j,E=I;break}Ee=Ee.sibling}if(!he)throw Error(s(189))}}if(E.alternate!==C)throw Error(s(190))}if(E.tag!==3)throw Error(s(188));return E.stateNode.current===E?p:m}function L(p){return p=D(p),p!==null?B(p):null}function B(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=B(p);if(m!==null)return m;p=p.sibling}return null}function G(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=G(p);if(m!==null)return m}p=p.sibling}return null}var z=Array.isArray,Z=e.getPublicInstance,ee=e.getRootHostContext,U=e.getChildHostContext,H=e.prepareForCommit,X=e.resetAfterCommit,F=e.createInstance,N=e.appendInitialChild,V=e.finalizeInitialChildren,Y=e.prepareUpdate,q=e.shouldSetTextContent,ae=e.createTextInstance,pe=e.scheduleTimeout,ye=e.cancelTimeout,ge=e.noTimeout,Se=e.isPrimaryRenderer,we=e.supportsMutation,W=e.supportsPersistence,Pe=e.supportsHydration,ve=e.getInstanceFromNode,Ie=e.preparePortalMount,be=e.getCurrentEventPriority,Ae=e.detachDeletedInstance,Ne=e.supportsMicrotasks,He=e.scheduleMicrotask,qe=e.supportsTestSelectors,Le=e.findFiberRoot,lt=e.getBoundingRect,Q=e.getTextContent,K=e.isHiddenSubtree,xe=e.matchAccessibilityRole,Je=e.setFocusIfFocusable,De=e.setupIntersectionObserver,Fe=e.appendChild,tt=e.appendChildToContainer,Ke=e.commitTextUpdate,Re=e.commitMount,ft=e.commitUpdate,at=e.insertBefore,it=e.insertInContainerBefore,Xe=e.removeChild,ce=e.removeChildFromContainer,Be=e.resetTextContent,ut=e.hideInstance,de=e.hideTextInstance,ze=e.unhideInstance,Oe=e.unhideTextInstance,st=e.clearContainer,nt=e.cloneInstance,vt=e.createContainerChildSet,Mt=e.appendChildToContainerChildSet,Ct=e.finalizeContainerChildren,Et=e.replaceContainerChildren,Tt=e.cloneHiddenInstance,Qt=e.cloneHiddenTextInstance,Gt=e.canHydrateInstance,Nn=e.canHydrateTextInstance,_r=e.canHydrateSuspenseInstance,Di=e.isSuspenseInstancePending,wr=e.isSuspenseInstanceFallback,ki=e.registerSuspenseInstanceRetry,J=e.getNextHydratableSibling,le=e.getFirstHydratableChild,te=e.getFirstHydratableChildWithinContainer,ie=e.getFirstHydratableChildWithinSuspenseInstance,ue=e.hydrateInstance,k=e.hydrateTextInstance,re=e.hydrateSuspenseInstance,me=e.getNextHydratableInstanceAfterSuspenseInstance,ne=e.commitHydratedContainer,oe=e.commitHydratedSuspenseInstance,_e=e.clearSuspenseBoundary,Ue=e.clearSuspenseBoundaryFromContainer,Ge=e.shouldDeleteUnhydratedTailInstances,et=e.didNotMatchHydratedContainerTextInstance,Ve=e.didNotMatchHydratedTextInstance,Me;function ot(p){if(Me===void 0)try{throw Error()}catch(E){var m=E.stack.trim().match(/\n( *(at )?)/);Me=m&&m[1]||""}return`
`+Me+p}var Lt=!1;function Rt(p,m){if(!p||Lt)return"";Lt=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ht){var C=ht}Reflect.construct(p,[],m)}else{try{m.call()}catch(ht){C=ht}p.call(m.prototype)}else{try{throw Error()}catch(ht){C=ht}p()}}catch(ht){if(ht&&C&&typeof ht.stack=="string"){for(var I=ht.stack.split(`
`),j=C.stack.split(`
`),he=I.length-1,Ee=j.length-1;1<=he&&0<=Ee&&I[he]!==j[Ee];)Ee--;for(;1<=he&&0<=Ee;he--,Ee--)if(I[he]!==j[Ee]){if(he!==1||Ee!==1)do if(he--,Ee--,0>Ee||I[he]!==j[Ee]){var $e=`
`+I[he].replace(" at new "," at ");return p.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",p.displayName)),$e}while(1<=he&&0<=Ee);break}}}finally{Lt=!1,Error.prepareStackTrace=E}return(p=p?p.displayName||p.name:"")?ot(p):""}var rn=Object.prototype.hasOwnProperty,tr=[],en=-1;function Nt(p){return{current:p}}function jt(p){0>en||(p.current=tr[en],tr[en]=null,en--)}function It(p,m){en++,tr[en]=p.current,p.current=m}var pn={},nr=Nt(pn),Gn=Nt(!1),na=pn;function En(p,m){var E=p.type.contextTypes;if(!E)return pn;var C=p.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===m)return C.__reactInternalMemoizedMaskedChildContext;var I={},j;for(j in E)I[j]=m[j];return C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=I),I}function In(p){return p=p.childContextTypes,p!=null}function Fi(){jt(Gn),jt(nr)}function Sr(p,m,E){if(nr.current!==pn)throw Error(s(168));It(nr,m),It(Gn,E)}function lo(p,m,E){var C=p.stateNode;if(m=m.childContextTypes,typeof C.getChildContext!="function")return E;C=C.getChildContext();for(var I in C)if(!(I in m))throw Error(s(108,P(p)||"Unknown",I));return a({},E,C)}function uo(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||pn,na=nr.current,It(nr,p),It(Gn,Gn.current),!0}function mi(p,m,E){var C=p.stateNode;if(!C)throw Error(s(169));E?(p=lo(p,m,na),C.__reactInternalMemoizedMergedChildContext=p,jt(Gn),jt(nr),It(nr,p)):jt(Gn),It(Gn,E)}var Ea=Math.clz32?Math.clz32:Iv,$f=Math.log,tc=Math.LN2;function Iv(p){return p>>>=0,p===0?32:31-($f(p)/tc|0)|0}var Uo=64,Bo=4194304;function zo(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function nc(p,m){var E=p.pendingLanes;if(E===0)return 0;var C=0,I=p.suspendedLanes,j=p.pingedLanes,he=E&268435455;if(he!==0){var Ee=he&~I;Ee!==0?C=zo(Ee):(j&=he,j!==0&&(C=zo(j)))}else he=E&~I,he!==0?C=zo(he):j!==0&&(C=zo(j));if(C===0)return 0;if(m!==0&&m!==C&&!(m&I)&&(I=C&-C,j=m&-m,I>=j||I===16&&(j&4194240)!==0))return m;if(C&4&&(C|=E&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=C;0<m;)E=31-Ea(m),I=1<<E,C|=p[E],m&=~I;return C}function Lv(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Up(p,m){for(var E=p.suspendedLanes,C=p.pingedLanes,I=p.expirationTimes,j=p.pendingLanes;0<j;){var he=31-Ea(j),Ee=1<<he,$e=I[he];$e===-1?(!(Ee&E)||Ee&C)&&(I[he]=Lv(Ee,m)):$e<=m&&(p.expiredLanes|=Ee),j&=~Ee}}function jo(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Xf(p){for(var m=[],E=0;31>E;E++)m.push(p);return m}function co(p,m,E){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-Ea(m),p[m]=E}function jl(p,m){var E=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var C=p.eventTimes;for(p=p.expirationTimes;0<E;){var I=31-Ea(E),j=1<<I;m[I]=0,C[I]=-1,p[I]=-1,E&=~j}}function fo(p,m){var E=p.entangledLanes|=m;for(p=p.entanglements;E;){var C=31-Ea(E),I=1<<C;I&m|p[C]&m&&(p[C]|=m),E&=~I}}var Jt=0;function Bp(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var Ho=i.unstable_scheduleCallback,Yf=i.unstable_cancelCallback,zp=i.unstable_shouldYield,Dv=i.unstable_requestPaint,Yn=i.unstable_now,rc=i.unstable_ImmediatePriority,kv=i.unstable_UserBlockingPriority,Ui=i.unstable_NormalPriority,jp=i.unstable_IdlePriority,ic=null,Ta=null;function Hp(p){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(ic,p,void 0,(p.current.flags&128)===128)}catch{}}function Fv(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var Aa=typeof Object.is=="function"?Object.is:Fv,Bi=null,ho=!1,Za=!1;function Wp(p){Bi===null?Bi=[p]:Bi.push(p)}function Gp(p){ho=!0,Wp(p)}function ra(){if(!Za&&Bi!==null){Za=!0;var p=0,m=Jt;try{var E=Bi;for(Jt=1;p<E.length;p++){var C=E[p];do C=C(!0);while(C!==null)}Bi=null,ho=!1}catch(I){throw Bi!==null&&(Bi=Bi.slice(p+1)),Ho(rc,ra),I}finally{Jt=m,Za=!1}}return null}var ac=o.ReactCurrentBatchConfig;function sc(p,m){if(Aa(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var E=Object.keys(p),C=Object.keys(m);if(E.length!==C.length)return!1;for(C=0;C<E.length;C++){var I=E[C];if(!rn.call(m,I)||!Aa(p[I],m[I]))return!1}return!0}function oc(p){switch(p.tag){case 5:return ot(p.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 2:case 15:return p=Rt(p.type,!1),p;case 11:return p=Rt(p.type.render,!1),p;case 1:return p=Rt(p.type,!0),p;default:return""}}function zi(p,m){if(p&&p.defaultProps){m=a({},m),p=p.defaultProps;for(var E in p)m[E]===void 0&&(m[E]=p[E]);return m}return m}var Gr=Nt(null),qf=null,Cs=null,Hl=null;function Kf(){Hl=Cs=qf=null}function Uv(p,m,E){Se?(It(Gr,m._currentValue),m._currentValue=E):(It(Gr,m._currentValue2),m._currentValue2=E)}function Vr(p){var m=Gr.current;jt(Gr),Se?p._currentValue=m:p._currentValue2=m}function ji(p,m,E){for(;p!==null;){var C=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),p===E)break;p=p.return}}function fr(p,m){qf=p,Hl=Cs=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&m&&(Oa=!0),p.firstContext=null)}function hr(p){var m=Se?p._currentValue:p._currentValue2;if(Hl!==p)if(p={context:p,memoizedValue:m,next:null},Cs===null){if(qf===null)throw Error(s(308));Cs=p,qf.dependencies={lanes:0,firstContext:p}}else Cs=Cs.next=p;return m}var Ma=null,Wl=!1;function xb(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pR(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Wo(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function Gl(p,m){var E=p.updateQueue;E!==null&&(E=E.shared,br!==null&&p.mode&1&&!(qt&2)?(p=E.interleaved,p===null?(m.next=m,Ma===null?Ma=[E]:Ma.push(E)):(m.next=p.next,p.next=m),E.interleaved=m):(p=E.pending,p===null?m.next=m:(m.next=p.next,p.next=m),E.pending=m))}function Bv(p,m,E){if(m=m.updateQueue,m!==null&&(m=m.shared,(E&4194240)!==0)){var C=m.lanes;C&=p.pendingLanes,E|=C,m.lanes=E,fo(p,E)}}function mR(p,m){var E=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,E===C)){var I=null,j=null;if(E=E.firstBaseUpdate,E!==null){do{var he={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};j===null?I=j=he:j=j.next=he,E=E.next}while(E!==null);j===null?I=j=m:j=j.next=m}else I=j=m;E={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:j,shared:C.shared,effects:C.effects},p.updateQueue=E;return}p=E.lastBaseUpdate,p===null?E.firstBaseUpdate=m:p.next=m,E.lastBaseUpdate=m}function zv(p,m,E,C){var I=p.updateQueue;Wl=!1;var j=I.firstBaseUpdate,he=I.lastBaseUpdate,Ee=I.shared.pending;if(Ee!==null){I.shared.pending=null;var $e=Ee,ht=$e.next;$e.next=null,he===null?j=ht:he.next=ht,he=$e;var bt=p.alternate;bt!==null&&(bt=bt.updateQueue,Ee=bt.lastBaseUpdate,Ee!==he&&(Ee===null?bt.firstBaseUpdate=ht:Ee.next=ht,bt.lastBaseUpdate=$e))}if(j!==null){var Bt=I.baseState;he=0,bt=ht=$e=null,Ee=j;do{var Dt=Ee.lane,Cn=Ee.eventTime;if((C&Dt)===Dt){bt!==null&&(bt=bt.next={eventTime:Cn,lane:0,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null});e:{var Ot=p,xi=Ee;switch(Dt=m,Cn=E,xi.tag){case 1:if(Ot=xi.payload,typeof Ot=="function"){Bt=Ot.call(Cn,Bt,Dt);break e}Bt=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=xi.payload,Dt=typeof Ot=="function"?Ot.call(Cn,Bt,Dt):Ot,Dt==null)break e;Bt=a({},Bt,Dt);break e;case 2:Wl=!0}}Ee.callback!==null&&Ee.lane!==0&&(p.flags|=64,Dt=I.effects,Dt===null?I.effects=[Ee]:Dt.push(Ee))}else Cn={eventTime:Cn,lane:Dt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},bt===null?(ht=bt=Cn,$e=Bt):bt=bt.next=Cn,he|=Dt;if(Ee=Ee.next,Ee===null){if(Ee=I.shared.pending,Ee===null)break;Dt=Ee,Ee=Dt.next,Dt.next=null,I.lastBaseUpdate=Dt,I.shared.pending=null}}while(!0);if(bt===null&&($e=Bt),I.baseState=$e,I.firstBaseUpdate=ht,I.lastBaseUpdate=bt,m=I.shared.interleaved,m!==null){I=m;do he|=I.lane,I=I.next;while(I!==m)}else j===null&&(I.shared.lanes=0);ah|=he,p.lanes=he,p.memoizedState=Bt}}function gR(p,m,E){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var C=p[m],I=C.callback;if(I!==null){if(C.callback=null,C=E,typeof I!="function")throw Error(s(191,I));I.call(C)}}}var vR=new r.Component().refs;function _b(p,m,E,C){m=p.memoizedState,E=E(C,m),E=E==null?m:a({},m,E),p.memoizedState=E,p.lanes===0&&(p.updateQueue.baseState=E)}var jv={isMounted:function(p){return(p=p._reactInternals)?M(p)===p:!1},enqueueSetState:function(p,m,E){p=p._reactInternals;var C=Wi(),I=Xl(p),j=Wo(C,I);j.payload=m,E!=null&&(j.callback=E),Gl(p,j),m=ns(p,I,C),m!==null&&Bv(m,p,I)},enqueueReplaceState:function(p,m,E){p=p._reactInternals;var C=Wi(),I=Xl(p),j=Wo(C,I);j.tag=1,j.payload=m,E!=null&&(j.callback=E),Gl(p,j),m=ns(p,I,C),m!==null&&Bv(m,p,I)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var E=Wi(),C=Xl(p),I=Wo(E,C);I.tag=2,m!=null&&(I.callback=m),Gl(p,I),m=ns(p,C,E),m!==null&&Bv(m,p,C)}};function yR(p,m,E,C,I,j,he){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,j,he):m.prototype&&m.prototype.isPureReactComponent?!sc(E,C)||!sc(I,j):!0}function xR(p,m,E){var C=!1,I=pn,j=m.contextType;return typeof j=="object"&&j!==null?j=hr(j):(I=In(m)?na:nr.current,C=m.contextTypes,j=(C=C!=null)?En(p,I):pn),m=new m(E,j),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jv,p.stateNode=m,m._reactInternals=p,C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=I,p.__reactInternalMemoizedMaskedChildContext=j),m}function _R(p,m,E,C){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(E,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(E,C),m.state!==p&&jv.enqueueReplaceState(m,m.state,null)}function wb(p,m,E,C){var I=p.stateNode;I.props=E,I.state=p.memoizedState,I.refs=vR,xb(p);var j=m.contextType;typeof j=="object"&&j!==null?I.context=hr(j):(j=In(m)?na:nr.current,I.context=En(p,j)),I.state=p.memoizedState,j=m.getDerivedStateFromProps,typeof j=="function"&&(_b(p,m,j,E),I.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(m=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),m!==I.state&&jv.enqueueReplaceState(I,I.state,null),zv(p,E,I,C),I.state=p.memoizedState),typeof I.componentDidMount=="function"&&(p.flags|=4194308)}var Zf=[],Jf=0,Hv=null,Wv=0,Ja=[],Qa=0,lc=null,Go=1,Vo="";function uc(p,m){Zf[Jf++]=Wv,Zf[Jf++]=Hv,Hv=p,Wv=m}function wR(p,m,E){Ja[Qa++]=Go,Ja[Qa++]=Vo,Ja[Qa++]=lc,lc=p;var C=Go;p=Vo;var I=32-Ea(C)-1;C&=~(1<<I),E+=1;var j=32-Ea(m)+I;if(30<j){var he=I-I%5;j=(C&(1<<he)-1).toString(32),C>>=he,I-=he,Go=1<<32-Ea(m)+I|E<<I|C,Vo=j+p}else Go=1<<j|E<<I|C,Vo=p}function Sb(p){p.return!==null&&(uc(p,1),wR(p,1,0))}function bb(p){for(;p===Hv;)Hv=Zf[--Jf],Zf[Jf]=null,Wv=Zf[--Jf],Zf[Jf]=null;for(;p===lc;)lc=Ja[--Qa],Ja[Qa]=null,Vo=Ja[--Qa],Ja[Qa]=null,Go=Ja[--Qa],Ja[Qa]=null}var Ca=null,Pa=null,Vn=!1,Vp=!1,Ps=null;function SR(p,m){var E=rs(5,null,null,0);E.elementType="DELETED",E.stateNode=m,E.return=p,m=p.deletions,m===null?(p.deletions=[E],p.flags|=16):m.push(E)}function bR(p,m){switch(p.tag){case 5:return m=Gt(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,Ca=p,Pa=le(m),!0):!1;case 6:return m=Nn(m,p.pendingProps),m!==null?(p.stateNode=m,Ca=p,Pa=null,!0):!1;case 13:if(m=_r(m),m!==null){var E=lc!==null?{id:Go,overflow:Vo}:null;return p.memoizedState={dehydrated:m,treeContext:E,retryLane:1073741824},E=rs(18,null,null,0),E.stateNode=m,E.return=p,p.child=E,Ca=p,Pa=null,!0}return!1;default:return!1}}function Eb(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Tb(p){if(Vn){var m=Pa;if(m){var E=m;if(!bR(p,m)){if(Eb(p))throw Error(s(418));m=J(E);var C=Ca;m&&bR(p,m)?SR(C,E):(p.flags=p.flags&-4097|2,Vn=!1,Ca=p)}}else{if(Eb(p))throw Error(s(418));p.flags=p.flags&-4097|2,Vn=!1,Ca=p}}}function ER(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Ca=p}function $p(p){if(!Pe||p!==Ca)return!1;if(!Vn)return ER(p),Vn=!0,!1;if(p.tag!==3&&(p.tag!==5||Ge(p.type)&&!q(p.type,p.memoizedProps))){var m=Pa;if(m){if(Eb(p)){for(p=Pa;p;)p=J(p);throw Error(s(418))}for(;m;)SR(p,m),m=J(m)}}if(ER(p),p.tag===13){if(!Pe)throw Error(s(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));Pa=me(p)}else Pa=Ca?J(p.stateNode):null;return!0}function Qf(){Pe&&(Pa=Ca=null,Vp=Vn=!1)}function Ab(p){Ps===null?Ps=[p]:Ps.push(p)}function Xp(p,m,E){if(p=E.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(s(309));var C=E.stateNode}if(!C)throw Error(s(147,p));var I=C,j=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===j?m.ref:(m=function(he){var Ee=I.refs;Ee===vR&&(Ee=I.refs={}),he===null?delete Ee[j]:Ee[j]=he},m._stringRef=j,m)}if(typeof p!="string")throw Error(s(284));if(!E._owner)throw Error(s(290,p))}return p}function Gv(p,m){throw p=Object.prototype.toString.call(m),Error(s(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function TR(p){var m=p._init;return m(p._payload)}function AR(p){function m(ke,Ce){if(p){var We=ke.deletions;We===null?(ke.deletions=[Ce],ke.flags|=16):We.push(Ce)}}function E(ke,Ce){if(!p)return null;for(;Ce!==null;)m(ke,Ce),Ce=Ce.sibling;return null}function C(ke,Ce){for(ke=new Map;Ce!==null;)Ce.key!==null?ke.set(Ce.key,Ce):ke.set(Ce.index,Ce),Ce=Ce.sibling;return ke}function I(ke,Ce){return ke=ql(ke,Ce),ke.index=0,ke.sibling=null,ke}function j(ke,Ce,We){return ke.index=We,p?(We=ke.alternate,We!==null?(We=We.index,We<Ce?(ke.flags|=2,Ce):We):(ke.flags|=2,Ce)):(ke.flags|=1048576,Ce)}function he(ke){return p&&ke.alternate===null&&(ke.flags|=2),ke}function Ee(ke,Ce,We,xt){return Ce===null||Ce.tag!==6?(Ce=u2(We,ke.mode,xt),Ce.return=ke,Ce):(Ce=I(Ce,We),Ce.return=ke,Ce)}function $e(ke,Ce,We,xt){var Pt=We.type;return Pt===c?bt(ke,Ce,We.props.children,xt,We.key):Ce!==null&&(Ce.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===_&&TR(Pt)===Ce.type)?(xt=I(Ce,We.props),xt.ref=Xp(ke,Ce,We),xt.return=ke,xt):(xt=wy(We.type,We.key,We.props,null,ke.mode,xt),xt.ref=Xp(ke,Ce,We),xt.return=ke,xt)}function ht(ke,Ce,We,xt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==We.containerInfo||Ce.stateNode.implementation!==We.implementation?(Ce=c2(We,ke.mode,xt),Ce.return=ke,Ce):(Ce=I(Ce,We.children||[]),Ce.return=ke,Ce)}function bt(ke,Ce,We,xt,Pt){return Ce===null||Ce.tag!==7?(Ce=gc(We,ke.mode,xt,Pt),Ce.return=ke,Ce):(Ce=I(Ce,We),Ce.return=ke,Ce)}function Bt(ke,Ce,We){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=u2(""+Ce,ke.mode,We),Ce.return=ke,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return We=wy(Ce.type,Ce.key,Ce.props,null,ke.mode,We),We.ref=Xp(ke,null,Ce),We.return=ke,We;case u:return Ce=c2(Ce,ke.mode,We),Ce.return=ke,Ce;case _:var xt=Ce._init;return Bt(ke,xt(Ce._payload),We)}if(z(Ce)||T(Ce))return Ce=gc(Ce,ke.mode,We,null),Ce.return=ke,Ce;Gv(ke,Ce)}return null}function Dt(ke,Ce,We,xt){var Pt=Ce!==null?Ce.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Pt!==null?null:Ee(ke,Ce,""+We,xt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case l:return We.key===Pt?$e(ke,Ce,We,xt):null;case u:return We.key===Pt?ht(ke,Ce,We,xt):null;case _:return Pt=We._init,Dt(ke,Ce,Pt(We._payload),xt)}if(z(We)||T(We))return Pt!==null?null:bt(ke,Ce,We,xt,null);Gv(ke,We)}return null}function Cn(ke,Ce,We,xt,Pt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return ke=ke.get(We)||null,Ee(Ce,ke,""+xt,Pt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case l:return ke=ke.get(xt.key===null?We:xt.key)||null,$e(Ce,ke,xt,Pt);case u:return ke=ke.get(xt.key===null?We:xt.key)||null,ht(Ce,ke,xt,Pt);case _:var Xt=xt._init;return Cn(ke,Ce,We,Xt(xt._payload),Pt)}if(z(xt)||T(xt))return ke=ke.get(We)||null,bt(Ce,ke,xt,Pt,null);Gv(Ce,xt)}return null}function Ot(ke,Ce,We,xt){for(var Pt=null,Xt=null,zt=Ce,un=Ce=0,Xr=null;zt!==null&&un<We.length;un++){zt.index>un?(Xr=zt,zt=null):Xr=zt.sibling;var cn=Dt(ke,zt,We[un],xt);if(cn===null){zt===null&&(zt=Xr);break}p&&zt&&cn.alternate===null&&m(ke,zt),Ce=j(cn,Ce,un),Xt===null?Pt=cn:Xt.sibling=cn,Xt=cn,zt=Xr}if(un===We.length)return E(ke,zt),Vn&&uc(ke,un),Pt;if(zt===null){for(;un<We.length;un++)zt=Bt(ke,We[un],xt),zt!==null&&(Ce=j(zt,Ce,un),Xt===null?Pt=zt:Xt.sibling=zt,Xt=zt);return Vn&&uc(ke,un),Pt}for(zt=C(ke,zt);un<We.length;un++)Xr=Cn(zt,ke,un,We[un],xt),Xr!==null&&(p&&Xr.alternate!==null&&zt.delete(Xr.key===null?un:Xr.key),Ce=j(Xr,Ce,un),Xt===null?Pt=Xr:Xt.sibling=Xr,Xt=Xr);return p&&zt.forEach(function(Kl){return m(ke,Kl)}),Vn&&uc(ke,un),Pt}function xi(ke,Ce,We,xt){var Pt=T(We);if(typeof Pt!="function")throw Error(s(150));if(We=Pt.call(We),We==null)throw Error(s(151));for(var Xt=Pt=null,zt=Ce,un=Ce=0,Xr=null,cn=We.next();zt!==null&&!cn.done;un++,cn=We.next()){zt.index>un?(Xr=zt,zt=null):Xr=zt.sibling;var Kl=Dt(ke,zt,cn.value,xt);if(Kl===null){zt===null&&(zt=Xr);break}p&&zt&&Kl.alternate===null&&m(ke,zt),Ce=j(Kl,Ce,un),Xt===null?Pt=Kl:Xt.sibling=Kl,Xt=Kl,zt=Xr}if(cn.done)return E(ke,zt),Vn&&uc(ke,un),Pt;if(zt===null){for(;!cn.done;un++,cn=We.next())cn=Bt(ke,cn.value,xt),cn!==null&&(Ce=j(cn,Ce,un),Xt===null?Pt=cn:Xt.sibling=cn,Xt=cn);return Vn&&uc(ke,un),Pt}for(zt=C(ke,zt);!cn.done;un++,cn=We.next())cn=Cn(zt,ke,un,cn.value,xt),cn!==null&&(p&&cn.alternate!==null&&zt.delete(cn.key===null?un:cn.key),Ce=j(cn,Ce,un),Xt===null?Pt=cn:Xt.sibling=cn,Xt=cn);return p&&zt.forEach(function(S$){return m(ke,S$)}),Vn&&uc(ke,un),Pt}function is(ke,Ce,We,xt){if(typeof We=="object"&&We!==null&&We.type===c&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case l:e:{for(var Pt=We.key,Xt=Ce;Xt!==null;){if(Xt.key===Pt){if(Pt=We.type,Pt===c){if(Xt.tag===7){E(ke,Xt.sibling),Ce=I(Xt,We.props.children),Ce.return=ke,ke=Ce;break e}}else if(Xt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===_&&TR(Pt)===Xt.type){E(ke,Xt.sibling),Ce=I(Xt,We.props),Ce.ref=Xp(ke,Xt,We),Ce.return=ke,ke=Ce;break e}E(ke,Xt);break}else m(ke,Xt);Xt=Xt.sibling}We.type===c?(Ce=gc(We.props.children,ke.mode,xt,We.key),Ce.return=ke,ke=Ce):(xt=wy(We.type,We.key,We.props,null,ke.mode,xt),xt.ref=Xp(ke,Ce,We),xt.return=ke,ke=xt)}return he(ke);case u:e:{for(Xt=We.key;Ce!==null;){if(Ce.key===Xt)if(Ce.tag===4&&Ce.stateNode.containerInfo===We.containerInfo&&Ce.stateNode.implementation===We.implementation){E(ke,Ce.sibling),Ce=I(Ce,We.children||[]),Ce.return=ke,ke=Ce;break e}else{E(ke,Ce);break}else m(ke,Ce);Ce=Ce.sibling}Ce=c2(We,ke.mode,xt),Ce.return=ke,ke=Ce}return he(ke);case _:return Xt=We._init,is(ke,Ce,Xt(We._payload),xt)}if(z(We))return Ot(ke,Ce,We,xt);if(T(We))return xi(ke,Ce,We,xt);Gv(ke,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Ce!==null&&Ce.tag===6?(E(ke,Ce.sibling),Ce=I(Ce,We),Ce.return=ke,ke=Ce):(E(ke,Ce),Ce=u2(We,ke.mode,xt),Ce.return=ke,ke=Ce),he(ke)):E(ke,Ce)}return is}var eh=AR(!0),MR=AR(!1),Yp={},es=Nt(Yp),qp=Nt(Yp),th=Nt(Yp);function po(p){if(p===Yp)throw Error(s(174));return p}function Mb(p,m){It(th,m),It(qp,p),It(es,Yp),p=ee(m),jt(es),It(es,p)}function nh(){jt(es),jt(qp),jt(th)}function CR(p){var m=po(th.current),E=po(es.current);m=U(E,p.type,m),E!==m&&(It(qp,p),It(es,m))}function Cb(p){qp.current===p&&(jt(es),jt(qp))}var qn=Nt(0);function Vv(p){for(var m=p;m!==null;){if(m.tag===13){var E=m.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||Di(E)||wr(E)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Pb=[];function Ob(){for(var p=0;p<Pb.length;p++){var m=Pb[p];Se?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Pb.length=0}var $v=o.ReactCurrentDispatcher,ts=o.ReactCurrentBatchConfig,rh=0,rr=null,gi=null,$r=null,Xv=!1,Kp=!1,Zp=0,XV=0;function vi(){throw Error(s(321))}function Rb(p,m){if(m===null)return!1;for(var E=0;E<m.length&&E<p.length;E++)if(!Aa(p[E],m[E]))return!1;return!0}function Nb(p,m,E,C,I,j){if(rh=j,rr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,$v.current=p===null||p.memoizedState===null?ZV:JV,p=E(C,I),Kp){j=0;do{if(Kp=!1,Zp=0,25<=j)throw Error(s(301));j+=1,$r=gi=null,m.updateQueue=null,$v.current=QV,p=E(C,I)}while(Kp)}if($v.current=Jv,m=gi!==null&&gi.next!==null,rh=0,$r=gi=rr=null,Xv=!1,m)throw Error(s(300));return p}function Ib(){var p=Zp!==0;return Zp=0,p}function $o(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?rr.memoizedState=$r=p:$r=$r.next=p,$r}function mo(){if(gi===null){var p=rr.alternate;p=p!==null?p.memoizedState:null}else p=gi.next;var m=$r===null?rr.memoizedState:$r.next;if(m!==null)$r=m,gi=p;else{if(p===null)throw Error(s(310));gi=p,p={memoizedState:gi.memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},$r===null?rr.memoizedState=$r=p:$r=$r.next=p}return $r}function cc(p,m){return typeof m=="function"?m(p):m}function Yv(p){var m=mo(),E=m.queue;if(E===null)throw Error(s(311));E.lastRenderedReducer=p;var C=gi,I=C.baseQueue,j=E.pending;if(j!==null){if(I!==null){var he=I.next;I.next=j.next,j.next=he}C.baseQueue=I=j,E.pending=null}if(I!==null){j=I.next,C=C.baseState;var Ee=he=null,$e=null,ht=j;do{var bt=ht.lane;if((rh&bt)===bt)$e!==null&&($e=$e.next={lane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),C=ht.hasEagerState?ht.eagerState:p(C,ht.action);else{var Bt={lane:bt,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null};$e===null?(Ee=$e=Bt,he=C):$e=$e.next=Bt,rr.lanes|=bt,ah|=bt}ht=ht.next}while(ht!==null&&ht!==j);$e===null?he=C:$e.next=Ee,Aa(C,m.memoizedState)||(Oa=!0),m.memoizedState=C,m.baseState=he,m.baseQueue=$e,E.lastRenderedState=C}if(p=E.interleaved,p!==null){I=p;do j=I.lane,rr.lanes|=j,ah|=j,I=I.next;while(I!==p)}else I===null&&(E.lanes=0);return[m.memoizedState,E.dispatch]}function qv(p){var m=mo(),E=m.queue;if(E===null)throw Error(s(311));E.lastRenderedReducer=p;var C=E.dispatch,I=E.pending,j=m.memoizedState;if(I!==null){E.pending=null;var he=I=I.next;do j=p(j,he.action),he=he.next;while(he!==I);Aa(j,m.memoizedState)||(Oa=!0),m.memoizedState=j,m.baseQueue===null&&(m.baseState=j),E.lastRenderedState=j}return[j,C]}function PR(){}function OR(p,m){var E=rr,C=mo(),I=m(),j=!Aa(C.memoizedState,I);if(j&&(C.memoizedState=I,Oa=!0),C=C.queue,Qp(IR.bind(null,E,C,p),[p]),C.getSnapshot!==m||j||$r!==null&&$r.memoizedState.tag&1){if(E.flags|=2048,Jp(9,NR.bind(null,E,C,I,m),void 0,null),br===null)throw Error(s(349));rh&30||RR(E,m,I)}return I}function RR(p,m,E){p.flags|=16384,p={getSnapshot:m,value:E},m=rr.updateQueue,m===null?(m={lastEffect:null,stores:null},rr.updateQueue=m,m.stores=[p]):(E=m.stores,E===null?m.stores=[p]:E.push(p))}function NR(p,m,E,C){m.value=E,m.getSnapshot=C,LR(m)&&ns(p,1,-1)}function IR(p,m,E){return E(function(){LR(m)&&ns(p,1,-1)})}function LR(p){var m=p.getSnapshot;p=p.value;try{var E=m();return!Aa(p,E)}catch{return!0}}function Lb(p){var m=$o();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:p},m.queue=p,p=p.dispatch=KV.bind(null,rr,p),[m.memoizedState,p]}function Jp(p,m,E,C){return p={tag:p,create:m,destroy:E,deps:C,next:null},m=rr.updateQueue,m===null?(m={lastEffect:null,stores:null},rr.updateQueue=m,m.lastEffect=p.next=p):(E=m.lastEffect,E===null?m.lastEffect=p.next=p:(C=E.next,E.next=p,p.next=C,m.lastEffect=p)),p}function DR(){return mo().memoizedState}function Kv(p,m,E,C){var I=$o();rr.flags|=p,I.memoizedState=Jp(1|m,E,void 0,C===void 0?null:C)}function Zv(p,m,E,C){var I=mo();C=C===void 0?null:C;var j=void 0;if(gi!==null){var he=gi.memoizedState;if(j=he.destroy,C!==null&&Rb(C,he.deps)){I.memoizedState=Jp(m,E,j,C);return}}rr.flags|=p,I.memoizedState=Jp(1|m,E,j,C)}function Db(p,m){return Kv(8390656,8,p,m)}function Qp(p,m){return Zv(2048,8,p,m)}function kR(p,m){return Zv(4,2,p,m)}function FR(p,m){return Zv(4,4,p,m)}function UR(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function BR(p,m,E){return E=E!=null?E.concat([p]):null,Zv(4,4,UR.bind(null,m,p),E)}function kb(){}function zR(p,m){var E=mo();m=m===void 0?null:m;var C=E.memoizedState;return C!==null&&m!==null&&Rb(m,C[1])?C[0]:(E.memoizedState=[p,m],p)}function jR(p,m){var E=mo();m=m===void 0?null:m;var C=E.memoizedState;return C!==null&&m!==null&&Rb(m,C[1])?C[0]:(p=p(),E.memoizedState=[p,m],p)}function YV(p,m){var E=Jt;Jt=E!==0&&4>E?E:4,p(!0);var C=ts.transition;ts.transition={};try{p(!1),m()}finally{Jt=E,ts.transition=C}}function HR(){return mo().memoizedState}function qV(p,m,E){var C=Xl(p);E={lane:C,action:E,hasEagerState:!1,eagerState:null,next:null},WR(p)?GR(m,E):(VR(p,m,E),E=Wi(),p=ns(p,C,E),p!==null&&$R(p,m,C))}function KV(p,m,E){var C=Xl(p),I={lane:C,action:E,hasEagerState:!1,eagerState:null,next:null};if(WR(p))GR(m,I);else{VR(p,m,I);var j=p.alternate;if(p.lanes===0&&(j===null||j.lanes===0)&&(j=m.lastRenderedReducer,j!==null))try{var he=m.lastRenderedState,Ee=j(he,E);if(I.hasEagerState=!0,I.eagerState=Ee,Aa(Ee,he))return}catch{}finally{}E=Wi(),p=ns(p,C,E),p!==null&&$R(p,m,C)}}function WR(p){var m=p.alternate;return p===rr||m!==null&&m===rr}function GR(p,m){Kp=Xv=!0;var E=p.pending;E===null?m.next=m:(m.next=E.next,E.next=m),p.pending=m}function VR(p,m,E){br!==null&&p.mode&1&&!(qt&2)?(p=m.interleaved,p===null?(E.next=E,Ma===null?Ma=[m]:Ma.push(m)):(E.next=p.next,p.next=E),m.interleaved=E):(p=m.pending,p===null?E.next=E:(E.next=p.next,p.next=E),m.pending=E)}function $R(p,m,E){if(E&4194240){var C=m.lanes;C&=p.pendingLanes,E|=C,m.lanes=E,fo(p,E)}}var Jv={readContext:hr,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},ZV={readContext:hr,useCallback:function(p,m){return $o().memoizedState=[p,m===void 0?null:m],p},useContext:hr,useEffect:Db,useImperativeHandle:function(p,m,E){return E=E!=null?E.concat([p]):null,Kv(4194308,4,UR.bind(null,m,p),E)},useLayoutEffect:function(p,m){return Kv(4194308,4,p,m)},useInsertionEffect:function(p,m){return Kv(4,2,p,m)},useMemo:function(p,m){var E=$o();return m=m===void 0?null:m,p=p(),E.memoizedState=[p,m],p},useReducer:function(p,m,E){var C=$o();return m=E!==void 0?E(m):m,C.memoizedState=C.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},C.queue=p,p=p.dispatch=qV.bind(null,rr,p),[C.memoizedState,p]},useRef:function(p){var m=$o();return p={current:p},m.memoizedState=p},useState:Lb,useDebugValue:kb,useDeferredValue:function(p){var m=Lb(p),E=m[0],C=m[1];return Db(function(){var I=ts.transition;ts.transition={};try{C(p)}finally{ts.transition=I}},[p]),E},useTransition:function(){var p=Lb(!1),m=p[0];return p=YV.bind(null,p[1]),$o().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,E){var C=rr,I=$o();if(Vn){if(E===void 0)throw Error(s(407));E=E()}else{if(E=m(),br===null)throw Error(s(349));rh&30||RR(C,m,E)}I.memoizedState=E;var j={value:E,getSnapshot:m};return I.queue=j,Db(IR.bind(null,C,j,p),[p]),C.flags|=2048,Jp(9,NR.bind(null,C,j,E,m),void 0,null),E},useId:function(){var p=$o(),m=br.identifierPrefix;if(Vn){var E=Vo,C=Go;E=(C&~(1<<32-Ea(C)-1)).toString(32)+E,m=":"+m+"R"+E,E=Zp++,0<E&&(m+="H"+E.toString(32)),m+=":"}else E=XV++,m=":"+m+"r"+E.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},JV={readContext:hr,useCallback:zR,useContext:hr,useEffect:Qp,useImperativeHandle:BR,useInsertionEffect:kR,useLayoutEffect:FR,useMemo:jR,useReducer:Yv,useRef:DR,useState:function(){return Yv(cc)},useDebugValue:kb,useDeferredValue:function(p){var m=Yv(cc),E=m[0],C=m[1];return Qp(function(){var I=ts.transition;ts.transition={};try{C(p)}finally{ts.transition=I}},[p]),E},useTransition:function(){var p=Yv(cc)[0],m=mo().memoizedState;return[p,m]},useMutableSource:PR,useSyncExternalStore:OR,useId:HR,unstable_isNewReconciler:!1},QV={readContext:hr,useCallback:zR,useContext:hr,useEffect:Qp,useImperativeHandle:BR,useInsertionEffect:kR,useLayoutEffect:FR,useMemo:jR,useReducer:qv,useRef:DR,useState:function(){return qv(cc)},useDebugValue:kb,useDeferredValue:function(p){var m=qv(cc),E=m[0],C=m[1];return Qp(function(){var I=ts.transition;ts.transition={};try{C(p)}finally{ts.transition=I}},[p]),E},useTransition:function(){var p=qv(cc)[0],m=mo().memoizedState;return[p,m]},useMutableSource:PR,useSyncExternalStore:OR,useId:HR,unstable_isNewReconciler:!1};function Fb(p,m){try{var E="",C=m;do E+=oc(C),C=C.return;while(C);var I=E}catch(j){I=`
Error generating stack: `+j.message+`
`+j.stack}return{value:p,source:m,stack:I}}function Ub(p,m){try{console.error(m.value)}catch(E){setTimeout(function(){throw E})}}var e$=typeof WeakMap=="function"?WeakMap:Map;function XR(p,m,E){E=Wo(-1,E),E.tag=3,E.payload={element:null};var C=m.value;return E.callback=function(){py||(py=!0,n2=C),Ub(p,m)},E}function YR(p,m,E){E=Wo(-1,E),E.tag=3;var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var I=m.value;E.payload=function(){return C(I)},E.callback=function(){Ub(p,m)}}var j=p.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(E.callback=function(){Ub(p,m),typeof C!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var he=m.stack;this.componentDidCatch(m.value,{componentStack:he!==null?he:""})}),E}function qR(p,m,E){var C=p.pingCache;if(C===null){C=p.pingCache=new e$;var I=new Set;C.set(m,I)}else I=C.get(m),I===void 0&&(I=new Set,C.set(m,I));I.has(E)||(I.add(E),p=p$.bind(null,p,m,E),m.then(p,p))}function KR(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function ZR(p,m,E,C,I){return p.mode&1?(p.flags|=65536,p.lanes=I,p):(p===m?p.flags|=65536:(p.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(m=Wo(-1,1),m.tag=2,Gl(E,m))),E.lanes|=1),p)}function go(p){p.flags|=4}function JR(p,m){if(p!==null&&p.child===m.child)return!0;if(m.flags&16)return!1;for(p=m.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var e0,t0,Qv,ey;if(we)e0=function(p,m){for(var E=m.child;E!==null;){if(E.tag===5||E.tag===6)N(p,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===m)break;for(;E.sibling===null;){if(E.return===null||E.return===m)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},t0=function(){},Qv=function(p,m,E,C,I){if(p=p.memoizedProps,p!==C){var j=m.stateNode,he=po(es.current);E=Y(j,E,p,C,I,he),(m.updateQueue=E)&&go(m)}},ey=function(p,m,E,C){E!==C&&go(m)};else if(W){e0=function(p,m,E,C){for(var I=m.child;I!==null;){if(I.tag===5){var j=I.stateNode;E&&C&&(j=Tt(j,I.type,I.memoizedProps,I)),N(p,j)}else if(I.tag===6)j=I.stateNode,E&&C&&(j=Qt(j,I.memoizedProps,I)),N(p,j);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)j=I.child,j!==null&&(j.return=I),e0(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var QR=function(p,m,E,C){for(var I=m.child;I!==null;){if(I.tag===5){var j=I.stateNode;E&&C&&(j=Tt(j,I.type,I.memoizedProps,I)),Mt(p,j)}else if(I.tag===6)j=I.stateNode,E&&C&&(j=Qt(j,I.memoizedProps,I)),Mt(p,j);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)j=I.child,j!==null&&(j.return=I),QR(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};t0=function(p,m){var E=m.stateNode;if(!JR(p,m)){p=E.containerInfo;var C=vt(p);QR(C,m,!1,!1),E.pendingChildren=C,go(m),Ct(p,C)}},Qv=function(p,m,E,C,I){var j=p.stateNode,he=p.memoizedProps;if((p=JR(p,m))&&he===C)m.stateNode=j;else{var Ee=m.stateNode,$e=po(es.current),ht=null;he!==C&&(ht=Y(Ee,E,he,C,I,$e)),p&&ht===null?m.stateNode=j:(j=nt(j,ht,E,he,C,m,p,Ee),V(j,E,C,I,$e)&&go(m),m.stateNode=j,p?go(m):e0(j,m,!1,!1))}},ey=function(p,m,E,C){E!==C?(p=po(th.current),E=po(es.current),m.stateNode=ae(C,p,E,m),go(m)):m.stateNode=p.stateNode}}else t0=function(){},Qv=function(){},ey=function(){};function n0(p,m){if(!Vn)switch(p.tailMode){case"hidden":m=p.tail;for(var E=null;m!==null;)m.alternate!==null&&(E=m),m=m.sibling;E===null?p.tail=null:E.sibling=null;break;case"collapsed":E=p.tail;for(var C=null;E!==null;)E.alternate!==null&&(C=E),E=E.sibling;C===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function yi(p){var m=p.alternate!==null&&p.alternate.child===p.child,E=0,C=0;if(m)for(var I=p.child;I!==null;)E|=I.lanes|I.childLanes,C|=I.subtreeFlags&14680064,C|=I.flags&14680064,I.return=p,I=I.sibling;else for(I=p.child;I!==null;)E|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=p,I=I.sibling;return p.subtreeFlags|=C,p.childLanes=E,m}function t$(p,m,E){var C=m.pendingProps;switch(bb(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(m),null;case 1:return In(m.type)&&Fi(),yi(m),null;case 3:return C=m.stateNode,nh(),jt(Gn),jt(nr),Ob(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(p===null||p.child===null)&&($p(m)?go(m):p===null||p.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,Ps!==null&&(a2(Ps),Ps=null))),t0(p,m),yi(m),null;case 5:Cb(m),E=po(th.current);var I=m.type;if(p!==null&&m.stateNode!=null)Qv(p,m,I,C,E),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!C){if(m.stateNode===null)throw Error(s(166));return yi(m),null}if(p=po(es.current),$p(m)){if(!Pe)throw Error(s(175));p=ue(m.stateNode,m.type,m.memoizedProps,E,p,m,!Vp),m.updateQueue=p,p!==null&&go(m)}else{var j=F(I,C,E,p,m);e0(j,m,!1,!1),m.stateNode=j,V(j,I,C,E,p)&&go(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return yi(m),null;case 6:if(p&&m.stateNode!=null)ey(p,m,p.memoizedProps,C);else{if(typeof C!="string"&&m.stateNode===null)throw Error(s(166));if(p=po(th.current),E=po(es.current),$p(m)){if(!Pe)throw Error(s(176));if(p=m.stateNode,C=m.memoizedProps,(E=k(p,C,m,!Vp))&&(I=Ca,I!==null))switch(j=(I.mode&1)!==0,I.tag){case 3:et(I.stateNode.containerInfo,p,C,j);break;case 5:Ve(I.type,I.memoizedProps,I.stateNode,p,C,j)}E&&go(m)}else m.stateNode=ae(C,p,E,m)}return yi(m),null;case 13:if(jt(qn),C=m.memoizedState,Vn&&Pa!==null&&m.mode&1&&!(m.flags&128)){for(p=Pa;p;)p=J(p);return Qf(),m.flags|=98560,m}if(C!==null&&C.dehydrated!==null){if(C=$p(m),p===null){if(!C)throw Error(s(318));if(!Pe)throw Error(s(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));re(p,m)}else Qf(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return yi(m),null}return Ps!==null&&(a2(Ps),Ps=null),m.flags&128?(m.lanes=E,m):(C=C!==null,E=!1,p===null?$p(m):E=p.memoizedState!==null,C&&!E&&(m.child.flags|=8192,m.mode&1&&(p===null||qn.current&1?Ir===0&&(Ir=3):o2())),m.updateQueue!==null&&(m.flags|=4),yi(m),null);case 4:return nh(),t0(p,m),p===null&&Ie(m.stateNode.containerInfo),yi(m),null;case 10:return Vr(m.type._context),yi(m),null;case 17:return In(m.type)&&Fi(),yi(m),null;case 19:if(jt(qn),I=m.memoizedState,I===null)return yi(m),null;if(C=(m.flags&128)!==0,j=I.rendering,j===null)if(C)n0(I,!1);else{if(Ir!==0||p!==null&&p.flags&128)for(p=m.child;p!==null;){if(j=Vv(p),j!==null){for(m.flags|=128,n0(I,!1),p=j.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=E,C=m.child;C!==null;)E=C,I=p,E.flags&=14680066,j=E.alternate,j===null?(E.childLanes=0,E.lanes=I,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=j.childLanes,E.lanes=j.lanes,E.child=j.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=j.memoizedProps,E.memoizedState=j.memoizedState,E.updateQueue=j.updateQueue,E.type=j.type,I=j.dependencies,E.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),C=C.sibling;return It(qn,qn.current&1|2),m.child}p=p.sibling}I.tail!==null&&Yn()>t2&&(m.flags|=128,C=!0,n0(I,!1),m.lanes=4194304)}else{if(!C)if(p=Vv(j),p!==null){if(m.flags|=128,C=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),n0(I,!0),I.tail===null&&I.tailMode==="hidden"&&!j.alternate&&!Vn)return yi(m),null}else 2*Yn()-I.renderingStartTime>t2&&E!==1073741824&&(m.flags|=128,C=!0,n0(I,!1),m.lanes=4194304);I.isBackwards?(j.sibling=m.child,m.child=j):(p=I.last,p!==null?p.sibling=j:m.child=j,I.last=j)}return I.tail!==null?(m=I.tail,I.rendering=m,I.tail=m.sibling,I.renderingStartTime=Yn(),m.sibling=null,p=qn.current,It(qn,C?p&1|2:p&1),m):(yi(m),null);case 22:case 23:return s2(),C=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==C&&(m.flags|=8192),C&&m.mode&1?Ra&1073741824&&(yi(m),we&&m.subtreeFlags&6&&(m.flags|=8192)):yi(m),null;case 24:return null;case 25:return null}throw Error(s(156,m.tag))}var n$=o.ReactCurrentOwner,Oa=!1;function Hi(p,m,E,C){m.child=p===null?MR(m,null,E,C):eh(m,p.child,E,C)}function eN(p,m,E,C,I){E=E.render;var j=m.ref;return fr(m,I),C=Nb(p,m,E,C,j,I),E=Ib(),p!==null&&!Oa?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~I,Xo(p,m,I)):(Vn&&E&&Sb(m),m.flags|=1,Hi(p,m,C,I),m.child)}function tN(p,m,E,C,I){if(p===null){var j=E.type;return typeof j=="function"&&!l2(j)&&j.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(m.tag=15,m.type=j,nN(p,m,j,C,I)):(p=wy(E.type,null,C,m,m.mode,I),p.ref=m.ref,p.return=m,m.child=p)}if(j=p.child,!(p.lanes&I)){var he=j.memoizedProps;if(E=E.compare,E=E!==null?E:sc,E(he,C)&&p.ref===m.ref)return Xo(p,m,I)}return m.flags|=1,p=ql(j,C),p.ref=m.ref,p.return=m,m.child=p}function nN(p,m,E,C,I){if(p!==null&&sc(p.memoizedProps,C)&&p.ref===m.ref)if(Oa=!1,(p.lanes&I)!==0)p.flags&131072&&(Oa=!0);else return m.lanes=p.lanes,Xo(p,m,I);return Bb(p,m,E,C,I)}function rN(p,m,E){var C=m.pendingProps,I=C.children,j=p!==null?p.memoizedState:null;if(C.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},It(ih,Ra),Ra|=E;else if(E&1073741824)m.memoizedState={baseLanes:0,cachePool:null},C=j!==null?j.baseLanes:E,It(ih,Ra),Ra|=C;else return p=j!==null?j.baseLanes|E:E,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,It(ih,Ra),Ra|=p,null;else j!==null?(C=j.baseLanes|E,m.memoizedState=null):C=E,It(ih,Ra),Ra|=C;return Hi(p,m,I,E),m.child}function iN(p,m){var E=m.ref;(p===null&&E!==null||p!==null&&p.ref!==E)&&(m.flags|=512,m.flags|=2097152)}function Bb(p,m,E,C,I){var j=In(E)?na:nr.current;return j=En(m,j),fr(m,I),E=Nb(p,m,E,C,j,I),C=Ib(),p!==null&&!Oa?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~I,Xo(p,m,I)):(Vn&&C&&Sb(m),m.flags|=1,Hi(p,m,E,I),m.child)}function aN(p,m,E,C,I){if(In(E)){var j=!0;uo(m)}else j=!1;if(fr(m,I),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),xR(m,E,C),wb(m,E,C,I),C=!0;else if(p===null){var he=m.stateNode,Ee=m.memoizedProps;he.props=Ee;var $e=he.context,ht=E.contextType;typeof ht=="object"&&ht!==null?ht=hr(ht):(ht=In(E)?na:nr.current,ht=En(m,ht));var bt=E.getDerivedStateFromProps,Bt=typeof bt=="function"||typeof he.getSnapshotBeforeUpdate=="function";Bt||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(Ee!==C||$e!==ht)&&_R(m,he,C,ht),Wl=!1;var Dt=m.memoizedState;he.state=Dt,zv(m,C,he,I),$e=m.memoizedState,Ee!==C||Dt!==$e||Gn.current||Wl?(typeof bt=="function"&&(_b(m,E,bt,C),$e=m.memoizedState),(Ee=Wl||yR(m,E,Ee,C,Dt,$e,ht))?(Bt||typeof he.UNSAFE_componentWillMount!="function"&&typeof he.componentWillMount!="function"||(typeof he.componentWillMount=="function"&&he.componentWillMount(),typeof he.UNSAFE_componentWillMount=="function"&&he.UNSAFE_componentWillMount()),typeof he.componentDidMount=="function"&&(m.flags|=4194308)):(typeof he.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=$e),he.props=C,he.state=$e,he.context=ht,C=Ee):(typeof he.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{he=m.stateNode,pR(p,m),Ee=m.memoizedProps,ht=m.type===m.elementType?Ee:zi(m.type,Ee),he.props=ht,Bt=m.pendingProps,Dt=he.context,$e=E.contextType,typeof $e=="object"&&$e!==null?$e=hr($e):($e=In(E)?na:nr.current,$e=En(m,$e));var Cn=E.getDerivedStateFromProps;(bt=typeof Cn=="function"||typeof he.getSnapshotBeforeUpdate=="function")||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(Ee!==Bt||Dt!==$e)&&_R(m,he,C,$e),Wl=!1,Dt=m.memoizedState,he.state=Dt,zv(m,C,he,I);var Ot=m.memoizedState;Ee!==Bt||Dt!==Ot||Gn.current||Wl?(typeof Cn=="function"&&(_b(m,E,Cn,C),Ot=m.memoizedState),(ht=Wl||yR(m,E,ht,C,Dt,Ot,$e)||!1)?(bt||typeof he.UNSAFE_componentWillUpdate!="function"&&typeof he.componentWillUpdate!="function"||(typeof he.componentWillUpdate=="function"&&he.componentWillUpdate(C,Ot,$e),typeof he.UNSAFE_componentWillUpdate=="function"&&he.UNSAFE_componentWillUpdate(C,Ot,$e)),typeof he.componentDidUpdate=="function"&&(m.flags|=4),typeof he.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof he.componentDidUpdate!="function"||Ee===p.memoizedProps&&Dt===p.memoizedState||(m.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||Ee===p.memoizedProps&&Dt===p.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=Ot),he.props=C,he.state=Ot,he.context=$e,C=ht):(typeof he.componentDidUpdate!="function"||Ee===p.memoizedProps&&Dt===p.memoizedState||(m.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||Ee===p.memoizedProps&&Dt===p.memoizedState||(m.flags|=1024),C=!1)}return zb(p,m,E,C,j,I)}function zb(p,m,E,C,I,j){iN(p,m);var he=(m.flags&128)!==0;if(!C&&!he)return I&&mi(m,E,!1),Xo(p,m,j);C=m.stateNode,n$.current=m;var Ee=he&&typeof E.getDerivedStateFromError!="function"?null:C.render();return m.flags|=1,p!==null&&he?(m.child=eh(m,p.child,null,j),m.child=eh(m,null,Ee,j)):Hi(p,m,Ee,j),m.memoizedState=C.state,I&&mi(m,E,!0),m.child}function sN(p){var m=p.stateNode;m.pendingContext?Sr(p,m.pendingContext,m.pendingContext!==m.context):m.context&&Sr(p,m.context,!1),Mb(p,m.containerInfo)}function oN(p,m,E,C,I){return Qf(),Ab(I),m.flags|=256,Hi(p,m,E,C),m.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ny(p){return{baseLanes:p,cachePool:null}}function lN(p,m,E){var C=m.pendingProps,I=qn.current,j=!1,he=(m.flags&128)!==0,Ee;if((Ee=he)||(Ee=p!==null&&p.memoizedState===null?!1:(I&2)!==0),Ee?(j=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(I|=1),It(qn,I&1),p===null)return Tb(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(m.mode&1?wr(p)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(I=C.children,p=C.fallback,j?(C=m.mode,j=m.child,I={mode:"hidden",children:I},!(C&1)&&j!==null?(j.childLanes=0,j.pendingProps=I):j=Sy(I,C,0,null),p=gc(p,C,E,null),j.return=m,p.return=m,j.sibling=p,m.child=j,m.child.memoizedState=ny(E),m.memoizedState=ty,p):jb(m,I));if(I=p.memoizedState,I!==null){if(Ee=I.dehydrated,Ee!==null){if(he)return m.flags&256?(m.flags&=-257,ry(p,m,E,Error(s(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(j=C.fallback,I=m.mode,C=Sy({mode:"visible",children:C.children},I,0,null),j=gc(j,I,E,null),j.flags|=2,C.return=m,j.return=m,C.sibling=j,m.child=C,m.mode&1&&eh(m,p.child,null,E),m.child.memoizedState=ny(E),m.memoizedState=ty,j);if(!(m.mode&1))m=ry(p,m,E,null);else if(wr(Ee))m=ry(p,m,E,Error(s(419)));else if(C=(E&p.childLanes)!==0,Oa||C){if(C=br,C!==null){switch(E&-E){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}C=j&(C.suspendedLanes|E)?0:j,C!==0&&C!==I.retryLane&&(I.retryLane=C,ns(p,C,-1))}o2(),m=ry(p,m,E,Error(s(421)))}else Di(Ee)?(m.flags|=128,m.child=p.child,m=m$.bind(null,p),ki(Ee,m),m=null):(E=I.treeContext,Pe&&(Pa=ie(Ee),Ca=m,Vn=!0,Ps=null,Vp=!1,E!==null&&(Ja[Qa++]=Go,Ja[Qa++]=Vo,Ja[Qa++]=lc,Go=E.id,Vo=E.overflow,lc=m)),m=jb(m,m.pendingProps.children),m.flags|=4096);return m}return j?(C=cN(p,m,C.children,C.fallback,E),j=m.child,I=p.child.memoizedState,j.memoizedState=I===null?ny(E):{baseLanes:I.baseLanes|E,cachePool:null},j.childLanes=p.childLanes&~E,m.memoizedState=ty,C):(E=uN(p,m,C.children,E),m.memoizedState=null,E)}return j?(C=cN(p,m,C.children,C.fallback,E),j=m.child,I=p.child.memoizedState,j.memoizedState=I===null?ny(E):{baseLanes:I.baseLanes|E,cachePool:null},j.childLanes=p.childLanes&~E,m.memoizedState=ty,C):(E=uN(p,m,C.children,E),m.memoizedState=null,E)}function jb(p,m){return m=Sy({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function uN(p,m,E,C){var I=p.child;return p=I.sibling,E=ql(I,{mode:"visible",children:E}),!(m.mode&1)&&(E.lanes=C),E.return=m,E.sibling=null,p!==null&&(C=m.deletions,C===null?(m.deletions=[p],m.flags|=16):C.push(p)),m.child=E}function cN(p,m,E,C,I){var j=m.mode;p=p.child;var he=p.sibling,Ee={mode:"hidden",children:E};return!(j&1)&&m.child!==p?(E=m.child,E.childLanes=0,E.pendingProps=Ee,m.deletions=null):(E=ql(p,Ee),E.subtreeFlags=p.subtreeFlags&14680064),he!==null?C=ql(he,C):(C=gc(C,j,I,null),C.flags|=2),C.return=m,E.return=m,E.sibling=C,m.child=E,C}function ry(p,m,E,C){return C!==null&&Ab(C),eh(m,p.child,null,E),p=jb(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function fN(p,m,E){p.lanes|=m;var C=p.alternate;C!==null&&(C.lanes|=m),ji(p.return,m,E)}function Hb(p,m,E,C,I){var j=p.memoizedState;j===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:E,tailMode:I}:(j.isBackwards=m,j.rendering=null,j.renderingStartTime=0,j.last=C,j.tail=E,j.tailMode=I)}function hN(p,m,E){var C=m.pendingProps,I=C.revealOrder,j=C.tail;if(Hi(p,m,C.children,E),C=qn.current,C&2)C=C&1|2,m.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&fN(p,E,m);else if(p.tag===19)fN(p,E,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}C&=1}if(It(qn,C),!(m.mode&1))m.memoizedState=null;else switch(I){case"forwards":for(E=m.child,I=null;E!==null;)p=E.alternate,p!==null&&Vv(p)===null&&(I=E),E=E.sibling;E=I,E===null?(I=m.child,m.child=null):(I=E.sibling,E.sibling=null),Hb(m,!1,I,E,j);break;case"backwards":for(E=null,I=m.child,m.child=null;I!==null;){if(p=I.alternate,p!==null&&Vv(p)===null){m.child=I;break}p=I.sibling,I.sibling=E,E=I,I=p}Hb(m,!0,E,null,j);break;case"together":Hb(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Xo(p,m,E){if(p!==null&&(m.dependencies=p.dependencies),ah|=m.lanes,!(E&m.childLanes))return null;if(p!==null&&m.child!==p.child)throw Error(s(153));if(m.child!==null){for(p=m.child,E=ql(p,p.pendingProps),m.child=E,E.return=m;p.sibling!==null;)p=p.sibling,E=E.sibling=ql(p,p.pendingProps),E.return=m;E.sibling=null}return m.child}function r$(p,m,E){switch(m.tag){case 3:sN(m),Qf();break;case 5:CR(m);break;case 1:In(m.type)&&uo(m);break;case 4:Mb(m,m.stateNode.containerInfo);break;case 10:Uv(m,m.type._context,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(It(qn,qn.current&1),m.flags|=128,null):E&m.child.childLanes?lN(p,m,E):(It(qn,qn.current&1),p=Xo(p,m,E),p!==null?p.sibling:null);It(qn,qn.current&1);break;case 19:if(C=(E&m.childLanes)!==0,p.flags&128){if(C)return hN(p,m,E);m.flags|=128}var I=m.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),It(qn,qn.current),C)break;return null;case 22:case 23:return m.lanes=0,rN(p,m,E)}return Xo(p,m,E)}function i$(p,m){switch(bb(m),m.tag){case 1:return In(m.type)&&Fi(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return nh(),jt(Gn),jt(nr),Ob(),p=m.flags,p&65536&&!(p&128)?(m.flags=p&-65537|128,m):null;case 5:return Cb(m),null;case 13:if(jt(qn),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(s(340));Qf()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return jt(qn),null;case 4:return nh(),null;case 10:return Vr(m.type._context),null;case 22:case 23:return s2(),null;case 24:return null;default:return null}}var iy=!1,fc=!1,a$=typeof WeakSet=="function"?WeakSet:Set,yt=null;function ay(p,m){var E=p.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(C){sa(p,m,C)}else E.current=null}function Wb(p,m,E){try{E()}catch(C){sa(p,m,C)}}var dN=!1;function s$(p,m){for(H(p.containerInfo),yt=m;yt!==null;)if(p=yt,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,yt=m;else for(;yt!==null;){p=yt;try{var E=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,I=E.memoizedState,j=p.stateNode,he=j.getSnapshotBeforeUpdate(p.elementType===p.type?C:zi(p.type,C),I);j.__reactInternalSnapshotBeforeUpdate=he}break;case 3:we&&st(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ee){sa(p,p.return,Ee)}if(m=p.sibling,m!==null){m.return=p.return,yt=m;break}yt=p.return}return E=dN,dN=!1,E}function hc(p,m,E){var C=m.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var I=C=C.next;do{if((I.tag&p)===p){var j=I.destroy;I.destroy=void 0,j!==void 0&&Wb(m,E,j)}I=I.next}while(I!==C)}}function r0(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var E=m=m.next;do{if((E.tag&p)===p){var C=E.create;E.destroy=C()}E=E.next}while(E!==m)}}function Gb(p){var m=p.ref;if(m!==null){var E=p.stateNode;switch(p.tag){case 5:p=Z(E);break;default:p=E}typeof m=="function"?m(p):m.current=p}}function pN(p,m,E){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(ic,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var C=p=p.next;do{var I=C,j=I.destroy;I=I.tag,j!==void 0&&(I&2||I&4)&&Wb(m,E,j),C=C.next}while(C!==p)}break;case 1:if(ay(m,E),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(he){sa(m,E,he)}break;case 5:ay(m,E);break;case 4:we?_N(p,m,E):W&&W&&(m=m.stateNode.containerInfo,E=vt(m),Et(m,E))}}function mN(p,m,E){for(var C=m;;)if(pN(p,C,E),C.child===null||we&&C.tag===4){if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function gN(p){var m=p.alternate;m!==null&&(p.alternate=null,gN(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&Ae(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function vN(p){return p.tag===5||p.tag===3||p.tag===4}function yN(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||vN(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function xN(p){if(we){e:{for(var m=p.return;m!==null;){if(vN(m))break e;m=m.return}throw Error(s(160))}var E=m;switch(E.tag){case 5:m=E.stateNode,E.flags&32&&(Be(m),E.flags&=-33),E=yN(p),$b(p,E,m);break;case 3:case 4:m=E.stateNode.containerInfo,E=yN(p),Vb(p,E,m);break;default:throw Error(s(161))}}}function Vb(p,m,E){var C=p.tag;if(C===5||C===6)p=p.stateNode,m?it(E,p,m):tt(E,p);else if(C!==4&&(p=p.child,p!==null))for(Vb(p,m,E),p=p.sibling;p!==null;)Vb(p,m,E),p=p.sibling}function $b(p,m,E){var C=p.tag;if(C===5||C===6)p=p.stateNode,m?at(E,p,m):Fe(E,p);else if(C!==4&&(p=p.child,p!==null))for($b(p,m,E),p=p.sibling;p!==null;)$b(p,m,E),p=p.sibling}function _N(p,m,E){for(var C=m,I=!1,j,he;;){if(!I){I=C.return;e:for(;;){if(I===null)throw Error(s(160));switch(j=I.stateNode,I.tag){case 5:he=!1;break e;case 3:j=j.containerInfo,he=!0;break e;case 4:j=j.containerInfo,he=!0;break e}I=I.return}I=!0}if(C.tag===5||C.tag===6)mN(p,C,E),he?ce(j,C.stateNode):Xe(j,C.stateNode);else if(C.tag===18)he?Ue(j,C.stateNode):_e(j,C.stateNode);else if(C.tag===4){if(C.child!==null){j=C.stateNode.containerInfo,he=!0,C.child.return=C,C=C.child;continue}}else if(pN(p,C,E),C.child!==null){C.child.return=C,C=C.child;continue}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return,C.tag===4&&(I=!1)}C.sibling.return=C.return,C=C.sibling}}function Xb(p,m){if(we){switch(m.tag){case 0:case 11:case 14:case 15:hc(3,m,m.return),r0(3,m),hc(5,m,m.return);return;case 1:return;case 5:var E=m.stateNode;if(E!=null){var C=m.memoizedProps;p=p!==null?p.memoizedProps:C;var I=m.type,j=m.updateQueue;m.updateQueue=null,j!==null&&ft(E,j,I,p,C,m)}return;case 6:if(m.stateNode===null)throw Error(s(162));E=m.memoizedProps,Ke(m.stateNode,p!==null?p.memoizedProps:E,E);return;case 3:Pe&&p!==null&&p.memoizedState.isDehydrated&&ne(m.stateNode.containerInfo);return;case 12:return;case 13:sy(m);return;case 19:sy(m);return;case 17:return}throw Error(s(163))}switch(m.tag){case 0:case 11:case 14:case 15:hc(3,m,m.return),r0(3,m),hc(5,m,m.return);return;case 12:return;case 13:sy(m);return;case 19:sy(m);return;case 3:Pe&&p!==null&&p.memoizedState.isDehydrated&&ne(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(W){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Et(m.containerInfo,m.pendingChildren);break e}throw Error(s(163))}}function sy(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var E=p.stateNode;E===null&&(E=p.stateNode=new a$),m.forEach(function(C){var I=g$.bind(null,p,C);E.has(C)||(E.add(C),C.then(I,I))})}}function o$(p,m){for(yt=m;yt!==null;){m=yt;var E=m.deletions;if(E!==null)for(var C=0;C<E.length;C++){var I=E[C];try{var j=p;we?_N(j,I,m):mN(j,I,m);var he=I.alternate;he!==null&&(he.return=null),I.return=null}catch(Pt){sa(I,m,Pt)}}if(E=m.child,m.subtreeFlags&12854&&E!==null)E.return=m,yt=E;else for(;yt!==null;){m=yt;try{var Ee=m.flags;if(Ee&32&&we&&Be(m.stateNode),Ee&512){var $e=m.alternate;if($e!==null){var ht=$e.ref;ht!==null&&(typeof ht=="function"?ht(null):ht.current=null)}}if(Ee&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var bt=m.alternate;(bt===null||bt.memoizedState===null)&&(e2=Yn())}break;case 22:var Bt=m.memoizedState!==null,Dt=m.alternate,Cn=Dt!==null&&Dt.memoizedState!==null;if(E=m,we){e:if(C=E,I=Bt,j=null,we)for(var Ot=C;;){if(Ot.tag===5){if(j===null){j=Ot;var xi=Ot.stateNode;I?ut(xi):ze(Ot.stateNode,Ot.memoizedProps)}}else if(Ot.tag===6){if(j===null){var is=Ot.stateNode;I?de(is):Oe(is,Ot.memoizedProps)}}else if((Ot.tag!==22&&Ot.tag!==23||Ot.memoizedState===null||Ot===C)&&Ot.child!==null){Ot.child.return=Ot,Ot=Ot.child;continue}if(Ot===C)break;for(;Ot.sibling===null;){if(Ot.return===null||Ot.return===C)break e;j===Ot&&(j=null),Ot=Ot.return}j===Ot&&(j=null),Ot.sibling.return=Ot.return,Ot=Ot.sibling}}if(Bt&&!Cn&&E.mode&1){yt=E;for(var ke=E.child;ke!==null;){for(E=yt=ke;yt!==null;){C=yt;var Ce=C.child;switch(C.tag){case 0:case 11:case 14:case 15:hc(4,C,C.return);break;case 1:ay(C,C.return);var We=C.stateNode;if(typeof We.componentWillUnmount=="function"){var xt=C.return;try{We.props=C.memoizedProps,We.state=C.memoizedState,We.componentWillUnmount()}catch(Pt){sa(C,xt,Pt)}}break;case 5:ay(C,C.return);break;case 22:if(C.memoizedState!==null){bN(E);continue}}Ce!==null?(Ce.return=C,yt=Ce):bN(E)}ke=ke.sibling}}}switch(Ee&4102){case 2:xN(m),m.flags&=-3;break;case 6:xN(m),m.flags&=-3,Xb(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,Xb(m.alternate,m);break;case 4:Xb(m.alternate,m)}}catch(Pt){sa(m,m.return,Pt)}if(E=m.sibling,E!==null){E.return=m.return,yt=E;break}yt=m.return}}}function l$(p,m,E){yt=p,wN(p)}function wN(p,m,E){for(var C=(p.mode&1)!==0;yt!==null;){var I=yt,j=I.child;if(I.tag===22&&C){var he=I.memoizedState!==null||iy;if(!he){var Ee=I.alternate,$e=Ee!==null&&Ee.memoizedState!==null||fc;Ee=iy;var ht=fc;if(iy=he,(fc=$e)&&!ht)for(yt=I;yt!==null;)he=yt,$e=he.child,he.tag===22&&he.memoizedState!==null?EN(I):$e!==null?($e.return=he,yt=$e):EN(I);for(;j!==null;)yt=j,wN(j),j=j.sibling;yt=I,iy=Ee,fc=ht}SN(p)}else I.subtreeFlags&8772&&j!==null?(j.return=I,yt=j):SN(p)}}function SN(p){for(;yt!==null;){var m=yt;if(m.flags&8772){var E=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:fc||r0(5,m);break;case 1:var C=m.stateNode;if(m.flags&4&&!fc)if(E===null)C.componentDidMount();else{var I=m.elementType===m.type?E.memoizedProps:zi(m.type,E.memoizedProps);C.componentDidUpdate(I,E.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var j=m.updateQueue;j!==null&&gR(m,j,C);break;case 3:var he=m.updateQueue;if(he!==null){if(E=null,m.child!==null)switch(m.child.tag){case 5:E=Z(m.child.stateNode);break;case 1:E=m.child.stateNode}gR(m,he,E)}break;case 5:var Ee=m.stateNode;E===null&&m.flags&4&&Re(Ee,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(Pe&&m.memoizedState===null){var $e=m.alternate;if($e!==null){var ht=$e.memoizedState;if(ht!==null){var bt=ht.dehydrated;bt!==null&&oe(bt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}fc||m.flags&512&&Gb(m)}catch(Bt){sa(m,m.return,Bt)}}if(m===p){yt=null;break}if(E=m.sibling,E!==null){E.return=m.return,yt=E;break}yt=m.return}}function bN(p){for(;yt!==null;){var m=yt;if(m===p){yt=null;break}var E=m.sibling;if(E!==null){E.return=m.return,yt=E;break}yt=m.return}}function EN(p){for(;yt!==null;){var m=yt;try{switch(m.tag){case 0:case 11:case 15:var E=m.return;try{r0(4,m)}catch($e){sa(m,E,$e)}break;case 1:var C=m.stateNode;if(typeof C.componentDidMount=="function"){var I=m.return;try{C.componentDidMount()}catch($e){sa(m,I,$e)}}var j=m.return;try{Gb(m)}catch($e){sa(m,j,$e)}break;case 5:var he=m.return;try{Gb(m)}catch($e){sa(m,he,$e)}}}catch($e){sa(m,m.return,$e)}if(m===p){yt=null;break}var Ee=m.sibling;if(Ee!==null){Ee.return=m.return,yt=Ee;break}yt=m.return}}var oy=0,ly=1,uy=2,cy=3,fy=4;if(typeof Symbol=="function"&&Symbol.for){var i0=Symbol.for;oy=i0("selector.component"),ly=i0("selector.has_pseudo_class"),uy=i0("selector.role"),cy=i0("selector.test_id"),fy=i0("selector.text")}function Yb(p){var m=ve(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(s(364));return m}if(p=Le(p),p===null)throw Error(s(362));return p.stateNode.current}function qb(p,m){switch(m.$$typeof){case oy:if(p.type===m.value)return!0;break;case ly:e:{m=m.value,p=[p,0];for(var E=0;E<p.length;){var C=p[E++],I=p[E++],j=m[I];if(C.tag!==5||!K(C)){for(;j!=null&&qb(C,j);)I++,j=m[I];if(I===m.length){m=!0;break e}else for(C=C.child;C!==null;)p.push(C,I),C=C.sibling}}m=!1}return m;case uy:if(p.tag===5&&xe(p.stateNode,m.value))return!0;break;case fy:if((p.tag===5||p.tag===6)&&(p=Q(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case cy:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Kb(p){switch(p.$$typeof){case oy:return"<"+(A(p.value)||"Unknown")+">";case ly:return":has("+(Kb(p)||"")+")";case uy:return'[role="'+p.value+'"]';case fy:return'"'+p.value+'"';case cy:return'[data-testname="'+p.value+'"]';default:throw Error(s(365))}}function TN(p,m){var E=[];p=[p,0];for(var C=0;C<p.length;){var I=p[C++],j=p[C++],he=m[j];if(I.tag!==5||!K(I)){for(;he!=null&&qb(I,he);)j++,he=m[j];if(j===m.length)E.push(I);else for(I=I.child;I!==null;)p.push(I,j),I=I.sibling}}return E}function Zb(p,m){if(!qe)throw Error(s(363));p=Yb(p),p=TN(p,m),m=[],p=Array.from(p);for(var E=0;E<p.length;){var C=p[E++];if(C.tag===5)K(C)||m.push(C.stateNode);else for(C=C.child;C!==null;)p.push(C),C=C.sibling}return m}var u$=Math.ceil,hy=o.ReactCurrentDispatcher,Jb=o.ReactCurrentOwner,dr=o.ReactCurrentBatchConfig,qt=0,br=null,Er=null,ni=0,Ra=0,ih=Nt(0),Ir=0,a0=null,ah=0,dy=0,Qb=0,s0=null,ia=null,e2=0,t2=1/0;function sh(){t2=Yn()+500}var py=!1,n2=null,Vl=null,my=!1,$l=null,gy=0,o0=0,r2=null,vy=-1,yy=0;function Wi(){return qt&6?Yn():vy!==-1?vy:vy=Yn()}function Xl(p){return p.mode&1?qt&2&&ni!==0?ni&-ni:ac.transition!==null?(yy===0&&(p=Uo,Uo<<=1,!(Uo&4194240)&&(Uo=64),yy=p),yy):(p=Jt,p!==0?p:be()):1}function ns(p,m,E){if(50<o0)throw o0=0,r2=null,Error(s(185));var C=xy(p,m);return C===null?null:(co(C,m,E),(!(qt&2)||C!==br)&&(C===br&&(!(qt&2)&&(dy|=m),Ir===4&&Yl(C,ni)),aa(C,E),m===1&&qt===0&&!(p.mode&1)&&(sh(),ho&&ra())),C)}function xy(p,m){p.lanes|=m;var E=p.alternate;for(E!==null&&(E.lanes|=m),E=p,p=p.return;p!==null;)p.childLanes|=m,E=p.alternate,E!==null&&(E.childLanes|=m),E=p,p=p.return;return E.tag===3?E.stateNode:null}function aa(p,m){var E=p.callbackNode;Up(p,m);var C=nc(p,p===br?ni:0);if(C===0)E!==null&&Yf(E),p.callbackNode=null,p.callbackPriority=0;else if(m=C&-C,p.callbackPriority!==m){if(E!=null&&Yf(E),m===1)p.tag===0?Gp(MN.bind(null,p)):Wp(MN.bind(null,p)),Ne?He(function(){qt===0&&ra()}):Ho(rc,ra),E=null;else{switch(Bp(C)){case 1:E=rc;break;case 4:E=kv;break;case 16:E=Ui;break;case 536870912:E=jp;break;default:E=Ui}E=kN(E,AN.bind(null,p))}p.callbackPriority=m,p.callbackNode=E}}function AN(p,m){if(vy=-1,yy=0,qt&6)throw Error(s(327));var E=p.callbackNode;if(mc()&&p.callbackNode!==E)return null;var C=nc(p,p===br?ni:0);if(C===0)return null;if(C&30||C&p.expiredLanes||m)m=_y(p,C);else{m=C;var I=qt;qt|=2;var j=ON();(br!==p||ni!==m)&&(sh(),dc(p,m));do try{h$();break}catch(Ee){PN(p,Ee)}while(!0);Kf(),hy.current=j,qt=I,Er!==null?m=0:(br=null,ni=0,m=Ir)}if(m!==0){if(m===2&&(I=jo(p),I!==0&&(C=I,m=i2(p,I))),m===1)throw E=a0,dc(p,0),Yl(p,C),aa(p,Yn()),E;if(m===6)Yl(p,C);else{if(I=p.current.alternate,!(C&30)&&!c$(I)&&(m=_y(p,C),m===2&&(j=jo(p),j!==0&&(C=j,m=i2(p,j))),m===1))throw E=a0,dc(p,0),Yl(p,C),aa(p,Yn()),E;switch(p.finishedWork=I,p.finishedLanes=C,m){case 0:case 1:throw Error(s(345));case 2:pc(p,ia);break;case 3:if(Yl(p,C),(C&130023424)===C&&(m=e2+500-Yn(),10<m)){if(nc(p,0)!==0)break;if(I=p.suspendedLanes,(I&C)!==C){Wi(),p.pingedLanes|=p.suspendedLanes&I;break}p.timeoutHandle=pe(pc.bind(null,p,ia),m);break}pc(p,ia);break;case 4:if(Yl(p,C),(C&4194240)===C)break;for(m=p.eventTimes,I=-1;0<C;){var he=31-Ea(C);j=1<<he,he=m[he],he>I&&(I=he),C&=~j}if(C=I,C=Yn()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*u$(C/1960))-C,10<C){p.timeoutHandle=pe(pc.bind(null,p,ia),C);break}pc(p,ia);break;case 5:pc(p,ia);break;default:throw Error(s(329))}}}return aa(p,Yn()),p.callbackNode===E?AN.bind(null,p):null}function i2(p,m){var E=s0;return p.current.memoizedState.isDehydrated&&(dc(p,m).flags|=256),p=_y(p,m),p!==2&&(m=ia,ia=E,m!==null&&a2(m)),p}function a2(p){ia===null?ia=p:ia.push.apply(ia,p)}function c$(p){for(var m=p;;){if(m.flags&16384){var E=m.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var C=0;C<E.length;C++){var I=E[C],j=I.getSnapshot;I=I.value;try{if(!Aa(j(),I))return!1}catch{return!1}}}if(E=m.child,m.subtreeFlags&16384&&E!==null)E.return=m,m=E;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Yl(p,m){for(m&=~Qb,m&=~dy,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var E=31-Ea(m),C=1<<E;p[E]=-1,m&=~C}}function MN(p){if(qt&6)throw Error(s(327));mc();var m=nc(p,0);if(!(m&1))return aa(p,Yn()),null;var E=_y(p,m);if(p.tag!==0&&E===2){var C=jo(p);C!==0&&(m=C,E=i2(p,C))}if(E===1)throw E=a0,dc(p,0),Yl(p,m),aa(p,Yn()),E;if(E===6)throw Error(s(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,pc(p,ia),aa(p,Yn()),null}function CN(p){$l!==null&&$l.tag===0&&!(qt&6)&&mc();var m=qt;qt|=1;var E=dr.transition,C=Jt;try{if(dr.transition=null,Jt=1,p)return p()}finally{Jt=C,dr.transition=E,qt=m,!(qt&6)&&ra()}}function s2(){Ra=ih.current,jt(ih)}function dc(p,m){p.finishedWork=null,p.finishedLanes=0;var E=p.timeoutHandle;if(E!==ge&&(p.timeoutHandle=ge,ye(E)),Er!==null)for(E=Er.return;E!==null;){var C=E;switch(bb(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Fi();break;case 3:nh(),jt(Gn),jt(nr),Ob();break;case 5:Cb(C);break;case 4:nh();break;case 13:jt(qn);break;case 19:jt(qn);break;case 10:Vr(C.type._context);break;case 22:case 23:s2()}E=E.return}if(br=p,Er=p=ql(p.current,null),ni=Ra=m,Ir=0,a0=null,Qb=dy=ah=0,ia=s0=null,Ma!==null){for(m=0;m<Ma.length;m++)if(E=Ma[m],C=E.interleaved,C!==null){E.interleaved=null;var I=C.next,j=E.pending;if(j!==null){var he=j.next;j.next=I,C.next=he}E.pending=C}Ma=null}return p}function PN(p,m){do{var E=Er;try{if(Kf(),$v.current=Jv,Xv){for(var C=rr.memoizedState;C!==null;){var I=C.queue;I!==null&&(I.pending=null),C=C.next}Xv=!1}if(rh=0,$r=gi=rr=null,Kp=!1,Zp=0,Jb.current=null,E===null||E.return===null){Ir=1,a0=m,Er=null;break}e:{var j=p,he=E.return,Ee=E,$e=m;if(m=ni,Ee.flags|=32768,$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var ht=$e,bt=Ee,Bt=bt.tag;if(!(bt.mode&1)&&(Bt===0||Bt===11||Bt===15)){var Dt=bt.alternate;Dt?(bt.updateQueue=Dt.updateQueue,bt.memoizedState=Dt.memoizedState,bt.lanes=Dt.lanes):(bt.updateQueue=null,bt.memoizedState=null)}var Cn=KR(he);if(Cn!==null){Cn.flags&=-257,ZR(Cn,he,Ee,j,m),Cn.mode&1&&qR(j,ht,m),m=Cn,$e=ht;var Ot=m.updateQueue;if(Ot===null){var xi=new Set;xi.add($e),m.updateQueue=xi}else Ot.add($e);break e}else{if(!(m&1)){qR(j,ht,m),o2();break e}$e=Error(s(426))}}else if(Vn&&Ee.mode&1){var is=KR(he);if(is!==null){!(is.flags&65536)&&(is.flags|=256),ZR(is,he,Ee,j,m),Ab($e);break e}}j=$e,Ir!==4&&(Ir=2),s0===null?s0=[j]:s0.push(j),$e=Fb($e,Ee),Ee=he;do{switch(Ee.tag){case 3:Ee.flags|=65536,m&=-m,Ee.lanes|=m;var ke=XR(Ee,$e,m);mR(Ee,ke);break e;case 1:j=$e;var Ce=Ee.type,We=Ee.stateNode;if(!(Ee.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(Vl===null||!Vl.has(We)))){Ee.flags|=65536,m&=-m,Ee.lanes|=m;var xt=YR(Ee,j,m);mR(Ee,xt);break e}}Ee=Ee.return}while(Ee!==null)}NN(E)}catch(Pt){m=Pt,Er===E&&E!==null&&(Er=E=E.return);continue}break}while(!0)}function ON(){var p=hy.current;return hy.current=Jv,p===null?Jv:p}function o2(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),br===null||!(ah&268435455)&&!(dy&268435455)||Yl(br,ni)}function _y(p,m){var E=qt;qt|=2;var C=ON();br===p&&ni===m||dc(p,m);do try{f$();break}catch(I){PN(p,I)}while(!0);if(Kf(),qt=E,hy.current=C,Er!==null)throw Error(s(261));return br=null,ni=0,Ir}function f$(){for(;Er!==null;)RN(Er)}function h$(){for(;Er!==null&&!zp();)RN(Er)}function RN(p){var m=DN(p.alternate,p,Ra);p.memoizedProps=p.pendingProps,m===null?NN(p):Er=m,Jb.current=null}function NN(p){var m=p;do{var E=m.alternate;if(p=m.return,m.flags&32768){if(E=i$(E,m),E!==null){E.flags&=32767,Er=E;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Ir=6,Er=null;return}}else if(E=t$(E,m,Ra),E!==null){Er=E;return}if(m=m.sibling,m!==null){Er=m;return}Er=m=p}while(m!==null);Ir===0&&(Ir=5)}function pc(p,m){var E=Jt,C=dr.transition;try{dr.transition=null,Jt=1,d$(p,m,E)}finally{dr.transition=C,Jt=E}return null}function d$(p,m,E){do mc();while($l!==null);if(qt&6)throw Error(s(327));var C=p.finishedWork,I=p.finishedLanes;if(C===null)return null;if(p.finishedWork=null,p.finishedLanes=0,C===p.current)throw Error(s(177));p.callbackNode=null,p.callbackPriority=0;var j=C.lanes|C.childLanes;if(jl(p,j),p===br&&(Er=br=null,ni=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||my||(my=!0,kN(Ui,function(){return mc(),null})),j=(C.flags&15990)!==0,C.subtreeFlags&15990||j){j=dr.transition,dr.transition=null;var he=Jt;Jt=1;var Ee=qt;qt|=4,Jb.current=null,s$(p,C),o$(p,C),X(p.containerInfo),p.current=C,l$(C),Dv(),qt=Ee,Jt=he,dr.transition=j}else p.current=C;if(my&&(my=!1,$l=p,gy=I),j=p.pendingLanes,j===0&&(Vl=null),Hp(C.stateNode),aa(p,Yn()),m!==null)for(E=p.onRecoverableError,C=0;C<m.length;C++)E(m[C]);if(py)throw py=!1,p=n2,n2=null,p;return gy&1&&p.tag!==0&&mc(),j=p.pendingLanes,j&1?p===r2?o0++:(o0=0,r2=p):o0=0,ra(),null}function mc(){if($l!==null){var p=Bp(gy),m=dr.transition,E=Jt;try{if(dr.transition=null,Jt=16>p?16:p,$l===null)var C=!1;else{if(p=$l,$l=null,gy=0,qt&6)throw Error(s(331));var I=qt;for(qt|=4,yt=p.current;yt!==null;){var j=yt,he=j.child;if(yt.flags&16){var Ee=j.deletions;if(Ee!==null){for(var $e=0;$e<Ee.length;$e++){var ht=Ee[$e];for(yt=ht;yt!==null;){var bt=yt;switch(bt.tag){case 0:case 11:case 15:hc(8,bt,j)}var Bt=bt.child;if(Bt!==null)Bt.return=bt,yt=Bt;else for(;yt!==null;){bt=yt;var Dt=bt.sibling,Cn=bt.return;if(gN(bt),bt===ht){yt=null;break}if(Dt!==null){Dt.return=Cn,yt=Dt;break}yt=Cn}}}var Ot=j.alternate;if(Ot!==null){var xi=Ot.child;if(xi!==null){Ot.child=null;do{var is=xi.sibling;xi.sibling=null,xi=is}while(xi!==null)}}yt=j}}if(j.subtreeFlags&2064&&he!==null)he.return=j,yt=he;else e:for(;yt!==null;){if(j=yt,j.flags&2048)switch(j.tag){case 0:case 11:case 15:hc(9,j,j.return)}var ke=j.sibling;if(ke!==null){ke.return=j.return,yt=ke;break e}yt=j.return}}var Ce=p.current;for(yt=Ce;yt!==null;){he=yt;var We=he.child;if(he.subtreeFlags&2064&&We!==null)We.return=he,yt=We;else e:for(he=Ce;yt!==null;){if(Ee=yt,Ee.flags&2048)try{switch(Ee.tag){case 0:case 11:case 15:r0(9,Ee)}}catch(Pt){sa(Ee,Ee.return,Pt)}if(Ee===he){yt=null;break e}var xt=Ee.sibling;if(xt!==null){xt.return=Ee.return,yt=xt;break e}yt=Ee.return}}if(qt=I,ra(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(ic,p)}catch{}C=!0}return C}finally{Jt=E,dr.transition=m}}return!1}function IN(p,m,E){m=Fb(E,m),m=XR(p,m,1),Gl(p,m),m=Wi(),p=xy(p,1),p!==null&&(co(p,1,m),aa(p,m))}function sa(p,m,E){if(p.tag===3)IN(p,p,E);else for(;m!==null;){if(m.tag===3){IN(m,p,E);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Vl===null||!Vl.has(C))){p=Fb(E,p),p=YR(m,p,1),Gl(m,p),p=Wi(),m=xy(m,1),m!==null&&(co(m,1,p),aa(m,p));break}}m=m.return}}function p$(p,m,E){var C=p.pingCache;C!==null&&C.delete(m),m=Wi(),p.pingedLanes|=p.suspendedLanes&E,br===p&&(ni&E)===E&&(Ir===4||Ir===3&&(ni&130023424)===ni&&500>Yn()-e2?dc(p,0):Qb|=E),aa(p,m)}function LN(p,m){m===0&&(p.mode&1?(m=Bo,Bo<<=1,!(Bo&130023424)&&(Bo=4194304)):m=1);var E=Wi();p=xy(p,m),p!==null&&(co(p,m,E),aa(p,E))}function m$(p){var m=p.memoizedState,E=0;m!==null&&(E=m.retryLane),LN(p,E)}function g$(p,m){var E=0;switch(p.tag){case 13:var C=p.stateNode,I=p.memoizedState;I!==null&&(E=I.retryLane);break;case 19:C=p.stateNode;break;default:throw Error(s(314))}C!==null&&C.delete(m),LN(p,E)}var DN;DN=function(p,m,E){if(p!==null)if(p.memoizedProps!==m.pendingProps||Gn.current)Oa=!0;else{if(!(p.lanes&E)&&!(m.flags&128))return Oa=!1,r$(p,m,E);Oa=!!(p.flags&131072)}else Oa=!1,Vn&&m.flags&1048576&&wR(m,Wv,m.index);switch(m.lanes=0,m.tag){case 2:var C=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var I=En(m,nr.current);fr(m,E),I=Nb(null,m,C,p,I,E);var j=Ib();return m.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,In(C)?(j=!0,uo(m)):j=!1,m.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,xb(m),I.updater=jv,m.stateNode=I,I._reactInternals=m,wb(m,C,p,E),m=zb(null,m,C,!0,j,E)):(m.tag=0,Vn&&j&&Sb(m),Hi(null,m,I,E),m=m.child),m;case 16:C=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,I=C._init,C=I(C._payload),m.type=C,I=m.tag=y$(C),p=zi(C,p),I){case 0:m=Bb(null,m,C,p,E);break e;case 1:m=aN(null,m,C,p,E);break e;case 11:m=eN(null,m,C,p,E);break e;case 14:m=tN(null,m,C,zi(C.type,p),E);break e}throw Error(s(306,C,""))}return m;case 0:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:zi(C,I),Bb(p,m,C,I,E);case 1:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:zi(C,I),aN(p,m,C,I,E);case 3:e:{if(sN(m),p===null)throw Error(s(387));C=m.pendingProps,j=m.memoizedState,I=j.element,pR(p,m),zv(m,C,null,E);var he=m.memoizedState;if(C=he.element,Pe&&j.isDehydrated)if(j={element:C,isDehydrated:!1,cache:he.cache,transitions:he.transitions},m.updateQueue.baseState=j,m.memoizedState=j,m.flags&256){I=Error(s(423)),m=oN(p,m,C,E,I);break e}else if(C!==I){I=Error(s(424)),m=oN(p,m,C,E,I);break e}else for(Pe&&(Pa=te(m.stateNode.containerInfo),Ca=m,Vn=!0,Ps=null,Vp=!1),E=MR(m,null,C,E),m.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Qf(),C===I){m=Xo(p,m,E);break e}Hi(p,m,C,E)}m=m.child}return m;case 5:return CR(m),p===null&&Tb(m),C=m.type,I=m.pendingProps,j=p!==null?p.memoizedProps:null,he=I.children,q(C,I)?he=null:j!==null&&q(C,j)&&(m.flags|=32),iN(p,m),Hi(p,m,he,E),m.child;case 6:return p===null&&Tb(m),null;case 13:return lN(p,m,E);case 4:return Mb(m,m.stateNode.containerInfo),C=m.pendingProps,p===null?m.child=eh(m,null,C,E):Hi(p,m,C,E),m.child;case 11:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:zi(C,I),eN(p,m,C,I,E);case 7:return Hi(p,m,m.pendingProps,E),m.child;case 8:return Hi(p,m,m.pendingProps.children,E),m.child;case 12:return Hi(p,m,m.pendingProps.children,E),m.child;case 10:e:{if(C=m.type._context,I=m.pendingProps,j=m.memoizedProps,he=I.value,Uv(m,C,he),j!==null)if(Aa(j.value,he)){if(j.children===I.children&&!Gn.current){m=Xo(p,m,E);break e}}else for(j=m.child,j!==null&&(j.return=m);j!==null;){var Ee=j.dependencies;if(Ee!==null){he=j.child;for(var $e=Ee.firstContext;$e!==null;){if($e.context===C){if(j.tag===1){$e=Wo(-1,E&-E),$e.tag=2;var ht=j.updateQueue;if(ht!==null){ht=ht.shared;var bt=ht.pending;bt===null?$e.next=$e:($e.next=bt.next,bt.next=$e),ht.pending=$e}}j.lanes|=E,$e=j.alternate,$e!==null&&($e.lanes|=E),ji(j.return,E,m),Ee.lanes|=E;break}$e=$e.next}}else if(j.tag===10)he=j.type===m.type?null:j.child;else if(j.tag===18){if(he=j.return,he===null)throw Error(s(341));he.lanes|=E,Ee=he.alternate,Ee!==null&&(Ee.lanes|=E),ji(he,E,m),he=j.sibling}else he=j.child;if(he!==null)he.return=j;else for(he=j;he!==null;){if(he===m){he=null;break}if(j=he.sibling,j!==null){j.return=he.return,he=j;break}he=he.return}j=he}Hi(p,m,I.children,E),m=m.child}return m;case 9:return I=m.type,C=m.pendingProps.children,fr(m,E),I=hr(I),C=C(I),m.flags|=1,Hi(p,m,C,E),m.child;case 14:return C=m.type,I=zi(C,m.pendingProps),I=zi(C.type,I),tN(p,m,C,I,E);case 15:return nN(p,m,m.type,m.pendingProps,E);case 17:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:zi(C,I),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,In(C)?(p=!0,uo(m)):p=!1,fr(m,E),xR(m,C,I),wb(m,C,I,E),zb(null,m,C,!0,p,E);case 19:return hN(p,m,E);case 22:return rN(p,m,E)}throw Error(s(156,m.tag))};function kN(p,m){return Ho(p,m)}function v$(p,m,E,C){this.tag=p,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(p,m,E,C){return new v$(p,m,E,C)}function l2(p){return p=p.prototype,!(!p||!p.isReactComponent)}function y$(p){if(typeof p=="function")return l2(p)?1:0;if(p!=null){if(p=p.$$typeof,p===v)return 11;if(p===w)return 14}return 2}function ql(p,m){var E=p.alternate;return E===null?(E=rs(p.tag,m,p.key,p.mode),E.elementType=p.elementType,E.type=p.type,E.stateNode=p.stateNode,E.alternate=p,p.alternate=E):(E.pendingProps=m,E.type=p.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=p.flags&14680064,E.childLanes=p.childLanes,E.lanes=p.lanes,E.child=p.child,E.memoizedProps=p.memoizedProps,E.memoizedState=p.memoizedState,E.updateQueue=p.updateQueue,m=p.dependencies,E.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},E.sibling=p.sibling,E.index=p.index,E.ref=p.ref,E}function wy(p,m,E,C,I,j){var he=2;if(C=p,typeof p=="function")l2(p)&&(he=1);else if(typeof p=="string")he=5;else e:switch(p){case c:return gc(E.children,I,j,m);case f:he=8,I|=8;break;case h:return p=rs(12,E,m,I|2),p.elementType=h,p.lanes=j,p;case y:return p=rs(13,E,m,I),p.elementType=y,p.lanes=j,p;case x:return p=rs(19,E,m,I),p.elementType=x,p.lanes=j,p;case S:return Sy(E,I,j,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case d:he=10;break e;case g:he=9;break e;case v:he=11;break e;case w:he=14;break e;case _:he=16,C=null;break e}throw Error(s(130,p==null?p:typeof p,""))}return m=rs(he,E,m,I),m.elementType=p,m.type=C,m.lanes=j,m}function gc(p,m,E,C){return p=rs(7,p,C,m),p.lanes=E,p}function Sy(p,m,E,C){return p=rs(22,p,C,m),p.elementType=S,p.lanes=E,p.stateNode={},p}function u2(p,m,E){return p=rs(6,p,null,m),p.lanes=E,p}function c2(p,m,E){return m=rs(4,p.children!==null?p.children:[],p.key,m),m.lanes=E,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function x$(p,m,E,C,I){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ge,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xf(0),this.expirationTimes=Xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xf(0),this.identifierPrefix=C,this.onRecoverableError=I,Pe&&(this.mutableSourceEagerHydrationData=null)}function FN(p,m,E,C,I,j,he,Ee,$e){return p=new x$(p,m,E,Ee,$e),m===1?(m=1,j===!0&&(m|=8)):m=0,j=rs(3,null,null,m),p.current=j,j.stateNode=p,j.memoizedState={element:C,isDehydrated:E,cache:null,transitions:null},xb(j),p}function UN(p){if(!p)return pn;p=p._reactInternals;e:{if(M(p)!==p||p.tag!==1)throw Error(s(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(In(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(s(171))}if(p.tag===1){var E=p.type;if(In(E))return lo(p,E,m)}return m}function BN(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(s(188)):(p=Object.keys(p).join(","),Error(s(268,p)));return p=L(m),p===null?null:p.stateNode}function zN(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var E=p.retryLane;p.retryLane=E!==0&&E<m?E:m}}function f2(p,m){zN(p,m),(p=p.alternate)&&zN(p,m)}function _$(p){return p=L(p),p===null?null:p.stateNode}function w$(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var m=Wi();ns(p,134217728,m),f2(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=Wi(),E=Xl(p);ns(p,E,m),f2(p,E)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var E=zo(m.pendingLanes);E!==0&&(fo(m,E|1),aa(m,Yn()),!(qt&6)&&(sh(),ra()))}break;case 13:var C=Wi();CN(function(){return ns(p,1,C)}),f2(p,1)}},n.batchedUpdates=function(p,m){var E=qt;qt|=1;try{return p(m)}finally{qt=E,qt===0&&(sh(),ho&&ra())}},n.createComponentSelector=function(p){return{$$typeof:oy,value:p}},n.createContainer=function(p,m,E,C,I,j,he){return FN(p,m,!1,null,E,C,I,j,he)},n.createHasPseudoClassSelector=function(p){return{$$typeof:ly,value:p}},n.createHydrationContainer=function(p,m,E,C,I,j,he,Ee,$e){return p=FN(E,C,!0,p,I,j,he,Ee,$e),p.context=UN(null),E=p.current,C=Wi(),I=Xl(E),j=Wo(C,I),j.callback=m??null,Gl(E,j),p.current.lanes=I,co(p,I,C),aa(p,C),p},n.createPortal=function(p,m,E){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:p,containerInfo:m,implementation:E}},n.createRoleSelector=function(p){return{$$typeof:uy,value:p}},n.createTestNameSelector=function(p){return{$$typeof:cy,value:p}},n.createTextSelector=function(p){return{$$typeof:fy,value:p}},n.deferredUpdates=function(p){var m=Jt,E=dr.transition;try{return dr.transition=null,Jt=16,p()}finally{Jt=m,dr.transition=E}},n.discreteUpdates=function(p,m,E,C,I){var j=Jt,he=dr.transition;try{return dr.transition=null,Jt=1,p(m,E,C,I)}finally{Jt=j,dr.transition=he,qt===0&&sh()}},n.findAllNodes=Zb,n.findBoundingRects=function(p,m){if(!qe)throw Error(s(363));m=Zb(p,m),p=[];for(var E=0;E<m.length;E++)p.push(lt(m[E]));for(m=p.length-1;0<m;m--){E=p[m];for(var C=E.x,I=C+E.width,j=E.y,he=j+E.height,Ee=m-1;0<=Ee;Ee--)if(m!==Ee){var $e=p[Ee],ht=$e.x,bt=ht+$e.width,Bt=$e.y,Dt=Bt+$e.height;if(C>=ht&&j>=Bt&&I<=bt&&he<=Dt){p.splice(m,1);break}else if(C!==ht||E.width!==$e.width||Dt<j||Bt>he){if(!(j!==Bt||E.height!==$e.height||bt<C||ht>I)){ht>C&&($e.width+=ht-C,$e.x=C),bt<I&&($e.width=I-ht),p.splice(m,1);break}}else{Bt>j&&($e.height+=Bt-j,$e.y=j),Dt<he&&($e.height=he-Bt),p.splice(m,1);break}}}return p},n.findHostInstance=BN,n.findHostInstanceWithNoPortals=function(p){return p=D(p),p=p!==null?G(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return BN(p)},n.flushControlled=function(p){var m=qt;qt|=1;var E=dr.transition,C=Jt;try{dr.transition=null,Jt=1,p()}finally{Jt=C,dr.transition=E,qt=m,qt===0&&(sh(),ra())}},n.flushPassiveEffects=mc,n.flushSync=CN,n.focusWithin=function(p,m){if(!qe)throw Error(s(363));for(p=Yb(p),m=TN(p,m),m=Array.from(m),p=0;p<m.length;){var E=m[p++];if(!K(E)){if(E.tag===5&&Je(E.stateNode))return!0;for(E=E.child;E!==null;)m.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Jt},n.getFindAllNodesFailureDescription=function(p,m){if(!qe)throw Error(s(363));var E=0,C=[];p=[Yb(p),0];for(var I=0;I<p.length;){var j=p[I++],he=p[I++],Ee=m[he];if((j.tag!==5||!K(j))&&(qb(j,Ee)&&(C.push(Kb(Ee)),he++,he>E&&(E=he)),he<m.length))for(j=j.child;j!==null;)p.push(j,he),j=j.sibling}if(E<m.length){for(p=[];E<m.length;E++)p.push(Kb(m[E]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return Z(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:_$,findFiberByHostInstance:p.findFiberByHostInstance||w$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{ic=m.inject(p),Ta=m}catch{}p=!!m.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,m,E,C){if(!qe)throw Error(s(363));p=Zb(p,m);var I=De(p,E,C).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(p,m){var E=m._getVersion;E=E(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,E]:p.mutableSourceEagerHydrationData.push(m,E)},n.runWithPriority=function(p,m){var E=Jt;try{return Jt=p,m()}finally{Jt=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,m,E,C){var I=m.current,j=Wi(),he=Xl(I);return E=UN(E),m.context===null?m.context=E:m.pendingContext=E,m=Wo(j,he),m.payload={element:p},C=C===void 0?null:C,C!==null&&(m.callback=C),Gl(I,m),p=ns(I,he,j),p!==null&&Bv(p,I,he),he},n};gV.exports=Eke;var Tke=gV.exports;const Ake=Mn(Tke);var vV={exports:{}},yV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var X=U.length;U.push(H);e:for(;0<X;){var F=X-1>>>1,N=U[F];if(0<i(N,H))U[F]=H,U[X]=N,X=F;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var H=U[0],X=U.pop();if(X!==H){U[0]=X;e:for(var F=0,N=U.length,V=N>>>1;F<V;){var Y=2*(F+1)-1,q=U[Y],ae=Y+1,pe=U[ae];if(0>i(q,X))ae<N&&0>i(pe,q)?(U[F]=pe,U[ae]=X,F=ae):(U[F]=q,U[Y]=X,F=Y);else if(ae<N&&0>i(pe,X))U[F]=pe,U[ae]=X,F=ae;else break e}}return H}function i(U,H){var X=U.sortIndex-H.sortIndex;return X!==0?X:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=U)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function S(U){if(v=!1,_(U),!g)if(n(l)!==null)g=!0,Z(b);else{var H=n(u);H!==null&&ee(S,H.startTime-U)}}function b(U,H){g=!1,v&&(v=!1,x(P),P=-1),d=!0;var X=h;try{for(_(H),f=n(l);f!==null&&(!(f.expirationTime>H)||U&&!D());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var N=F(f.expirationTime<=H);H=t.unstable_now(),typeof N=="function"?f.callback=N:f===n(l)&&r(l),_(H)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var Y=n(u);Y!==null&&ee(S,Y.startTime-H),V=!1}return V}finally{f=null,h=X,d=!1}}var T=!1,A=null,P=-1,M=5,R=-1;function D(){return!(t.unstable_now()-R<M)}function L(){if(A!==null){var U=t.unstable_now();R=U;var H=!0;try{H=A(!0,U)}finally{H?B():(T=!1,A=null)}}else T=!1}var B;if(typeof w=="function")B=function(){w(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,z=G.port2;G.port1.onmessage=L,B=function(){z.postMessage(null)}}else B=function(){y(L,0)};function Z(U){A=U,T||(T=!0,B())}function ee(U,H){P=y(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,Z(b))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var X=h;h=H;try{return U()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=h;h=U;try{return H()}finally{h=X}},t.unstable_scheduleCallback=function(U,H,X){var F=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?F+X:F):X=F,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=X+N,U={id:c++,callback:H,priorityLevel:U,startTime:X,expirationTime:N,sortIndex:-1},X>F?(U.sortIndex=X,e(u,U),n(l)===null&&U===n(u)&&(v?(x(P),P=-1):v=!0,ee(S,X-F))):(U.sortIndex=N,e(l,U),g||d||(g=!0,Z(b))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var H=h;return function(){var X=h;h=H;try{return U.apply(this,arguments)}finally{h=X}}}})(yV);vV.exports=yV;var OB=vV.exports;const fR={},Mke=t=>void Object.assign(fR,t);function Cke(t,e){function n(c,{args:f=[],attach:h,...d},g){let v=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=d.object;y=jh(x,{type:c,root:g,attach:h,primitive:!0})}else{const x=fR[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=jh(new x(...f),{type:c,root:g,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),v!=="inject"&&uT(y,d),y}function r(c,f){let h=!1;if(f){var d,g;(d=f.__r3f)!=null&&d.attach?lT(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||jh(f,{}),f.__r3f.parent=c,FC(f),Hh(f)}}function i(c,f,h){let d=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)lT(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const y=c.children.filter(w=>w!==f),x=y.indexOf(h);c.children=[...y.slice(0,x),f,...y.slice(x)],d=!0}d||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||jh(f,{}),f.__r3f.parent=c,FC(f),Hh(f)}}function a(c,f,h=!1){c&&[...c].forEach(d=>s(f,d,h))}function s(c,f,h){if(f){var d,g,v;if(f.__r3f&&(f.__r3f.parent=null),(d=c.__r3f)!=null&&d.objects&&(c.__r3f.objects=c.__r3f.objects.filter(S=>S!==f)),(g=f.__r3f)!=null&&g.attach)DB(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&Dke(C1(f),f)}const w=(v=f.__r3f)==null?void 0:v.primitive,_=!w&&(h===void 0?f.dispose!==null:h);if(!w){var x;a((x=f.__r3f)==null?void 0:x.objects,f,_),a(f.children,f,_)}if(delete f.__r3f,_&&f.dispose&&f.type!=="Scene"){const S=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?OB.unstable_scheduleCallback(OB.unstable_IdlePriority,S):S()}Hh(c)}}function o(c,f,h,d){var g;const v=(g=c.__r3f)==null?void 0:g.parent;if(!v)return;const y=n(f,h,c.__r3f.root);if(c.children){for(const x of c.children)x.__r3f&&r(y,x);c.children=c.children.filter(x=>!x.__r3f)}c.__r3f.objects.forEach(x=>r(y,x)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||s(v,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&C1(y).getState().internal.interaction.push(y),[d,d.alternate].forEach(x=>{x!==null&&(x.stateNode=y,x.ref&&(typeof x.ref=="function"?x.ref(y):x.ref.current=y))})}const l=()=>{};return{reconciler:Ake({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&s(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const d=c.getState().scene;d.__r3f&&i(d,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,d){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&d.object&&d.object!==c)return[!0];{const{args:y=[],children:x,...w}=d,{args:_=[],children:S,...b}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((A,P)=>A!==_[P]))return[!0];const T=TV(c,w,b,!0);return T.changes.length?[!1,T]:null}},commitUpdate(c,[f,h],d,g,v,y){f?o(c,d,v,y):uT(c,h)},commitMount(c,f,h,d){var g;const v=(g=c.__r3f)!=null?g:{};c.raycast&&v.handlers&&v.eventCount&&C1(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>jh(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:d}=(f=c.__r3f)!=null?f:{};h&&d&&DB(d,c,h),c.isObject3D&&(c.visible=!1),Hh(c)},unhideInstance(c,f){var h;const{attach:d,parent:g}=(h=c.__r3f)!=null?h:{};d&&g&&lT(g,c,d),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Hh(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ud.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&zn.fun(performance.now)?performance.now:zn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:zn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:zn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:uT}}var RB,NB;const oT=t=>"colorSpace"in t||"outputColorSpace"in t,xV=()=>{var t;return(t=fR.ColorManagement)!=null?t:null},_V=t=>t&&t.isOrthographicCamera,Pke=t=>t&&t.hasOwnProperty("current"),Nv=typeof window<"u"&&((RB=window.document)!=null&&RB.createElement||((NB=window.navigator)==null?void 0:NB.product)==="ReactNative")?fe.useLayoutEffect:fe.useEffect;function wV(t){const e=fe.useRef(t);return Nv(()=>void(e.current=t),[t]),e}function Oke({set:t}){return Nv(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class SV extends fe.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}SV.getDerivedStateFromError=()=>({error:!0});const bV="__default",IB=new Map,Rke=t=>t&&!!t.memoized&&!!t.changes;function EV(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const U0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function C1(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const zn={obj:t=>t===Object(t)&&!zn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(zn.str(t)||zn.num(t)||zn.boo(t))return t===e;const a=zn.obj(t);if(a&&r==="reference")return t===e;const s=zn.arr(t);if(s&&n==="reference")return t===e;if((s||a)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!zn.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(zn.und(o)){if(s&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Nke(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function jh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function kC(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((a,s)=>a[s],t),{target:n,key:i}}else return{target:n,key:e}}const LB=/-\d+$/;function lT(t,e,n){if(zn.str(n)){if(LB.test(n)){const a=n.replace(LB,""),{target:s,key:o}=kC(t,a);Array.isArray(s[o])||(s[o]=[])}const{target:r,key:i}=kC(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function DB(t,e,n){var r,i;if(zn.str(n)){const{target:a,key:s}=kC(t,n),o=e.__r3f.previousAttach;o===void 0?delete a[s]:a[s]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function TV(t,{children:e,key:n,ref:r,...i},{children:a,key:s,ref:o,...l}={},u=!1){const c=t.__r3f,f=Object.entries(i),h=[];if(u){const g=Object.keys(l);for(let v=0;v<g.length;v++)i.hasOwnProperty(g[v])||f.unshift([g[v],bV+"remove"])}f.forEach(([g,v])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&g==="object"||zn.equ(v,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return h.push([g,v,!0,[]]);let x=[];g.includes("-")&&(x=g.split("-")),h.push([g,v,!1,x]);for(const w in i){const _=i[w];w.startsWith(`${g}-`)&&h.push([w,_,!1,w.split("-")])}});const d={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(d.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(d.attach=c.memoizedProps.attach),{memoized:d,changes:h}}function uT(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:s,changes:o}=Rke(e)?e:TV(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=s);for(let h=0;h<o.length;h++){let[d,g,v,y]=o[h];if(oT(t)){const S="srgb",b="srgb-linear";d==="encoding"?(d="colorSpace",g=g===3001?S:b):d==="outputEncoding"&&(d="outputColorSpace",g=g===3001?S:b)}let x=t,w=x[d];if(y.length&&(w=y.reduce((_,S)=>_[S],t),!(w&&w.set))){const[_,...S]=y.reverse();x=S.reverse().reduce((b,T)=>b[T],t),d=_}if(g===bV+"remove")if(x.constructor){let _=IB.get(x.constructor);_||(_=new x.constructor,IB.set(x.constructor,_)),g=_[d]}else g=0;if(v&&r)g?r.handlers[d]=g:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof of)){if(Array.isArray(g))w.fromArray?w.fromArray(g):w.set(...g);else if(w.copy&&g&&g.constructor&&w.constructor===g.constructor)w.copy(g);else if(g!==void 0){var u;const _=(u=w)==null?void 0:u.isColor;!_&&w.setScalar?w.setScalar(g):w instanceof of&&g instanceof of?w.mask=g.mask:w.set(g),!xV()&&a&&!a.linear&&_&&w.convertSRGBToLinear()}}else{var c;if(x[d]=g,(c=x[d])!=null&&c.isTexture&&x[d].format===ca&&x[d].type===Ro&&a){const _=x[d];oT(_)&&oT(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}}Hh(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const h=C1(t).getState().internal,d=h.interaction.indexOf(t);d>-1&&h.interaction.splice(d,1),r.eventCount&&h.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&FC(t),t}function Hh(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function FC(t){t.onUpdate==null||t.onUpdate(t)}function Ike(t,e){t.manual||(_V(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Qx(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Lke(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ud.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ud.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ud.ContinuousEventPriority;default:return ud.DefaultEventPriority}}function AV(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Dke(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{AV(n.capturedMap,e,r,i)})}function kke(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,h=[],d=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<d.length;x++){const w=U0(d[x]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(x){const w=U0(x);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var _;w.events.compute==null||w.events.compute(l,w,(_=w.previousRoot)==null?void 0:_.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(x,!0):[]}let v=d.flatMap(g).sort((x,w)=>{const _=U0(x.object),S=U0(w.object);return!_||!S?x.distance-w.distance:S.events.priority-_.events.priority||x.distance-w.distance}).filter(x=>{const w=Qx(x);return f.has(w)?!1:(f.add(w),!0)});c.events.filter&&(v=c.events.filter(v,c));for(const x of v){let w=x.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&h.push({...x,eventObject:w}),w=w.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())f.has(Qx(x.intersection))||h.push(x.intersection);return h}function i(l,u,c,f){const h=t.getState();if(l.length){const d={stopped:!1};for(const g of l){const v=U0(g.object)||h,{raycaster:y,pointer:x,camera:w,internal:_}=v,S=new se(x.x,x.y,0).unproject(w),b=R=>{var D,L;return(D=(L=_.capturedMap.get(R))==null?void 0:L.has(g.eventObject))!=null?D:!1},T=R=>{const D={intersection:g,target:u.target};_.capturedMap.has(R)?_.capturedMap.get(R).set(g.eventObject,D):_.capturedMap.set(R,new Map([[g.eventObject,D]])),u.target.setPointerCapture(R)},A=R=>{const D=_.capturedMap.get(R);D&&AV(_.capturedMap,g.eventObject,D,R)};let P={};for(let R in u){let D=u[R];typeof D!="function"&&(P[R]=D)}let M={...g,...P,pointer:x,intersections:l,stopped:d.stopped,delta:c,unprojectedPoint:S,ray:y.ray,camera:w,stopPropagation(){const R="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!R||R.has(g.eventObject))&&(M.stopped=d.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(D=>D.eventObject===g.eventObject))){const D=l.slice(0,l.indexOf(g));a([...D,g])}},target:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:A},currentTarget:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:A},nativeEvent:u};if(f(M),d.stopped===!0)break}}return l}function a(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,d=h==null?void 0:h.handlers;if(u.hovered.delete(Qx(c)),h!=null&&h.eventCount){const g={...c,intersections:l};d.onPointerOut==null||d.onPointerOut(g),d.onPointerLeave==null||d.onPointerLeave(g)}}}function s(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=c;const d=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,d?n:void 0),x=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=y.map(_=>_.eventObject)),g&&!y.length&&x<=2&&(s(c,h.interaction),f&&f(c)),d&&a(y);function w(_){const S=_.eventObject,b=S.__r3f,T=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(d){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const A=Qx(_),P=h.hovered.get(A);P?P.stopped&&_.stopPropagation():(h.hovered.set(A,_),T.onPointerOver==null||T.onPointerOver(_),T.onPointerEnter==null||T.onPointerEnter(_))}T.onPointerMove==null||T.onPointerMove(_)}else{const A=T[l];A?(!g||h.initialHits.includes(S))&&(s(c,h.interaction.filter(P=>!h.initialHits.includes(P))),A(_)):g&&h.initialHits.includes(S)&&s(c,h.interaction.filter(P=>!h.initialHits.includes(P)))}}i(y,c,x,w)}}return{handlePointer:o}}const MV=t=>!!(t!=null&&t.render),CV=fe.createContext(null),Fke=(t,e)=>{const n=vke((o,l)=>{const u=new se,c=new se,f=new se;function h(x=l().camera,w=c,_=l().size){const{width:S,height:b,top:T,left:A}=_,P=S/b;w.isVector3?f.copy(w):f.set(...w);const M=x.getWorldPosition(u).distanceTo(f);if(_V(x))return{width:S/x.zoom,height:b/x.zoom,top:T,left:A,factor:1,distance:M,aspect:P};{const R=x.fov*Math.PI/180,D=2*Math.tan(R/2)*M,L=D*(S/b);return{width:L,height:D,top:T,left:A,factor:S/L,distance:M,aspect:P}}}let d;const g=x=>o(w=>({performance:{...w.performance,current:x}})),v=new Qe;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>t(l(),x),advance:(x,w)=>e(x,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new oR,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();d&&clearTimeout(d),x.performance.current!==x.performance.min&&g(x.performance.min),d=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>o(w=>({...w,events:{...w.events,...x}})),setSize:(x,w,_,S,b)=>{const T=l().camera,A={width:x,height:w,top:S||0,left:b||0,updateStyle:_};o(P=>({size:A,viewport:{...P.viewport,...h(T,c,A)}}))},setDpr:x=>o(w=>{const _=EV(x);return{viewport:{...w.viewport,dpr:_,initialDpr:w.viewport.initialDpr||_}}}),setFrameloop:(x="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,x!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:fe.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,w,_)=>{const S=l().internal;return S.priority=S.priority+(w>0?1:0),S.subscribers.push({ref:x,priority:w,store:_}),S.subscribers=S.subscribers.sort((b,T)=>b.priority-T.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(w>0?1:0),b.subscribers=b.subscribers.filter(T=>T.ref!==x))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){var h;i=l,a=u.dpr,Ike(o,l),c.setPixelRatio(u.dpr);const d=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,d)}o!==s&&(s=o,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let e1,Uke=new Set,Bke=new Set,zke=new Set;function cT(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function B0(t,e){switch(t){case"before":return cT(Uke,e);case"after":return cT(Bke,e);case"tail":return cT(zke,e)}}let fT,hT;function dT(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),fT=e.internal.subscribers,e1=0;e1<fT.length;e1++)hT=fT[e1],hT.ref.current(hT.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function jke(t){let e=!1,n=!1,r,i,a;function s(u){i=requestAnimationFrame(s),e=!0,r=0,B0("before",u),n=!0;for(const f of t.values()){var c;a=f.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((c=a.gl.xr)!=null&&c.isPresenting)&&(r+=dT(u,a))}if(n=!1,B0("after",u),r===0)return B0("tail",u),e=!1,cancelAnimationFrame(i)}function o(u,c=1){var f;if(!u)return t.forEach(h=>o(h.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function l(u,c=!0,f,h){if(c&&B0("before",u),f)dT(u,f,h);else for(const d of t.values())dT(u,d.store.getState());c&&B0("after",u)}return{loop:s,invalidate:o,advance:l}}function PV(){const t=fe.useContext(CV);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function nl(t=n=>n,e){return PV()(t,e)}function Hke(t,e=0){const n=PV(),r=n.getState().internal.subscribe,i=wV(t);return Nv(()=>r(i,e,n),[e,r,n]),null}const op=new Map,{invalidate:kB,advance:FB}=jke(op),{reconciler:Sw,applyProps:Fh}=Cke(op,Lke),Uh={objects:"shallow",strict:!1},Wke=(t,e)=>{const n=typeof t=="function"?t(e):t;return MV(n)?n:new j3({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Gke(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:s,updateStyle:o=n}=e;return{width:r,height:i,top:a,left:s,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:a,left:s}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:s,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Vke(t){const e=op.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||Fke(kB,FB),s=n||Sw.createContainer(a,ud.ConcurrentRoot,null,!1,null,"",i,null);e||op.set(t,{fiber:s,store:a});let o,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:d,events:g,onCreated:v,shadows:y=!1,linear:x=!1,flat:w=!1,legacy:_=!1,orthographic:S=!1,frameloop:b="always",dpr:T=[1,2],performance:A,raycaster:P,camera:M,onPointerMissed:R}=c,D=a.getState(),L=D.gl;D.gl||D.set({gl:L=Wke(f,t)});let B=D.raycaster;B||D.set({raycaster:B=new dV});const{params:G,...z}=P||{};if(zn.equ(z,B,Uh)||Fh(B,{...z}),zn.equ(G,B.params,Uh)||Fh(B,{params:{...B.params,...G}}),!D.camera||D.camera===u&&!zn.equ(u,M,Uh)){u=M;const X=M instanceof Av,F=X?M:S?new Ru(0,0,0,0,.1,1e3):new vr(75,0,.1,1e3);X||(F.position.z=5,M&&(Fh(F,M),("aspect"in M||"left"in M||"right"in M||"bottom"in M||"top"in M)&&(F.manual=!0,F.updateProjectionMatrix())),!D.camera&&!(M!=null&&M.rotation)&&F.lookAt(0,0,0)),D.set({camera:F}),B.camera=F}if(!D.scene){let X;d!=null&&d.isScene?X=d:(X=new H3,d&&Fh(X,d)),D.set({scene:jh(X)})}if(!D.xr){var Z;const X=(V,Y)=>{const q=a.getState();q.frameloop!=="never"&&FB(V,!0,q,Y)},F=()=>{const V=a.getState();V.gl.xr.enabled=V.gl.xr.isPresenting,V.gl.xr.setAnimationLoop(V.gl.xr.isPresenting?X:null),V.gl.xr.isPresenting||kB(V)},N={connect(){const V=a.getState().gl;V.xr.addEventListener("sessionstart",F),V.xr.addEventListener("sessionend",F)},disconnect(){const V=a.getState().gl;V.xr.removeEventListener("sessionstart",F),V.xr.removeEventListener("sessionend",F)}};typeof((Z=L.xr)==null?void 0:Z.addEventListener)=="function"&&N.connect(),D.set({xr:N})}if(L.shadowMap){const X=L.shadowMap.enabled,F=L.shadowMap.type;if(L.shadowMap.enabled=!!y,zn.boo(y))L.shadowMap.type=ym;else if(zn.str(y)){var ee;const N={basic:dG,percentage:jS,soft:ym,variance:Bs};L.shadowMap.type=(ee=N[y])!=null?ee:ym}else zn.obj(y)&&Object.assign(L.shadowMap,y);(X!==L.shadowMap.enabled||F!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}const U=xV();U&&("enabled"in U?U.enabled=!_:"legacyMode"in U&&(U.legacyMode=_)),l||Fh(L,{outputEncoding:x?3e3:3001,toneMapping:w?Oo:b3}),D.legacy!==_&&D.set(()=>({legacy:_})),D.linear!==x&&D.set(()=>({linear:x})),D.flat!==w&&D.set(()=>({flat:w})),f&&!zn.fun(f)&&!MV(f)&&!zn.equ(f,L,Uh)&&Fh(L,f),g&&!D.events.handlers&&D.set({events:g(a)});const H=Gke(t,h);return zn.equ(H,D.size,Uh)||D.setSize(H.width,H.height,H.updateStyle,H.top,H.left),T&&D.viewport.dpr!==EV(T)&&D.setDpr(T),D.frameloop!==b&&D.setFrameloop(b),D.onPointerMissed||D.set({onPointerMissed:R}),A&&!zn.equ(A,D.performance,Uh)&&D.set(X=>({performance:{...X.performance,...A}})),o=v,l=!0,this},render(c){return l||this.configure(),Sw.updateContainer(O.jsx($ke,{store:a,children:c,onCreated:o,rootElement:t}),s,null,()=>{}),a},unmount(){OV(t)}}}function $ke({store:t,children:e,onCreated:n,rootElement:r}){return Nv(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),O.jsx(CV.Provider,{value:t,children:e})}function OV(t,e){const n=op.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Sw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,s,o,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Nke(i),op.delete(t)}catch{}},500)})}}Sw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:fe.version});const pT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Xke(t){const{handlePointer:e}=kke(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(pT).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:a}=t.getState();a.disconnect==null||a.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([s,o])=>{const[l,u]=pT[s];n.addEventListener(l,o,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,s])=>{if(r&&r.connected instanceof HTMLElement){const[o]=pT[a];r.connected.removeEventListener(o,s)}}),n(a=>({events:{...a.events,connected:void 0}}))}}}}function UB(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Yke({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=fe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=fe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=fe.useRef(!1);fe.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,d]=fe.useMemo(()=>{const x=()=>{if(!o.current.element)return;const{left:w,top:_,width:S,height:b,bottom:T,right:A,x:P,y:M}=o.current.element.getBoundingClientRect(),R={left:w,top:_,width:S,height:b,bottom:T,right:A,x:P,y:M};o.current.element instanceof HTMLElement&&r&&(R.height=o.current.element.offsetHeight,R.width=o.current.element.offsetWidth),Object.freeze(R),c.current&&!Jke(o.current.lastBounds,R)&&s(o.current.lastBounds=R)};return[x,u?UB(x,u):x,l?UB(x,l):x]},[s,r,l,u]);function g(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",d,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function v(){o.current.element&&(o.current.resizeObserver=new i(d),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(x=>x.addEventListener("scroll",d,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const y=x=>{!x||x===o.current.element||(g(),o.current.element=x,o.current.scrollContainers=RV(x),v())};return Kke(d,!!e),qke(h),fe.useEffect(()=>{g(),v()},[e,d,h]),fe.useEffect(()=>g,[]),[y,a,f]}function qke(t){fe.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Kke(t,e){fe.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function RV(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...RV(t.parentElement)]}const Zke=["x","y","top","bottom","left","right","width","height"],Jke=(t,e)=>Zke.every(n=>t[n]===e[n]);var Qke=Object.defineProperty,eFe=Object.defineProperties,tFe=Object.getOwnPropertyDescriptors,BB=Object.getOwnPropertySymbols,nFe=Object.prototype.hasOwnProperty,rFe=Object.prototype.propertyIsEnumerable,zB=(t,e,n)=>e in t?Qke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jB=(t,e)=>{for(var n in e||(e={}))nFe.call(e,n)&&zB(t,n,e[n]);if(BB)for(var n of BB(e))rFe.call(e,n)&&zB(t,n,e[n]);return t},iFe=(t,e)=>eFe(t,tFe(e)),HB,WB;typeof window<"u"&&((HB=window.document)!=null&&HB.createElement||((WB=window.navigator)==null?void 0:WB.product)==="ReactNative")?fe.useLayoutEffect:fe.useEffect;function NV(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=NV(r,e,n);if(i)return i;r=r.sibling}}function IV(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const GB=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=GB;return}return GB.apply(this,arguments)};const hR=IV(fe.createContext(null));class LV extends fe.Component{render(){return fe.createElement(hR.Provider,{value:this._reactInternals},this.props.children)}}function aFe(){const t=fe.useContext(hR);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=fe.useId();return fe.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=NV(r,!1,a=>{let s=a.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function sFe(){const t=aFe(),[e]=fe.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==hR&&!e.has(i)&&e.set(i,fe.useContext(IV(i)))}n=n.return}return e}function oFe(){const t=sFe();return fe.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>fe.createElement(e,null,fe.createElement(n.Provider,iFe(jB({},r),{value:t.get(n)}))),e=>fe.createElement(LV,jB({},e))),[t])}const lFe=fe.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:a,events:s=Xke,eventSource:o,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:g,dpr:v,performance:y,raycaster:x,camera:w,scene:_,onPointerMissed:S,onCreated:b,...T},A){fe.useMemo(()=>Mke(pke),[]);const P=oFe(),[M,R]=Yke({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=fe.useRef(null),L=fe.useRef(null);fe.useImperativeHandle(A,()=>D.current);const B=wV(S),[G,z]=fe.useState(!1),[Z,ee]=fe.useState(!1);if(G)throw G;if(Z)throw Z;const U=fe.useRef(null);Nv(()=>{const X=D.current;R.width>0&&R.height>0&&X&&(U.current||(U.current=Vke(X)),U.current.configure({gl:a,events:s,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:g,dpr:v,performance:y,raycaster:x,camera:w,scene:_,size:R,onPointerMissed:(...F)=>B.current==null?void 0:B.current(...F),onCreated:F=>{F.events.connect==null||F.events.connect(o?Pke(o)?o.current:o:L.current),l&&F.setEvents({compute:(N,V)=>{const Y=N[l+"X"],q=N[l+"Y"];V.pointer.set(Y/V.size.width*2-1,-(q/V.size.height)*2+1),V.raycaster.setFromCamera(V.pointer,V.camera)}}),b==null||b(F)}}),U.current.render(O.jsx(P,{children:O.jsx(SV,{set:ee,children:O.jsx(fe.Suspense,{fallback:O.jsx(Oke,{set:z}),children:e??null})})})))}),fe.useEffect(()=>{const X=D.current;if(X)return()=>OV(X)},[]);const H=o?"none":"auto";return O.jsx("div",{ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H,...i},...T,children:O.jsx("div",{ref:M,style:{width:"100%",height:"100%"},children:O.jsx("canvas",{ref:D,style:{display:"block"},children:n})})})}),uFe=fe.forwardRef(function(e,n){return O.jsx(LV,{children:O.jsx(lFe,{...e,ref:n})})});var cFe=Object.defineProperty,fFe=(t,e,n)=>e in t?cFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hFe=(t,e,n)=>(fFe(t,e+"",n),n);class dFe{constructor(){hFe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}var pFe=Object.defineProperty,mFe=(t,e,n)=>e in t?pFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kt=(t,e,n)=>(mFe(t,typeof e!="symbol"?e+"":e,n),n);const t1=new jf,VB=new al,gFe=Math.cos(70*(Math.PI/180)),$B=(t,e)=>(t%e+e)%e;let vFe=class extends dFe{constructor(e,n){super(),kt(this,"object"),kt(this,"domElement"),kt(this,"enabled",!0),kt(this,"target",new se),kt(this,"minDistance",0),kt(this,"maxDistance",1/0),kt(this,"minZoom",0),kt(this,"maxZoom",1/0),kt(this,"minPolarAngle",0),kt(this,"maxPolarAngle",Math.PI),kt(this,"minAzimuthAngle",-1/0),kt(this,"maxAzimuthAngle",1/0),kt(this,"enableDamping",!1),kt(this,"dampingFactor",.05),kt(this,"enableZoom",!0),kt(this,"zoomSpeed",1),kt(this,"enableRotate",!0),kt(this,"rotateSpeed",1),kt(this,"enablePan",!0),kt(this,"panSpeed",1),kt(this,"screenSpacePanning",!0),kt(this,"keyPanSpeed",7),kt(this,"zoomToCursor",!1),kt(this,"autoRotate",!1),kt(this,"autoRotateSpeed",2),kt(this,"reverseOrbit",!1),kt(this,"reverseHorizontalOrbit",!1),kt(this,"reverseVerticalOrbit",!1),kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),kt(this,"mouseButtons",{LEFT:Ic.ROTATE,MIDDLE:Ic.DOLLY,RIGHT:Ic.PAN}),kt(this,"touches",{ONE:Lc.ROTATE,TWO:Lc.DOLLY_PAN}),kt(this,"target0"),kt(this,"position0"),kt(this,"zoom0"),kt(this,"_domElementKeyEvents",null),kt(this,"getPolarAngle"),kt(this,"getAzimuthalAngle"),kt(this,"setPolarAngle"),kt(this,"setAzimuthalAngle"),kt(this,"getDistance"),kt(this,"getZoomScale"),kt(this,"listenToKeyEvents"),kt(this,"stopListenToKeyEvents"),kt(this,"saveState"),kt(this,"reset"),kt(this,"update"),kt(this,"connect"),kt(this,"dispose"),kt(this,"dollyIn"),kt(this,"dollyOut"),kt(this,"getScale"),kt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ce=>{let Be=$B(ce,2*Math.PI),ut=c.phi;ut<0&&(ut+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let de=Math.abs(Be-ut);2*Math.PI-de<de&&(Be<ut?Be+=2*Math.PI:ut+=2*Math.PI),f.phi=Be-ut,r.update()},this.setAzimuthalAngle=ce=>{let Be=$B(ce,2*Math.PI),ut=c.theta;ut<0&&(ut+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let de=Math.abs(Be-ut);2*Math.PI-de<de&&(Be<ut?Be+=2*Math.PI:ut+=2*Math.PI),f.theta=Be-ut,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ce=>{ce.addEventListener("keydown",Fe),this._domElementKeyEvents=ce},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Fe),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const ce=new se,Be=new se(0,1,0),ut=new Ni().setFromUnitVectors(e.up,Be),de=ut.clone().invert(),ze=new se,Oe=new Ni,st=2*Math.PI;return function(){const vt=r.object.position;ut.setFromUnitVectors(e.up,Be),de.copy(ut).invert(),ce.copy(vt).sub(r.target),ce.applyQuaternion(ut),c.setFromVector3(ce),r.autoRotate&&l===o.NONE&&G(L()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Mt=r.minAzimuthAngle,Ct=r.maxAzimuthAngle;isFinite(Mt)&&isFinite(Ct)&&(Mt<-Math.PI?Mt+=st:Mt>Math.PI&&(Mt-=st),Ct<-Math.PI?Ct+=st:Ct>Math.PI&&(Ct-=st),Mt<=Ct?c.theta=Math.max(Mt,Math.min(Ct,c.theta)):c.theta=c.theta>(Mt+Ct)/2?Math.max(Mt,c.theta):Math.min(Ct,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(d,r.dampingFactor):r.target.add(d),r.zoomToCursor&&M||r.object.isOrthographicCamera?c.radius=V(c.radius):c.radius=V(c.radius*h),ce.setFromSpherical(c),ce.applyQuaternion(de),vt.copy(r.target).add(ce),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,d.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),d.set(0,0,0));let Et=!1;if(r.zoomToCursor&&M){let Tt=null;if(r.object instanceof vr&&r.object.isPerspectiveCamera){const Qt=ce.length();Tt=V(Qt*h);const Gt=Qt-Tt;r.object.position.addScaledVector(A,Gt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Qt=new se(P.x,P.y,0);Qt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Et=!0;const Gt=new se(P.x,P.y,0);Gt.unproject(r.object),r.object.position.sub(Gt).add(Qt),r.object.updateMatrixWorld(),Tt=ce.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Tt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Tt).add(r.object.position):(t1.origin.copy(r.object.position),t1.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(t1.direction))<gFe?e.lookAt(r.target):(VB.setFromNormalAndCoplanarPoint(r.object.up,r.target),t1.intersectPlane(VB,r.target))))}else r.object instanceof Ru&&r.object.isOrthographicCamera&&(Et=h!==1,Et&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,M=!1,Et||ze.distanceToSquared(r.object.position)>u||8*(1-Oe.dot(r.object.quaternion))>u?(r.dispatchEvent(i),ze.copy(r.object.position),Oe.copy(r.object.quaternion),Et=!1,!0):!1}})(),this.connect=ce=>{r.domElement=ce,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Re),r.domElement.addEventListener("pointerdown",lt),r.domElement.addEventListener("pointercancel",K),r.domElement.addEventListener("wheel",De)},this.dispose=()=>{var ce,Be,ut,de,ze,Oe;r.domElement&&(r.domElement.style.touchAction="auto"),(ce=r.domElement)==null||ce.removeEventListener("contextmenu",Re),(Be=r.domElement)==null||Be.removeEventListener("pointerdown",lt),(ut=r.domElement)==null||ut.removeEventListener("pointercancel",K),(de=r.domElement)==null||de.removeEventListener("wheel",De),(ze=r.domElement)==null||ze.ownerDocument.removeEventListener("pointermove",Q),(Oe=r.domElement)==null||Oe.ownerDocument.removeEventListener("pointerup",K),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Fe)};const r=this,i={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const u=1e-6,c=new DC,f=new DC;let h=1;const d=new se,g=new Qe,v=new Qe,y=new Qe,x=new Qe,w=new Qe,_=new Qe,S=new Qe,b=new Qe,T=new Qe,A=new se,P=new Qe;let M=!1;const R=[],D={};function L(){return 2*Math.PI/60/60*r.autoRotateSpeed}function B(){return Math.pow(.95,r.zoomSpeed)}function G(ce){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ce:f.theta-=ce}function z(ce){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ce:f.phi-=ce}const Z=(()=>{const ce=new se;return function(ut,de){ce.setFromMatrixColumn(de,0),ce.multiplyScalar(-ut),d.add(ce)}})(),ee=(()=>{const ce=new se;return function(ut,de){r.screenSpacePanning===!0?ce.setFromMatrixColumn(de,1):(ce.setFromMatrixColumn(de,0),ce.crossVectors(r.object.up,ce)),ce.multiplyScalar(ut),d.add(ce)}})(),U=(()=>{const ce=new se;return function(ut,de){const ze=r.domElement;if(ze&&r.object instanceof vr&&r.object.isPerspectiveCamera){const Oe=r.object.position;ce.copy(Oe).sub(r.target);let st=ce.length();st*=Math.tan(r.object.fov/2*Math.PI/180),Z(2*ut*st/ze.clientHeight,r.object.matrix),ee(2*de*st/ze.clientHeight,r.object.matrix)}else ze&&r.object instanceof Ru&&r.object.isOrthographicCamera?(Z(ut*(r.object.right-r.object.left)/r.object.zoom/ze.clientWidth,r.object.matrix),ee(de*(r.object.top-r.object.bottom)/r.object.zoom/ze.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function H(ce){r.object instanceof vr&&r.object.isPerspectiveCamera||r.object instanceof Ru&&r.object.isOrthographicCamera?h=ce:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function X(ce){H(h/ce)}function F(ce){H(h*ce)}function N(ce){if(!r.zoomToCursor||!r.domElement)return;M=!0;const Be=r.domElement.getBoundingClientRect(),ut=ce.clientX-Be.left,de=ce.clientY-Be.top,ze=Be.width,Oe=Be.height;P.x=ut/ze*2-1,P.y=-(de/Oe)*2+1,A.set(P.x,P.y,1).unproject(r.object).sub(r.object.position).normalize()}function V(ce){return Math.max(r.minDistance,Math.min(r.maxDistance,ce))}function Y(ce){g.set(ce.clientX,ce.clientY)}function q(ce){N(ce),S.set(ce.clientX,ce.clientY)}function ae(ce){x.set(ce.clientX,ce.clientY)}function pe(ce){v.set(ce.clientX,ce.clientY),y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Be=r.domElement;Be&&(G(2*Math.PI*y.x/Be.clientHeight),z(2*Math.PI*y.y/Be.clientHeight)),g.copy(v),r.update()}function ye(ce){b.set(ce.clientX,ce.clientY),T.subVectors(b,S),T.y>0?X(B()):T.y<0&&F(B()),S.copy(b),r.update()}function ge(ce){w.set(ce.clientX,ce.clientY),_.subVectors(w,x).multiplyScalar(r.panSpeed),U(_.x,_.y),x.copy(w),r.update()}function Se(ce){N(ce),ce.deltaY<0?F(B()):ce.deltaY>0&&X(B()),r.update()}function we(ce){let Be=!1;switch(ce.code){case r.keys.UP:U(0,r.keyPanSpeed),Be=!0;break;case r.keys.BOTTOM:U(0,-r.keyPanSpeed),Be=!0;break;case r.keys.LEFT:U(r.keyPanSpeed,0),Be=!0;break;case r.keys.RIGHT:U(-r.keyPanSpeed,0),Be=!0;break}Be&&(ce.preventDefault(),r.update())}function W(){if(R.length==1)g.set(R[0].pageX,R[0].pageY);else{const ce=.5*(R[0].pageX+R[1].pageX),Be=.5*(R[0].pageY+R[1].pageY);g.set(ce,Be)}}function Pe(){if(R.length==1)x.set(R[0].pageX,R[0].pageY);else{const ce=.5*(R[0].pageX+R[1].pageX),Be=.5*(R[0].pageY+R[1].pageY);x.set(ce,Be)}}function ve(){const ce=R[0].pageX-R[1].pageX,Be=R[0].pageY-R[1].pageY,ut=Math.sqrt(ce*ce+Be*Be);S.set(0,ut)}function Ie(){r.enableZoom&&ve(),r.enablePan&&Pe()}function be(){r.enableZoom&&ve(),r.enableRotate&&W()}function Ae(ce){if(R.length==1)v.set(ce.pageX,ce.pageY);else{const ut=Xe(ce),de=.5*(ce.pageX+ut.x),ze=.5*(ce.pageY+ut.y);v.set(de,ze)}y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Be=r.domElement;Be&&(G(2*Math.PI*y.x/Be.clientHeight),z(2*Math.PI*y.y/Be.clientHeight)),g.copy(v)}function Ne(ce){if(R.length==1)w.set(ce.pageX,ce.pageY);else{const Be=Xe(ce),ut=.5*(ce.pageX+Be.x),de=.5*(ce.pageY+Be.y);w.set(ut,de)}_.subVectors(w,x).multiplyScalar(r.panSpeed),U(_.x,_.y),x.copy(w)}function He(ce){const Be=Xe(ce),ut=ce.pageX-Be.x,de=ce.pageY-Be.y,ze=Math.sqrt(ut*ut+de*de);b.set(0,ze),T.set(0,Math.pow(b.y/S.y,r.zoomSpeed)),X(T.y),S.copy(b)}function qe(ce){r.enableZoom&&He(ce),r.enablePan&&Ne(ce)}function Le(ce){r.enableZoom&&He(ce),r.enableRotate&&Ae(ce)}function lt(ce){var Be,ut;r.enabled!==!1&&(R.length===0&&((Be=r.domElement)==null||Be.ownerDocument.addEventListener("pointermove",Q),(ut=r.domElement)==null||ut.ownerDocument.addEventListener("pointerup",K)),ft(ce),ce.pointerType==="touch"?tt(ce):xe(ce))}function Q(ce){r.enabled!==!1&&(ce.pointerType==="touch"?Ke(ce):Je(ce))}function K(ce){var Be,ut,de;at(ce),R.length===0&&((Be=r.domElement)==null||Be.releasePointerCapture(ce.pointerId),(ut=r.domElement)==null||ut.ownerDocument.removeEventListener("pointermove",Q),(de=r.domElement)==null||de.ownerDocument.removeEventListener("pointerup",K)),r.dispatchEvent(s),l=o.NONE}function xe(ce){let Be;switch(ce.button){case 0:Be=r.mouseButtons.LEFT;break;case 1:Be=r.mouseButtons.MIDDLE;break;case 2:Be=r.mouseButtons.RIGHT;break;default:Be=-1}switch(Be){case Ic.DOLLY:if(r.enableZoom===!1)return;q(ce),l=o.DOLLY;break;case Ic.ROTATE:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(r.enablePan===!1)return;ae(ce),l=o.PAN}else{if(r.enableRotate===!1)return;Y(ce),l=o.ROTATE}break;case Ic.PAN:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(r.enableRotate===!1)return;Y(ce),l=o.ROTATE}else{if(r.enablePan===!1)return;ae(ce),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(a)}function Je(ce){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;pe(ce);break;case o.DOLLY:if(r.enableZoom===!1)return;ye(ce);break;case o.PAN:if(r.enablePan===!1)return;ge(ce);break}}function De(ce){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(ce.preventDefault(),r.dispatchEvent(a),Se(ce),r.dispatchEvent(s))}function Fe(ce){r.enabled===!1||r.enablePan===!1||we(ce)}function tt(ce){switch(it(ce),R.length){case 1:switch(r.touches.ONE){case Lc.ROTATE:if(r.enableRotate===!1)return;W(),l=o.TOUCH_ROTATE;break;case Lc.PAN:if(r.enablePan===!1)return;Pe(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case Lc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ie(),l=o.TOUCH_DOLLY_PAN;break;case Lc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;be(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(a)}function Ke(ce){switch(it(ce),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ae(ce),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;Ne(ce),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;qe(ce),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Le(ce),r.update();break;default:l=o.NONE}}function Re(ce){r.enabled!==!1&&ce.preventDefault()}function ft(ce){R.push(ce)}function at(ce){delete D[ce.pointerId];for(let Be=0;Be<R.length;Be++)if(R[Be].pointerId==ce.pointerId){R.splice(Be,1);return}}function it(ce){let Be=D[ce.pointerId];Be===void 0&&(Be=new Qe,D[ce.pointerId]=Be),Be.set(ce.pageX,ce.pageY)}function Xe(ce){const Be=ce.pointerId===R[0].pointerId?R[1]:R[0];return D[Be.pointerId]}this.dollyIn=(ce=B())=>{F(ce),r.update()},this.dollyOut=(ce=B())=>{X(ce),r.update()},this.getScale=()=>h,this.setScale=ce=>{H(ce),r.update()},this.getZoomScale=()=>B(),n!==void 0&&this.connect(n),this.update()}};function yFe(){var t=Object.create(null);function e(i,a){var s=i.id,o=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[s])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(d){if(d instanceof Error)throw d}),h=t[h.id].value),h}),u=r("<"+o+">.init",u),c&&(c=r("<"+o+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[s]={id:s,value:f,getTransferables:c},a(f)}catch(h){h&&h.noLog||console.error(h),a(h)}}function n(i,a){var s,o=i.id,l=i.args;(!t[o]||typeof t[o].value!="function")&&a(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var u=(s=t[o]).value.apply(s,l);u&&typeof u.then=="function"?u.then(c,function(f){return a(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){a(f)}function c(f){try{var h=t[o].getTransferables&&t[o].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),a(f,h)}catch(d){console.error(d),a(d)}}}function r(i,a){var s=void 0;self.troikaDefine=function(l){return s=l};var o=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(l){console.error(l)}return URL.revokeObjectURL(o),delete self.troikaDefine,s}self.addEventListener("message",function(i){var a=i.data,s=a.messageId,o=a.action,l=a.data;try{o==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:s,success:!1,error:u.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof u=="function"}})}),o==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:s,success:!1,error:u.message}):postMessage({messageId:s,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:s,success:!1,error:u.stack})}})}function xFe(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(n).then(function(a){return r.apply(null,a)});return e._getInitResult=function(){return i},i},e}var DV=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return DV=function(){return t},t},_Fe=0,wFe=0,mT=!1,Em=Object.create(null),Tm=Object.create(null),UC=Object.create(null);function Fp(t){if((!t||typeof t.init!="function")&&!mT)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,a=xFe(t);i==null&&(i="#default");var s="workerModule"+ ++_Fe,o=t.name||s,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(mT=!0,c=Fp({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+P1(c)+`
)}`}),mT=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function u(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];if(!DV())return a.apply(void 0,c);if(!l){l=XB(i,"registerModule",u.workerModuleData);var h=function(){l=null,Tm[i].delete(h)};(Tm[i]||(Tm[i]=new Set)).add(h)}return l.then(function(d){var g=d.isCallable;if(g)return XB(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:P1(n),getTransferables:r&&P1(r)},u.onMainThread=a,u}function SFe(t){Tm[t]&&Tm[t].forEach(function(e){e()}),Em[t]&&(Em[t].terminate(),delete Em[t])}function P1(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function bFe(t){var e=Em[t];if(!e){var n=P1(yFe);e=Em[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,a=i.messageId,s=UC[a];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete UC[a],s(i)}}return e}function XB(t,e,n){return new Promise(function(r,i){var a=++wFe;UC[a]=function(s){s.success?r(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},bFe(t).postMessage({messageId:a,action:e,data:n})})}function kV(){var t=function(e){function n(H,X,F,N,V,Y,q,ae){var pe=1-q;ae.x=pe*pe*H+2*pe*q*F+q*q*V,ae.y=pe*pe*X+2*pe*q*N+q*q*Y}function r(H,X,F,N,V,Y,q,ae,pe,ye){var ge=1-pe;ye.x=ge*ge*ge*H+3*ge*ge*pe*F+3*ge*pe*pe*V+pe*pe*pe*q,ye.y=ge*ge*ge*X+3*ge*ge*pe*N+3*ge*pe*pe*Y+pe*pe*pe*ae}function i(H,X){for(var F=/([MLQCZ])([^MLQCZ]*)/g,N,V,Y,q,ae;N=F.exec(H);){var pe=N[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ye){return parseFloat(ye)});switch(N[1]){case"M":q=V=pe[0],ae=Y=pe[1];break;case"L":(pe[0]!==q||pe[1]!==ae)&&X("L",q,ae,q=pe[0],ae=pe[1]);break;case"Q":{X("Q",q,ae,q=pe[2],ae=pe[3],pe[0],pe[1]);break}case"C":{X("C",q,ae,q=pe[4],ae=pe[5],pe[0],pe[1],pe[2],pe[3]);break}case"Z":(q!==V||ae!==Y)&&X("L",q,ae,V,Y);break}}}function a(H,X,F){F===void 0&&(F=16);var N={x:0,y:0};i(H,function(V,Y,q,ae,pe,ye,ge,Se,we){switch(V){case"L":X(Y,q,ae,pe);break;case"Q":{for(var W=Y,Pe=q,ve=1;ve<F;ve++)n(Y,q,ye,ge,ae,pe,ve/(F-1),N),X(W,Pe,N.x,N.y),W=N.x,Pe=N.y;break}case"C":{for(var Ie=Y,be=q,Ae=1;Ae<F;Ae++)r(Y,q,ye,ge,Se,we,ae,pe,Ae/(F-1),N),X(Ie,be,N.x,N.y),Ie=N.x,be=N.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(H,X){var F=H.getContext?H.getContext("webgl",u):H,N=l.get(F);if(!N){let Ie=function(Le){var lt=Y[Le];if(!lt&&(lt=Y[Le]=F.getExtension(Le),!lt))throw new Error(Le+" not supported");return lt},be=function(Le,lt){var Q=F.createShader(lt);return F.shaderSource(Q,Le),F.compileShader(Q),Q},Ae=function(Le,lt,Q,K){if(!q[Le]){var xe={},Je={},De=F.createProgram();F.attachShader(De,be(lt,F.VERTEX_SHADER)),F.attachShader(De,be(Q,F.FRAGMENT_SHADER)),F.linkProgram(De),q[Le]={program:De,transaction:function(tt){F.useProgram(De),tt({setUniform:function(Re,ft){for(var at=[],it=arguments.length-2;it-- >0;)at[it]=arguments[it+2];var Xe=Je[ft]||(Je[ft]=F.getUniformLocation(De,ft));F["uniform"+Re].apply(F,[Xe].concat(at))},setAttribute:function(Re,ft,at,it,Xe){var ce=xe[Re];ce||(ce=xe[Re]={buf:F.createBuffer(),loc:F.getAttribLocation(De,Re),data:null}),F.bindBuffer(F.ARRAY_BUFFER,ce.buf),F.vertexAttribPointer(ce.loc,ft,F.FLOAT,!1,0,0),F.enableVertexAttribArray(ce.loc),V?F.vertexAttribDivisor(ce.loc,it):Ie("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ce.loc,it),Xe!==ce.data&&(F.bufferData(F.ARRAY_BUFFER,Xe,at),ce.data=Xe)}})}}}q[Le].transaction(K)},Ne=function(Le,lt){pe++;try{F.activeTexture(F.TEXTURE0+pe);var Q=ae[Le];Q||(Q=ae[Le]=F.createTexture(),F.bindTexture(F.TEXTURE_2D,Q),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST)),F.bindTexture(F.TEXTURE_2D,Q),lt(Q,pe)}finally{pe--}},He=function(Le,lt,Q){var K=F.createFramebuffer();ye.push(K),F.bindFramebuffer(F.FRAMEBUFFER,K),F.activeTexture(F.TEXTURE0+lt),F.bindTexture(F.TEXTURE_2D,Le),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,Le,0);try{Q(K)}finally{F.deleteFramebuffer(K),F.bindFramebuffer(F.FRAMEBUFFER,ye[--ye.length-1]||null)}},qe=function(){Y={},q={},ae={},pe=-1,ye.length=0};var ge=Ie,Se=be,we=Ae,W=Ne,Pe=He,ve=qe,V=typeof WebGL2RenderingContext<"u"&&F instanceof WebGL2RenderingContext,Y={},q={},ae={},pe=-1,ye=[];F.canvas.addEventListener("webglcontextlost",function(Le){qe(),Le.preventDefault()},!1),l.set(F,N={gl:F,isWebGL2:V,getExtension:Ie,withProgram:Ae,withTexture:Ne,withTextureFramebuffer:He,handleContextLoss:qe})}X(N)}function f(H,X,F,N,V,Y,q,ae){q===void 0&&(q=15),ae===void 0&&(ae=null),c(H,function(pe){var ye=pe.gl,ge=pe.withProgram,Se=pe.withTexture;Se("copy",function(we,W){ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,V,Y,0,ye.RGBA,ye.UNSIGNED_BYTE,X),ge("copy",s,o,function(Pe){var ve=Pe.setUniform,Ie=Pe.setAttribute;Ie("aUV",2,ye.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ve("1i","image",W),ye.bindFramebuffer(ye.FRAMEBUFFER,ae||null),ye.disable(ye.BLEND),ye.colorMask(q&8,q&4,q&2,q&1),ye.viewport(F,N,V,Y),ye.scissor(F,N,V,Y),ye.drawArrays(ye.TRIANGLES,0,3)})})})}function h(H,X,F){var N=H.width,V=H.height;c(H,function(Y){var q=Y.gl,ae=new Uint8Array(N*V*4);q.readPixels(0,0,N,V,q.RGBA,q.UNSIGNED_BYTE,ae),H.width=X,H.height=F,f(q,ae,0,0,N,V)})}var d=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function g(H,X,F,N,V,Y){Y===void 0&&(Y=1);var q=new Uint8Array(H*X),ae=N[2]-N[0],pe=N[3]-N[1],ye=[];a(F,function(Ie,be,Ae,Ne){ye.push({x1:Ie,y1:be,x2:Ae,y2:Ne,minX:Math.min(Ie,Ae),minY:Math.min(be,Ne),maxX:Math.max(Ie,Ae),maxY:Math.max(be,Ne)})}),ye.sort(function(Ie,be){return Ie.maxX-be.maxX});for(var ge=0;ge<H;ge++)for(var Se=0;Se<X;Se++){var we=Pe(N[0]+ae*(ge+.5)/H,N[1]+pe*(Se+.5)/X),W=Math.pow(1-Math.abs(we)/V,Y)/2;we<0&&(W=1-W),W=Math.max(0,Math.min(255,Math.round(W*255))),q[Se*H+ge]=W}return q;function Pe(Ie,be){for(var Ae=1/0,Ne=1/0,He=ye.length;He--;){var qe=ye[He];if(qe.maxX+Ne<=Ie)break;if(Ie+Ne>qe.minX&&be-Ne<qe.maxY&&be+Ne>qe.minY){var Le=x(Ie,be,qe.x1,qe.y1,qe.x2,qe.y2);Le<Ae&&(Ae=Le,Ne=Math.sqrt(Ae))}}return ve(Ie,be)&&(Ne=-Ne),Ne}function ve(Ie,be){for(var Ae=0,Ne=ye.length;Ne--;){var He=ye[Ne];if(He.maxX<=Ie)break;var qe=He.y1>be!=He.y2>be&&Ie<(He.x2-He.x1)*(be-He.y1)/(He.y2-He.y1)+He.x1;qe&&(Ae+=He.y1<He.y2?1:-1)}return Ae!==0}}function v(H,X,F,N,V,Y,q,ae,pe,ye){Y===void 0&&(Y=1),ae===void 0&&(ae=0),pe===void 0&&(pe=0),ye===void 0&&(ye=0),y(H,X,F,N,V,Y,q,null,ae,pe,ye)}function y(H,X,F,N,V,Y,q,ae,pe,ye,ge){Y===void 0&&(Y=1),pe===void 0&&(pe=0),ye===void 0&&(ye=0),ge===void 0&&(ge=0);for(var Se=g(H,X,F,N,V,Y),we=new Uint8Array(Se.length*4),W=0;W<Se.length;W++)we[W*4+ge]=Se[W];f(q,we,pe,ye,H,X,1<<3-ge,ae)}function x(H,X,F,N,V,Y){var q=V-F,ae=Y-N,pe=q*q+ae*ae,ye=pe?Math.max(0,Math.min(1,((H-F)*q+(X-N)*ae)/pe)):0,ge=H-(F+ye*q),Se=X-(N+ye*ae);return ge*ge+Se*Se}var w=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),_="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",b="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",T=new Float32Array([0,0,2,0,0,2]),A=null,P=!1,M={},R=new WeakMap;function D(H){if(!P&&!z(H))throw new Error("WebGL generation not supported")}function L(H,X,F,N,V,Y,q){if(Y===void 0&&(Y=1),q===void 0&&(q=null),!q&&(q=A,!q)){var ae=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ae)throw new Error("OffscreenCanvas or DOM canvas not supported");q=A=ae.getContext("webgl",{depth:!1})}D(q);var pe=new Uint8Array(H*X*4);c(q,function(we){var W=we.gl,Pe=we.withTexture,ve=we.withTextureFramebuffer;Pe("readable",function(Ie,be){W.texImage2D(W.TEXTURE_2D,0,W.RGBA,H,X,0,W.RGBA,W.UNSIGNED_BYTE,null),ve(Ie,be,function(Ae){G(H,X,F,N,V,Y,W,Ae,0,0,0),W.readPixels(0,0,H,X,W.RGBA,W.UNSIGNED_BYTE,pe)})})});for(var ye=new Uint8Array(H*X),ge=0,Se=0;ge<pe.length;ge+=4)ye[Se++]=pe[ge];return ye}function B(H,X,F,N,V,Y,q,ae,pe,ye){Y===void 0&&(Y=1),ae===void 0&&(ae=0),pe===void 0&&(pe=0),ye===void 0&&(ye=0),G(H,X,F,N,V,Y,q,null,ae,pe,ye)}function G(H,X,F,N,V,Y,q,ae,pe,ye,ge){Y===void 0&&(Y=1),pe===void 0&&(pe=0),ye===void 0&&(ye=0),ge===void 0&&(ge=0),D(q);var Se=[];a(F,function(we,W,Pe,ve){Se.push(we,W,Pe,ve)}),Se=new Float32Array(Se),c(q,function(we){var W=we.gl,Pe=we.isWebGL2,ve=we.getExtension,Ie=we.withProgram,be=we.withTexture,Ae=we.withTextureFramebuffer,Ne=we.handleContextLoss;if(be("rawDistances",function(He,qe){(H!==He._lastWidth||X!==He._lastHeight)&&W.texImage2D(W.TEXTURE_2D,0,W.RGBA,He._lastWidth=H,He._lastHeight=X,0,W.RGBA,W.UNSIGNED_BYTE,null),Ie("main",_,S,function(Le){var lt=Le.setAttribute,Q=Le.setUniform,K=!Pe&&ve("ANGLE_instanced_arrays"),xe=!Pe&&ve("EXT_blend_minmax");lt("aUV",2,W.STATIC_DRAW,0,T),lt("aLineSegment",4,W.DYNAMIC_DRAW,1,Se),Q.apply(void 0,["4f","uGlyphBounds"].concat(N)),Q("1f","uMaxDistance",V),Q("1f","uExponent",Y),Ae(He,qe,function(Je){W.enable(W.BLEND),W.colorMask(!0,!0,!0,!0),W.viewport(0,0,H,X),W.scissor(0,0,H,X),W.blendFunc(W.ONE,W.ONE),W.blendEquationSeparate(W.FUNC_ADD,Pe?W.MAX:xe.MAX_EXT),W.clear(W.COLOR_BUFFER_BIT),Pe?W.drawArraysInstanced(W.TRIANGLES,0,3,Se.length/4):K.drawArraysInstancedANGLE(W.TRIANGLES,0,3,Se.length/4)})}),Ie("post",s,b,function(Le){Le.setAttribute("aUV",2,W.STATIC_DRAW,0,T),Le.setUniform("1i","tex",qe),W.bindFramebuffer(W.FRAMEBUFFER,ae),W.disable(W.BLEND),W.colorMask(ge===0,ge===1,ge===2,ge===3),W.viewport(pe,ye,H,X),W.scissor(pe,ye,H,X),W.drawArrays(W.TRIANGLES,0,3)})}),W.isContextLost())throw Ne(),new Error("webgl context lost")})}function z(H){var X=!H||H===A?M:H.canvas||H,F=R.get(X);if(F===void 0){P=!0;var N=null;try{var V=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Y=L(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,H);F=Y&&V.length===Y.length&&Y.every(function(q,ae){return q===V[ae]}),F||(N="bad trial run results",console.info(V,Y))}catch(q){F=!1,N=q.message}N&&console.warn("WebGL SDF generation not supported:",N),P=!1,R.set(X,F)}return F}var Z=Object.freeze({__proto__:null,generate:L,generateIntoCanvas:B,generateIntoFramebuffer:G,isSupported:z});function ee(H,X,F,N,V,Y){V===void 0&&(V=Math.max(N[2]-N[0],N[3]-N[1])/2),Y===void 0&&(Y=1);try{return L.apply(Z,arguments)}catch(q){return console.info("WebGL SDF generation failed, falling back to JS",q),g.apply(w,arguments)}}function U(H,X,F,N,V,Y,q,ae,pe,ye){V===void 0&&(V=Math.max(N[2]-N[0],N[3]-N[1])/2),Y===void 0&&(Y=1),ae===void 0&&(ae=0),pe===void 0&&(pe=0),ye===void 0&&(ye=0);try{return B.apply(Z,arguments)}catch(ge){return console.info("WebGL SDF generation failed, falling back to JS",ge),v.apply(w,arguments)}}return e.forEachPathCommand=i,e.generate=ee,e.generateIntoCanvas=U,e.javascript=w,e.pathToLineSegments=a,e.webgl=Z,e.webglUtils=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function EFe(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Ne,He){r[Ne]=1<<He+1,i[r[Ne]]=Ne}),Object.freeze(r);var a=r.LRI|r.RLI|r.FSI,s=r.L|r.R|r.AL,o=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|a|r.PDI|l,c=null;function f(){if(!c){c=new Map;var Ne=function(qe){if(n.hasOwnProperty(qe)){var Le=0;n[qe].split(",").forEach(function(lt){var Q=lt.split("+"),K=Q[0],xe=Q[1];K=parseInt(K,36),xe=xe?parseInt(xe,36):0,c.set(Le+=K,r[qe]);for(var Je=0;Je<xe;Je++)c.set(++Le,r[qe])})}};for(var He in n)Ne(He)}}function h(Ne){return f(),c.get(Ne.codePointAt(0))||r.L}function d(Ne){return i[h(Ne)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(Ne,He){var qe=36,Le=0,lt=new Map,Q=He&&new Map,K;return Ne.split(",").forEach(function xe(Je){if(Je.indexOf("+")!==-1)for(var De=+Je;De--;)xe(K);else{K=Je;var Fe=Je.split(">"),tt=Fe[0],Ke=Fe[1];tt=String.fromCodePoint(Le+=parseInt(tt,qe)),Ke=String.fromCodePoint(Le+=parseInt(Ke,qe)),lt.set(tt,Ke),He&&Q.set(Ke,tt)}}),{map:lt,reverseMap:Q}}var y,x,w;function _(){if(!y){var Ne=v(g.pairs,!0),He=Ne.map,qe=Ne.reverseMap;y=He,x=qe,w=v(g.canonical,!1).map}}function S(Ne){return _(),y.get(Ne)||null}function b(Ne){return _(),x.get(Ne)||null}function T(Ne){return _(),w.get(Ne)||null}var A=r.L,P=r.R,M=r.EN,R=r.ES,D=r.ET,L=r.AN,B=r.CS,G=r.B,z=r.S,Z=r.ON,ee=r.BN,U=r.NSM,H=r.AL,X=r.LRO,F=r.RLO,N=r.LRE,V=r.RLE,Y=r.PDF,q=r.LRI,ae=r.RLI,pe=r.FSI,ye=r.PDI;function ge(Ne,He){for(var qe=125,Le=new Uint32Array(Ne.length),lt=0;lt<Ne.length;lt++)Le[lt]=h(Ne[lt]);var Q=new Map;function K(Vr,ji){var fr=Le[Vr];Le[Vr]=ji,Q.set(fr,Q.get(fr)-1),fr&o&&Q.set(o,Q.get(o)-1),Q.set(ji,(Q.get(ji)||0)+1),ji&o&&Q.set(o,(Q.get(o)||0)+1)}for(var xe=new Uint8Array(Ne.length),Je=new Map,De=[],Fe=null,tt=0;tt<Ne.length;tt++)Fe||De.push(Fe={start:tt,end:Ne.length-1,level:He==="rtl"?1:He==="ltr"?0:Kf(tt,!1)}),Le[tt]&G&&(Fe.end=tt,Fe=null);for(var Ke=V|N|F|X|a|ye|Y|G,Re=function(Vr){return Vr+(Vr&1?1:2)},ft=function(Vr){return Vr+(Vr&1?2:1)},at=0;at<De.length;at++){Fe=De[at];var it=[{_level:Fe.level,_override:0,_isolate:0}],Xe=void 0,ce=0,Be=0,ut=0;Q.clear();for(var de=Fe.start;de<=Fe.end;de++){var ze=Le[de];if(Xe=it[it.length-1],Q.set(ze,(Q.get(ze)||0)+1),ze&o&&Q.set(o,(Q.get(o)||0)+1),ze&Ke)if(ze&(V|N)){xe[de]=Xe._level;var Oe=(ze===V?ft:Re)(Xe._level);Oe<=qe&&!ce&&!Be?it.push({_level:Oe,_override:0,_isolate:0}):ce||Be++}else if(ze&(F|X)){xe[de]=Xe._level;var st=(ze===F?ft:Re)(Xe._level);st<=qe&&!ce&&!Be?it.push({_level:st,_override:ze&F?P:A,_isolate:0}):ce||Be++}else if(ze&a){ze&pe&&(ze=Kf(de+1,!0)===1?ae:q),xe[de]=Xe._level,Xe._override&&K(de,Xe._override);var nt=(ze===ae?ft:Re)(Xe._level);nt<=qe&&ce===0&&Be===0?(ut++,it.push({_level:nt,_override:0,_isolate:1,_isolInitIndex:de})):ce++}else if(ze&ye){if(ce>0)ce--;else if(ut>0){for(Be=0;!it[it.length-1]._isolate;)it.pop();var vt=it[it.length-1]._isolInitIndex;vt!=null&&(Je.set(vt,de),Je.set(de,vt)),it.pop(),ut--}Xe=it[it.length-1],xe[de]=Xe._level,Xe._override&&K(de,Xe._override)}else ze&Y?(ce===0&&(Be>0?Be--:!Xe._isolate&&it.length>1&&(it.pop(),Xe=it[it.length-1])),xe[de]=Xe._level):ze&G&&(xe[de]=Fe.level);else xe[de]=Xe._level,Xe._override&&ze!==ee&&K(de,Xe._override)}for(var Mt=[],Ct=null,Et=Fe.start;Et<=Fe.end;Et++){var Tt=Le[Et];if(!(Tt&l)){var Qt=xe[Et],Gt=Tt&a,Nn=Tt===ye;Ct&&Qt===Ct._level?(Ct._end=Et,Ct._endsWithIsolInit=Gt):Mt.push(Ct={_start:Et,_end:Et,_level:Qt,_startsWithPDI:Nn,_endsWithIsolInit:Gt})}}for(var _r=[],Di=0;Di<Mt.length;Di++){var wr=Mt[Di];if(!wr._startsWithPDI||wr._startsWithPDI&&!Je.has(wr._start)){for(var ki=[Ct=wr],J=void 0;Ct&&Ct._endsWithIsolInit&&(J=Je.get(Ct._end))!=null;)for(var le=Di+1;le<Mt.length;le++)if(Mt[le]._start===J){ki.push(Ct=Mt[le]);break}for(var te=[],ie=0;ie<ki.length;ie++)for(var ue=ki[ie],k=ue._start;k<=ue._end;k++)te.push(k);for(var re=xe[te[0]],me=Fe.level,ne=te[0]-1;ne>=0;ne--)if(!(Le[ne]&l)){me=xe[ne];break}var oe=te[te.length-1],_e=xe[oe],Ue=Fe.level;if(!(Le[oe]&a)){for(var Ge=oe+1;Ge<=Fe.end;Ge++)if(!(Le[Ge]&l)){Ue=xe[Ge];break}}_r.push({_seqIndices:te,_sosType:Math.max(me,re)%2?P:A,_eosType:Math.max(Ue,_e)%2?P:A})}}for(var et=0;et<_r.length;et++){var Ve=_r[et],Me=Ve._seqIndices,ot=Ve._sosType,Lt=Ve._eosType,Rt=xe[Me[0]]&1?P:A;if(Q.get(U))for(var rn=0;rn<Me.length;rn++){var tr=Me[rn];if(Le[tr]&U){for(var en=ot,Nt=rn-1;Nt>=0;Nt--)if(!(Le[Me[Nt]]&l)){en=Le[Me[Nt]];break}K(tr,en&(a|ye)?Z:en)}}if(Q.get(M))for(var jt=0;jt<Me.length;jt++){var It=Me[jt];if(Le[It]&M)for(var pn=jt-1;pn>=-1;pn--){var nr=pn===-1?ot:Le[Me[pn]];if(nr&s){nr===H&&K(It,L);break}}}if(Q.get(H))for(var Gn=0;Gn<Me.length;Gn++){var na=Me[Gn];Le[na]&H&&K(na,P)}if(Q.get(R)||Q.get(B))for(var En=1;En<Me.length-1;En++){var In=Me[En];if(Le[In]&(R|B)){for(var Fi=0,Sr=0,lo=En-1;lo>=0&&(Fi=Le[Me[lo]],!!(Fi&l));lo--);for(var uo=En+1;uo<Me.length&&(Sr=Le[Me[uo]],!!(Sr&l));uo++);Fi===Sr&&(Le[In]===R?Fi===M:Fi&(M|L))&&K(In,Fi)}}if(Q.get(M))for(var mi=0;mi<Me.length;mi++){var Ea=Me[mi];if(Le[Ea]&M){for(var $f=mi-1;$f>=0&&Le[Me[$f]]&(D|l);$f--)K(Me[$f],M);for(mi++;mi<Me.length&&Le[Me[mi]]&(D|l|M);mi++)Le[Me[mi]]!==M&&K(Me[mi],M)}}if(Q.get(D)||Q.get(R)||Q.get(B))for(var tc=0;tc<Me.length;tc++){var Iv=Me[tc];if(Le[Iv]&(D|R|B)){K(Iv,Z);for(var Uo=tc-1;Uo>=0&&Le[Me[Uo]]&l;Uo--)K(Me[Uo],Z);for(var Bo=tc+1;Bo<Me.length&&Le[Me[Bo]]&l;Bo++)K(Me[Bo],Z)}}if(Q.get(M))for(var zo=0,nc=ot;zo<Me.length;zo++){var Lv=Me[zo],Up=Le[Lv];Up&M?nc===A&&K(Lv,A):Up&s&&(nc=Up)}if(Q.get(o)){var jo=P|M|L,Xf=jo|A,co=[];{for(var jl=[],fo=0;fo<Me.length;fo++)if(Le[Me[fo]]&o){var Jt=Ne[Me[fo]],Bp=void 0;if(S(Jt)!==null)if(jl.length<63)jl.push({char:Jt,seqIndex:fo});else break;else if((Bp=b(Jt))!==null)for(var Ho=jl.length-1;Ho>=0;Ho--){var Yf=jl[Ho].char;if(Yf===Bp||Yf===b(T(Jt))||S(T(Yf))===Jt){co.push([jl[Ho].seqIndex,fo]),jl.length=Ho;break}}}co.sort(function(Vr,ji){return Vr[0]-ji[0]})}for(var zp=0;zp<co.length;zp++){for(var Dv=co[zp],Yn=Dv[0],rc=Dv[1],kv=!1,Ui=0,jp=Yn+1;jp<rc;jp++){var ic=Me[jp];if(Le[ic]&Xf){kv=!0;var Ta=Le[ic]&jo?P:A;if(Ta===Rt){Ui=Ta;break}}}if(kv&&!Ui){Ui=ot;for(var Hp=Yn-1;Hp>=0;Hp--){var Fv=Me[Hp];if(Le[Fv]&Xf){var Aa=Le[Fv]&jo?P:A;Aa!==Rt?Ui=Aa:Ui=Rt;break}}}if(Ui){if(Le[Me[Yn]]=Le[Me[rc]]=Ui,Ui!==Rt){for(var Bi=Yn+1;Bi<Me.length;Bi++)if(!(Le[Me[Bi]]&l)){h(Ne[Me[Bi]])&U&&(Le[Me[Bi]]=Ui);break}}if(Ui!==Rt){for(var ho=rc+1;ho<Me.length;ho++)if(!(Le[Me[ho]]&l)){h(Ne[Me[ho]])&U&&(Le[Me[ho]]=Ui);break}}}}for(var Za=0;Za<Me.length;Za++)if(Le[Me[Za]]&o){for(var Wp=Za,Gp=Za,ra=ot,ac=Za-1;ac>=0;ac--)if(Le[Me[ac]]&l)Wp=ac;else{ra=Le[Me[ac]]&jo?P:A;break}for(var sc=Lt,oc=Za+1;oc<Me.length;oc++)if(Le[Me[oc]]&(o|l))Gp=oc;else{sc=Le[Me[oc]]&jo?P:A;break}for(var zi=Wp;zi<=Gp;zi++)Le[Me[zi]]=ra===sc?ra:Rt;Za=Gp}}}for(var Gr=Fe.start;Gr<=Fe.end;Gr++){var qf=xe[Gr],Cs=Le[Gr];if(qf&1?Cs&(A|M|L)&&xe[Gr]++:Cs&P?xe[Gr]++:Cs&(L|M)&&(xe[Gr]+=2),Cs&l&&(xe[Gr]=Gr===0?Fe.level:xe[Gr-1]),Gr===Fe.end||h(Ne[Gr])&(z|G))for(var Hl=Gr;Hl>=0&&h(Ne[Hl])&u;Hl--)xe[Hl]=Fe.level}}return{levels:xe,paragraphs:De};function Kf(Vr,ji){for(var fr=Vr;fr<Ne.length;fr++){var hr=Le[fr];if(hr&(P|H))return 1;if(hr&(G|A)||ji&&hr===ye)return 0;if(hr&a){var Ma=Uv(fr);fr=Ma===-1?Ne.length:Ma}}return 0}function Uv(Vr){for(var ji=1,fr=Vr+1;fr<Ne.length;fr++){var hr=Le[fr];if(hr&G)break;if(hr&ye){if(--ji===0)return fr}else hr&a&&ji++}return-1}}var Se="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",we;function W(){if(!we){var Ne=v(Se,!0),He=Ne.map,qe=Ne.reverseMap;qe.forEach(function(Le,lt){He.set(lt,Le)}),we=He}}function Pe(Ne){return W(),we.get(Ne)||null}function ve(Ne,He,qe,Le){var lt=Ne.length;qe=Math.max(0,qe==null?0:+qe),Le=Math.min(lt-1,Le==null?lt-1:+Le);for(var Q=new Map,K=qe;K<=Le;K++)if(He[K]&1){var xe=Pe(Ne[K]);xe!==null&&Q.set(K,xe)}return Q}function Ie(Ne,He,qe,Le){var lt=Ne.length;qe=Math.max(0,qe==null?0:+qe),Le=Math.min(lt-1,Le==null?lt-1:+Le);var Q=[];return He.paragraphs.forEach(function(K){var xe=Math.max(qe,K.start),Je=Math.min(Le,K.end);if(xe<Je){for(var De=He.levels.slice(xe,Je+1),Fe=Je;Fe>=xe&&h(Ne[Fe])&u;Fe--)De[Fe]=K.level;for(var tt=K.level,Ke=1/0,Re=0;Re<De.length;Re++){var ft=De[Re];ft>tt&&(tt=ft),ft<Ke&&(Ke=ft|1)}for(var at=tt;at>=Ke;at--)for(var it=0;it<De.length;it++)if(De[it]>=at){for(var Xe=it;it+1<De.length&&De[it+1]>=at;)it++;it>Xe&&Q.push([Xe+xe,it+xe])}}}),Q}function be(Ne,He,qe,Le){var lt=Ae(Ne,He,qe,Le),Q=[].concat(Ne);return lt.forEach(function(K,xe){Q[xe]=(He.levels[K]&1?Pe(Ne[K]):null)||Ne[K]}),Q.join("")}function Ae(Ne,He,qe,Le){for(var lt=Ie(Ne,He,qe,Le),Q=[],K=0;K<Ne.length;K++)Q[K]=K;return lt.forEach(function(xe){for(var Je=xe[0],De=xe[1],Fe=Q.slice(Je,De+1),tt=Fe.length;tt--;)Q[De-tt]=Fe[tt]}),Q}return e.closingToOpeningBracket=b,e.getBidiCharType=h,e.getBidiCharTypeName=d,e.getCanonicalBracket=T,e.getEmbeddingLevels=ge,e.getMirroredCharacter=Pe,e.getMirroredCharactersMap=ve,e.getReorderSegments=Ie,e.getReorderedIndices=Ae,e.getReorderedString=be,e.openingToClosingBracket=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const FV=/\bvoid\s+main\s*\(\s*\)\s*{/g;function BC(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let a=Ht[i];return a?BC(a):r}return t.replace(e,n)}const ri=[];for(let t=0;t<256;t++)ri[t]=(t<16?"0":"")+t.toString(16);function TFe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ri[t&255]+ri[t>>8&255]+ri[t>>16&255]+ri[t>>24&255]+"-"+ri[e&255]+ri[e>>8&255]+"-"+ri[e>>16&15|64]+ri[e>>24&255]+"-"+ri[n&63|128]+ri[n>>8&255]+"-"+ri[n>>16&255]+ri[n>>24&255]+ri[r&255]+ri[r>>8&255]+ri[r>>16&255]+ri[r>>24&255]).toUpperCase()}const Mc=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},AFe=Date.now(),YB=new WeakMap,qB=new Map;let MFe=1e10;function zC(t,e){const n=RFe(e);let r=YB.get(t);if(r||YB.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,a=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=qB[f];if(!h){const d=CFe(this,u,e,n);h=qB[f]=d}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,Mc(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-AFe}}),this[i]&&this[i](u)},s=function(){return o(e.chained?t:t.clone())},o=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:MFe++}),c.uuid=TFe(),c.uniforms=Mc({},u.uniforms,e.uniforms),c.defines=Mc({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=Mc({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const c=this.baseMaterial;return u===c||c.isDerivedMaterial&&c.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return a},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Mc(this.extensions,u.extensions),Mc(this.defines,u.defines),Mc(this.uniforms,B3.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return o(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=zC(t.isDerivedMaterial?t.getDepthMaterial():new YS({depthPacking:I3}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=zC(t.isDerivedMaterial?t.getDistanceMaterial():new qS,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=s,new s}function CFe(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:a,vertexMainIntro:s,vertexMainOutro:o,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:d,timeUniform:g}=r;if(a=a||"",s=s||"",o=o||"",u=u||"",c=c||"",f=f||"",(l||d)&&(e=BC(e)),(h||d)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=BC(n)),d){let v=d({vertexShader:e,fragmentShader:n});e=v.vertexShader,n=v.fragmentShader}if(h){let v=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${h}
${v.join(`
`)}
${f}`}if(g){const v=`
uniform float ${g};
`;a=v+a,u=v+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,x,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,x))?y:`troika_${y}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=KB(e,i,a,s,o),n=KB(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function KB(t,e,n,r,i){return(r||i||n)&&(t=t.replace(FV,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function PFe(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let OFe=0;const ZB=new Map;function RFe(t){const e=JSON.stringify(t,PFe);let n=ZB.get(e);return n==null&&ZB.set(e,n=++OFe),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function NFe(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var a=e._bin,s=new Uint8Array(i);if(a.readASCII(s,0,4)=="ttcf"){var o=4;a.readUshort(s,o),o+=2,a.readUshort(s,o),o+=2;var l=a.readUint(s,o);o+=4;for(var u=[],c=0;c<l;c++){var f=a.readUint(s,o);o+=4,u.push(e._readFont(s,f))}return u}return[e._readFont(s,0)]},_readFont:function(i,a){var s=e._bin,o=a;s.readFixed(i,a),a+=4;var l=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:i,_offset:o},f={},h=0;h<l;h++){var d=s.readASCII(i,a,4);a+=4,s.readUint(i,a),a+=4;var g=s.readUint(i,a);a+=4;var v=s.readUint(i,a);a+=4,f[d]={offset:g,length:v}}for(h=0;h<u.length;h++){var y=u[h];f[y]&&(c[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,c))}return c},_tabOffset:function(i,a,s){for(var o=e._bin,l=o.readUshort(i,s+4),u=s+12,c=0;c<l;c++){var f=o.readASCII(i,u,4);u+=4,o.readUint(i,u),u+=4;var h=o.readUint(i,u);if(u+=4,o.readUint(i,u),u+=4,f==a)return h}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(e._bin.readUshort(i,a+2*l));return o},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,s){for(var o="",l=0;l<s;l++)o+=String.fromCharCode(i[a+l]);return o},readUnicode:function(i,a,s){for(var o="",l=0;l<s;l++){var u=i[a++]<<8|i[a++];o+=String.fromCharCode(u)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,s){var o=e._bin._tdec;return o&&a==0&&s==i.length?o.decode(i):e._bin.readASCII(i,a,s)},readBytes:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(i[a+l]);return o},readASCIIArray:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(String.fromCharCode(i[a+l]));return o},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,s,o,l){var u=e._bin,c={},f=a;u.readFixed(i,a),a+=4;var h=u.readUshort(i,a);a+=2;var d=u.readUshort(i,a);a+=2;var g=u.readUshort(i,a);return a+=2,c.scriptList=e._lctf.readScriptList(i,f+h),c.featureList=e._lctf.readFeatureList(i,f+d),c.lookupList=e._lctf.readLookupList(i,f+g,l),c},e._lctf.readLookupList=function(i,a,s){var o=e._bin,l=a,u=[],c=o.readUshort(i,a);a+=2;for(var f=0;f<c;f++){var h=o.readUshort(i,a);a+=2;var d=e._lctf.readLookupTable(i,l+h,s);u.push(d)}return u},e._lctf.readLookupTable=function(i,a,s){var o=e._bin,l=a,u={tabs:[]};u.ltype=o.readUshort(i,a),a+=2,u.flag=o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2;for(var f=u.ltype,h=0;h<c;h++){var d=o.readUshort(i,a);a+=2;var g=s(i,f,l+d,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var a=0,s=0;s<32;s++)i>>>s&1&&a++;return a},e._lctf.readClassDef=function(i,a){var s=e._bin,o=[],l=s.readUshort(i,a);if(a+=2,l==1){var u=s.readUshort(i,a);a+=2;var c=s.readUshort(i,a);a+=2;for(var f=0;f<c;f++)o.push(u+f),o.push(u+f),o.push(s.readUshort(i,a)),a+=2}if(l==2){var h=s.readUshort(i,a);for(a+=2,f=0;f<h;f++)o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2}return o},e._lctf.getInterval=function(i,a){for(var s=0;s<i.length;s+=3){var o=i[s],l=i[s+1];if(i[s+2],o<=a&&a<=l)return s}return-1},e._lctf.readCoverage=function(i,a){var s=e._bin,o={};o.fmt=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);return a+=2,o.fmt==1&&(o.tab=s.readUshorts(i,a,l)),o.fmt==2&&(o.tab=s.readUshorts(i,a,3*l)),o},e._lctf.coverageIndex=function(i,a){var s=i.tab;if(i.fmt==1)return s.indexOf(a);if(i.fmt==2){var o=e._lctf.getInterval(s,a);if(o!=-1)return s[o+2]+(a-s[o])}return-1},e._lctf.readFeatureList=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=s.readASCII(i,a,4);a+=4;var h=s.readUshort(i,a);a+=2;var d=e._lctf.readFeatureTable(i,o+h);d.tag=f.trim(),l.push(d)}return l},e._lctf.readFeatureTable=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2,u>0&&(l.featureParams=o+u);var c=s.readUshort(i,a);a+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(s.readUshort(i,a+2*f));return l},e._lctf.readScriptList=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=s.readASCII(i,a,4);a+=4;var h=s.readUshort(i,a);a+=2,l[f.trim()]=e._lctf.readScriptTable(i,o+h)}return l},e._lctf.readScriptTable=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,o+u));var c=s.readUshort(i,a);a+=2;for(var f=0;f<c;f++){var h=s.readASCII(i,a,4);a+=4;var d=s.readUshort(i,a);a+=2,l[h.trim()]=e._lctf.readLangSysTable(i,o+d)}return l},e._lctf.readLangSysTable=function(i,a){var s=e._bin,o={};s.readUshort(i,a),a+=2,o.reqFeature=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);return a+=2,o.features=s.readUshorts(i,a,l),o},e.CFF={},e.CFF.parse=function(i,a,s){var o=e._bin;(i=new Uint8Array(i.buffer,a,s))[a=0],i[++a],i[++a],i[++a],a++;var l=[];a=e.CFF.readIndex(i,a,l);for(var u=[],c=0;c<l.length-1;c++)u.push(o.readASCII(i,a+l[c],l[c+1]-l[c]));a+=l[l.length-1];var f=[];a=e.CFF.readIndex(i,a,f);var h=[];for(c=0;c<f.length-1;c++)h.push(e.CFF.readDict(i,a+f[c],a+f[c+1]));a+=f[f.length-1];var d=h[0],g=[];a=e.CFF.readIndex(i,a,g);var v=[];for(c=0;c<g.length-1;c++)v.push(o.readASCII(i,a+g[c],g[c+1]-g[c]));if(a+=g[g.length-1],e.CFF.readSubrs(i,a,d),d.CharStrings){a=d.CharStrings,g=[],a=e.CFF.readIndex(i,a,g);var y=[];for(c=0;c<g.length-1;c++)y.push(o.readBytes(i,a+g[c],g[c+1]-g[c]));d.CharStrings=y}if(d.ROS){a=d.FDArray;var x=[];for(a=e.CFF.readIndex(i,a,x),d.FDArray=[],c=0;c<x.length-1;c++){var w=e.CFF.readDict(i,a+x[c],a+x[c+1]);e.CFF._readFDict(i,w,v),d.FDArray.push(w)}a+=x[x.length-1],a=d.FDSelect,d.FDSelect=[];var _=i[a];if(a++,_!=3)throw _;var S=o.readUshort(i,a);for(a+=2,c=0;c<S+1;c++)d.FDSelect.push(o.readUshort(i,a),i[a+2]),a+=3}return d.Encoding&&(d.Encoding=e.CFF.readEncoding(i,d.Encoding,d.CharStrings.length)),d.charset&&(d.charset=e.CFF.readCharset(i,d.charset,d.CharStrings.length)),e.CFF._readFDict(i,d,v),d},e.CFF._readFDict=function(i,a,s){var o;for(var l in a.Private&&(o=a.Private[1],a.Private=e.CFF.readDict(i,o,o+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,o+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(a[l]=s[a[l]-426+35])},e.CFF.readSubrs=function(i,a,s){var o=e._bin,l=[];a=e.CFF.readIndex(i,a,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,s.Bias=u,s.Subrs=[];for(var f=0;f<l.length-1;f++)s.Subrs.push(o.readBytes(i,a+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==a)return s;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,s){e._bin;var o=[".notdef"],l=i[a];if(a++,l!=0)throw"error: unknown encoding format: "+l;var u=i[a];a++;for(var c=0;c<u;c++)o.push(i[a+c]);return o},e.CFF.readCharset=function(i,a,s){var o=e._bin,l=[".notdef"],u=i[a];if(a++,u==0)for(var c=0;c<s;c++){var f=o.readUshort(i,a);a+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<s;){f=o.readUshort(i,a),a+=2;var h=0;for(u==1?(h=i[a],a++):(h=o.readUshort(i,a),a+=2),c=0;c<=h;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,a,s){var o=e._bin,l=o.readUshort(i,a)+1,u=i[a+=2];if(a++,u==1)for(var c=0;c<l;c++)s.push(i[a+c]);else if(u==2)for(c=0;c<l;c++)s.push(o.readUshort(i,a+2*c));else if(u==3)for(c=0;c<l;c++)s.push(16777215&o.readUint(i,a+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(a+=l*u)-1},e.CFF.getCharString=function(i,a,s){var o=e._bin,l=i[a],u=i[a+1];i[a+2],i[a+3],i[a+4];var c=1,f=null,h=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(h=o.readShort(i,a+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(h=l-139,c=1),247<=l&&l<=250&&(h=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(h=256*-(l-251)-u-108,c=2),l==255&&(h=o.readInt(i,a+1)/65535,c=5),s.val=h??"o"+f,s.size=c},e.CFF.readCharString=function(i,a,s){for(var o=a+s,l=e._bin,u=[];a<o;){var c=i[a],f=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,d=null,g=null;c<=20&&(d=c,h=1),c==12&&(d=100*c+f,h=2),c!=19&&c!=20||(d=c,h=2),21<=c&&c<=27&&(d=c,h=1),c==28&&(g=l.readShort(i,a+1),h=3),29<=c&&c<=31&&(d=c,h=1),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,h=2),c==255&&(g=l.readInt(i,a+1)/65535,h=5),u.push(g??"o"+d),a+=h}return u},e.CFF.readDict=function(i,a,s){for(var o=e._bin,l={},u=[];a<s;){var c=i[a],f=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,d=null,g=null;if(c==28&&(g=o.readShort(i,a+1),h=3),c==29&&(g=o.readInt(i,a+1),h=5),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,h=2),c==255)throw g=o.readInt(i,a+1)/65535,h=5,"unknown number";if(c==30){var v=[];for(h=1;;){var y=i[a+h];h++;var x=y>>4,w=15&y;if(x!=15&&v.push(x),w!=15&&v.push(w),w==15)break}for(var _="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],b=0;b<v.length;b++)_+=S[v[b]];g=parseFloat(_)}c<=21&&(d=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(d=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),d!=null?(l[d]=u.length==1?u[0]:u,u=[]):u.push(g),a+=h}return l},e.cmap={},e.cmap.parse=function(i,a,s){i=new Uint8Array(i.buffer,a,s),a=0;var o=e._bin,l={};o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var h=o.readUshort(i,a);a+=2;var d=o.readUshort(i,a);a+=2;var g=o.readUint(i,a);a+=4;var v="p"+h+"e"+d,y=c.indexOf(g);if(y==-1){var x;y=l.tables.length,c.push(g);var w=o.readUshort(i,g);w==0?x=e.cmap.parse0(i,g):w==4?x=e.cmap.parse4(i,g):w==6?x=e.cmap.parse6(i,g):w==12?x=e.cmap.parse12(i,g):console.debug("unknown format: "+w,h,d,g),l.tables.push(x)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,o.map=[];for(var u=0;u<l-6;u++)o.map.push(i[a+u]);return o},e.cmap.parse4=function(i,a){var s=e._bin,o=a,l={};l.format=s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2;var c=s.readUshort(i,a);a+=2;var f=c/2;l.searchRange=s.readUshort(i,a),a+=2,l.entrySelector=s.readUshort(i,a),a+=2,l.rangeShift=s.readUshort(i,a),a+=2,l.endCount=s.readUshorts(i,a,f),a+=2*f,a+=2,l.startCount=s.readUshorts(i,a,f),a+=2*f,l.idDelta=[];for(var h=0;h<f;h++)l.idDelta.push(s.readShort(i,a)),a+=2;for(l.idRangeOffset=s.readUshorts(i,a,f),a+=2*f,l.glyphIdArray=[];a<o+u;)l.glyphIdArray.push(s.readUshort(i,a)),a+=2;return l},e.cmap.parse6=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,o.firstCode=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2,o.glyphIdArray=[];for(var u=0;u<l;u++)o.glyphIdArray.push(s.readUshort(i,a)),a+=2;return o},e.cmap.parse12=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,a+=2,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4;var l=s.readUint(i,a);a+=4,o.groups=[];for(var u=0;u<l;u++){var c=a+12*u,f=s.readUint(i,c+0),h=s.readUint(i,c+4),d=s.readUint(i,c+8);o.groups.push([f,h,d])}return o},e.glyf={},e.glyf.parse=function(i,a,s,o){for(var l=[],u=0;u<o.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,a){var s=e._bin,o=i._data,l=e._tabOffset(o,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var u={};if(u.noc=s.readShort(o,l),l+=2,u.xMin=s.readShort(o,l),l+=2,u.yMin=s.readShort(o,l),l+=2,u.xMax=s.readShort(o,l),l+=2,u.yMax=s.readShort(o,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(s.readUshort(o,l)),l+=2;var f=s.readUshort(o,l);if(l+=2,o.length-l<f)return null;u.instructions=s.readBytes(o,l,f),l+=f;var h=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<h;c++){var d=o[l];if(l++,u.flags.push(d),(8&d)!=0){var g=o[l];l++;for(var v=0;v<g;v++)u.flags.push(d),c++}}for(u.xs=[],c=0;c<h;c++){var y=(2&u.flags[c])!=0,x=(16&u.flags[c])!=0;y?(u.xs.push(x?o[l]:-o[l]),l++):x?u.xs.push(0):(u.xs.push(s.readShort(o,l)),l+=2)}for(u.ys=[],c=0;c<h;c++)y=(4&u.flags[c])!=0,x=(32&u.flags[c])!=0,y?(u.ys.push(x?o[l]:-o[l]),l++):x?u.ys.push(0):(u.ys.push(s.readShort(o,l)),l+=2);var w=0,_=0;for(c=0;c<h;c++)w+=u.xs[c],_+=u.ys[c],u.xs[c]=w,u.ys[c]=_}else{var S;u.parts=[];do{S=s.readUshort(o,l),l+=2;var b={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(b),b.glyphIndex=s.readUshort(o,l),l+=2,1&S){var T=s.readShort(o,l);l+=2;var A=s.readShort(o,l);l+=2}else T=s.readInt8(o,l),l++,A=s.readInt8(o,l),l++;2&S?(b.m.tx=T,b.m.ty=A):(b.p1=T,b.p2=A),8&S?(b.m.a=b.m.d=s.readF2dot14(o,l),l+=2):64&S?(b.m.a=s.readF2dot14(o,l),l+=2,b.m.d=s.readF2dot14(o,l),l+=2):128&S&&(b.m.a=s.readF2dot14(o,l),l+=2,b.m.b=s.readF2dot14(o,l),l+=2,b.m.c=s.readF2dot14(o,l),l+=2,b.m.d=s.readF2dot14(o,l),l+=2)}while(32&S);if(256&S){var P=s.readUshort(o,l);for(l+=2,u.instr=[],c=0;c<P;c++)u.instr.push(o[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,a,s,o){var l=a;a+=4;var u=e._bin.readUshort(i,a);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GPOS.subt)},e.GPOS.subt=function(i,a,s,o){var l=e._bin,u=s,c={};if(c.fmt=l.readUshort(i,s),s+=2,a==1||a==2||a==3||a==7||a==8&&c.fmt<=2){var f=l.readUshort(i,s);s+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(a==1&&c.fmt==1){var h=l.readUshort(i,s);s+=2,h!=0&&(c.pos=e.GPOS.readValueRecord(i,s,h))}else if(a==2&&c.fmt>=1&&c.fmt<=2){h=l.readUshort(i,s),s+=2;var d=l.readUshort(i,s);s+=2;var g=e._lctf.numOfOnes(h),v=e._lctf.numOfOnes(d);if(c.fmt==1){c.pairsets=[];var y=l.readUshort(i,s);s+=2;for(var x=0;x<y;x++){var w=u+l.readUshort(i,s);s+=2;var _=l.readUshort(i,w);w+=2;for(var S=[],b=0;b<_;b++){var T=l.readUshort(i,w);w+=2,h!=0&&(L=e.GPOS.readValueRecord(i,w,h),w+=2*g),d!=0&&(B=e.GPOS.readValueRecord(i,w,d),w+=2*v),S.push({gid2:T,val1:L,val2:B})}c.pairsets.push(S)}}if(c.fmt==2){var A=l.readUshort(i,s);s+=2;var P=l.readUshort(i,s);s+=2;var M=l.readUshort(i,s);s+=2;var R=l.readUshort(i,s);for(s+=2,c.classDef1=e._lctf.readClassDef(i,u+A),c.classDef2=e._lctf.readClassDef(i,u+P),c.matrix=[],x=0;x<M;x++){var D=[];for(b=0;b<R;b++){var L=null,B=null;h!=0&&(L=e.GPOS.readValueRecord(i,s,h),s+=2*g),d!=0&&(B=e.GPOS.readValueRecord(i,s,d),s+=2*v),D.push({val1:L,val2:B})}c.matrix.push(D)}}}else if(a==4&&c.fmt==1)c.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,s)+u),c.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,s+2)+u),c.markClassCount=l.readUshort(i,s+4),c.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,s+6)+u),c.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,s+8)+u,c.markClassCount);else if(a==6&&c.fmt==1)c.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,s)+u),c.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,s+2)+u),c.markClassCount=l.readUshort(i,s+4),c.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,s+6)+u),c.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,s+8)+u,c.markClassCount);else{if(a==9&&c.fmt==1){var G=l.readUshort(i,s);s+=2;var z=l.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=G;else if(o.ltype!=G)throw"invalid extension substitution";return e.GPOS.subt(i,o.ltype,u+z)}console.debug("unsupported GPOS table LookupType",a,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,a,s){var o=e._bin,l=[];return l.push(1&s?o.readShort(i,a):0),a+=1&s?2:0,l.push(2&s?o.readShort(i,a):0),a+=2&s?2:0,l.push(4&s?o.readShort(i,a):0),a+=4&s?2:0,l.push(8&s?o.readShort(i,a):0),a+=8&s?2:0,l},e.GPOS.readBaseArray=function(i,a,s){var o=e._bin,l=[],u=a,c=o.readUshort(i,a);a+=2;for(var f=0;f<c;f++){for(var h=[],d=0;d<s;d++)h.push(e.GPOS.readAnchorRecord(i,u+o.readUshort(i,a))),a+=2;l.push(h)}return l},e.GPOS.readMarkArray=function(i,a){var s=e._bin,o=[],l=a,u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=e.GPOS.readAnchorRecord(i,s.readUshort(i,a+2)+l);f.markClass=s.readUshort(i,a),o.push(f),a+=4}return o},e.GPOS.readAnchorRecord=function(i,a){var s=e._bin,o={};return o.fmt=s.readUshort(i,a),o.x=s.readShort(i,a+2),o.y=s.readShort(i,a+4),o},e.GSUB={},e.GSUB.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GSUB.subt)},e.GSUB.subt=function(i,a,s,o){var l=e._bin,u=s,c={};if(c.fmt=l.readUshort(i,s),s+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&c.fmt<=2||a==6&&c.fmt<=2){var f=l.readUshort(i,s);s+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(a==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,s),s+=2;else if(c.fmt==2){var h=l.readUshort(i,s);s+=2,c.newg=l.readUshorts(i,s,h),s+=2*c.newg.length}}else if(a==2&&c.fmt==1){h=l.readUshort(i,s),s+=2,c.seqs=[];for(var d=0;d<h;d++){var g=l.readUshort(i,s)+u;s+=2;var v=l.readUshort(i,g);c.seqs.push(l.readUshorts(i,g+2,v))}}else if(a==4)for(c.vals=[],h=l.readUshort(i,s),s+=2,d=0;d<h;d++){var y=l.readUshort(i,s);s+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+y))}else if(a==5&&c.fmt==2){if(c.fmt==2){var x=l.readUshort(i,s);s+=2,c.cDef=e._lctf.readClassDef(i,u+x),c.scset=[];var w=l.readUshort(i,s);for(s+=2,d=0;d<w;d++){var _=l.readUshort(i,s);s+=2,c.scset.push(_==0?null:e.GSUB.readSubClassSet(i,u+_))}}}else if(a==6&&c.fmt==3){if(c.fmt==3){for(d=0;d<3;d++){h=l.readUshort(i,s),s+=2;for(var S=[],b=0;b<h;b++)S.push(e._lctf.readCoverage(i,u+l.readUshort(i,s+2*b)));s+=2*h,d==0&&(c.backCvg=S),d==1&&(c.inptCvg=S),d==2&&(c.ahedCvg=S)}h=l.readUshort(i,s),s+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,s,h)}}else{if(a==7&&c.fmt==1){var T=l.readUshort(i,s);s+=2;var A=l.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=T;else if(o.ltype!=T)throw"invalid extension substitution";return e.GSUB.subt(i,o.ltype,u+A)}console.debug("unsupported GSUB table LookupType",a,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,a){var s=e._bin.readUshort,o=a,l=[],u=s(i,a);a+=2;for(var c=0;c<u;c++){var f=s(i,a);a+=2,l.push(e.GSUB.readSubClassRule(i,o+f))}return l},e.GSUB.readSubClassRule=function(i,a){var s=e._bin.readUshort,o={},l=s(i,a),u=s(i,a+=2);a+=2,o.input=[];for(var c=0;c<l-1;c++)o.input.push(s(i,a)),a+=2;return o.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,u),o},e.GSUB.readSubstLookupRecords=function(i,a,s){for(var o=e._bin.readUshort,l=[],u=0;u<s;u++)l.push(o(i,a),o(i,a+2)),a+=4;return l},e.GSUB.readChainSubClassSet=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=s.readUshort(i,a);a+=2,l.push(e.GSUB.readChainSubClassRule(i,o+f))}return l},e.GSUB.readChainSubClassRule=function(i,a){for(var s=e._bin,o={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=s.readUshort(i,a);a+=2,u==1&&c--,o[l[u]]=s.readUshorts(i,a,c),a+=2*o[l[u]].length}return c=s.readUshort(i,a),a+=2,o.subst=s.readUshorts(i,a,2*c),a+=2*o.subst.length,o},e.GSUB.readLigatureSet=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=s.readUshort(i,a);a+=2,l.push(e.GSUB.readLigature(i,o+f))}return l},e.GSUB.readLigature=function(i,a){var s=e._bin,o={chain:[]};o.nglyph=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2;for(var u=0;u<l-1;u++)o.chain.push(s.readUshort(i,a)),a+=2;return o},e.head={},e.head.parse=function(i,a,s){var o=e._bin,l={};return o.readFixed(i,a),a+=4,l.fontRevision=o.readFixed(i,a),a+=4,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4,l.flags=o.readUshort(i,a),a+=2,l.unitsPerEm=o.readUshort(i,a),a+=2,l.created=o.readUint64(i,a),a+=8,l.modified=o.readUint64(i,a),a+=8,l.xMin=o.readShort(i,a),a+=2,l.yMin=o.readShort(i,a),a+=2,l.xMax=o.readShort(i,a),a+=2,l.yMax=o.readShort(i,a),a+=2,l.macStyle=o.readUshort(i,a),a+=2,l.lowestRecPPEM=o.readUshort(i,a),a+=2,l.fontDirectionHint=o.readShort(i,a),a+=2,l.indexToLocFormat=o.readShort(i,a),a+=2,l.glyphDataFormat=o.readShort(i,a),a+=2,l},e.hhea={},e.hhea.parse=function(i,a,s){var o=e._bin,l={};return o.readFixed(i,a),a+=4,l.ascender=o.readShort(i,a),a+=2,l.descender=o.readShort(i,a),a+=2,l.lineGap=o.readShort(i,a),a+=2,l.advanceWidthMax=o.readUshort(i,a),a+=2,l.minLeftSideBearing=o.readShort(i,a),a+=2,l.minRightSideBearing=o.readShort(i,a),a+=2,l.xMaxExtent=o.readShort(i,a),a+=2,l.caretSlopeRise=o.readShort(i,a),a+=2,l.caretSlopeRun=o.readShort(i,a),a+=2,l.caretOffset=o.readShort(i,a),a+=2,a+=8,l.metricDataFormat=o.readShort(i,a),a+=2,l.numberOfHMetrics=o.readUshort(i,a),a+=2,l},e.hmtx={},e.hmtx.parse=function(i,a,s,o){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,h=0;h<o.maxp.numGlyphs;h++)h<o.hhea.numberOfHMetrics&&(c=l.readUshort(i,a),a+=2,f=l.readShort(i,a),a+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,a,s,o){var l=e._bin,u=l.readUshort(i,a);if(a+=2,u==1)return e.kern.parseV1(i,a-2,s,o);var c=l.readUshort(i,a);a+=2;for(var f={glyph1:[],rval:[]},h=0;h<c;h++){a+=2,s=l.readUshort(i,a),a+=2;var d=l.readUshort(i,a);a+=2;var g=d>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;a=e.kern.readFormat0(i,a,f)}return f},e.kern.parseV1=function(i,a,s,o){var l=e._bin;l.readFixed(i,a),a+=4;var u=l.readUint(i,a);a+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,a),a+=4;var h=l.readUshort(i,a);a+=2,l.readUshort(i,a),a+=2;var d=h>>>8;if((d&=15)!=0)throw"unknown kern table format: "+d;a=e.kern.readFormat0(i,a,c)}return c},e.kern.readFormat0=function(i,a,s){var o=e._bin,l=-1,u=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,a);a+=2;var h=o.readUshort(i,a);a+=2;var d=o.readShort(i,a);a+=2,f!=l&&(s.glyph1.push(f),s.rval.push({glyph2:[],vals:[]}));var g=s.rval[s.rval.length-1];g.glyph2.push(h),g.vals.push(d),l=f}return a},e.loca={},e.loca.parse=function(i,a,s,o){var l=e._bin,u=[],c=o.head.indexToLocFormat,f=o.maxp.numGlyphs+1;if(c==0)for(var h=0;h<f;h++)u.push(l.readUshort(i,a+(h<<1))<<1);if(c==1)for(h=0;h<f;h++)u.push(l.readUint(i,a+(h<<2)));return u},e.maxp={},e.maxp.parse=function(i,a,s){var o=e._bin,l={},u=o.readUint(i,a);return a+=4,l.numGlyphs=o.readUshort(i,a),a+=2,u==65536&&(l.maxPoints=o.readUshort(i,a),a+=2,l.maxContours=o.readUshort(i,a),a+=2,l.maxCompositePoints=o.readUshort(i,a),a+=2,l.maxCompositeContours=o.readUshort(i,a),a+=2,l.maxZones=o.readUshort(i,a),a+=2,l.maxTwilightPoints=o.readUshort(i,a),a+=2,l.maxStorage=o.readUshort(i,a),a+=2,l.maxFunctionDefs=o.readUshort(i,a),a+=2,l.maxInstructionDefs=o.readUshort(i,a),a+=2,l.maxStackElements=o.readUshort(i,a),a+=2,l.maxSizeOfInstructions=o.readUshort(i,a),a+=2,l.maxComponentElements=o.readUshort(i,a),a+=2,l.maxComponentDepth=o.readUshort(i,a),a+=2),l},e.name={},e.name.parse=function(i,a,s){var o=e._bin,l={};o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2,o.readUshort(i,a);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=a+=2,d=0;d<u;d++){var g=o.readUshort(i,a);a+=2;var v=o.readUshort(i,a);a+=2;var y=o.readUshort(i,a);a+=2;var x=o.readUshort(i,a);a+=2;var w=o.readUshort(i,a);a+=2;var _=o.readUshort(i,a);a+=2;var S,b=f[x],T=h+12*u+_;if(g==0)S=o.readUnicode(i,T,w/2);else if(g==3&&v==0)S=o.readUnicode(i,T,w/2);else if(v==0)S=o.readASCII(i,T,w);else if(v==1)S=o.readUnicode(i,T,w/2);else if(v==3)S=o.readUnicode(i,T,w/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;S=o.readASCII(i,T,w),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var A="p"+g+","+y.toString(16);l[A]==null&&(l[A]={}),l[A][b!==void 0?b:x]=S,l[A]._lang=y}for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==1033)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==0)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==3084)return l[P];for(var P in l)if(l[P].postScriptName!=null)return l[P];for(var P in l){c=P;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,a,s){var o=e._bin.readUshort(i,a);a+=2;var l={};if(o==0)e["OS/2"].version0(i,a,l);else if(o==1)e["OS/2"].version1(i,a,l);else if(o==2||o==3||o==4)e["OS/2"].version2(i,a,l);else{if(o!=5)throw"unknown OS/2 table version: "+o;e["OS/2"].version5(i,a,l)}return l},e["OS/2"].version0=function(i,a,s){var o=e._bin;return s.xAvgCharWidth=o.readShort(i,a),a+=2,s.usWeightClass=o.readUshort(i,a),a+=2,s.usWidthClass=o.readUshort(i,a),a+=2,s.fsType=o.readUshort(i,a),a+=2,s.ySubscriptXSize=o.readShort(i,a),a+=2,s.ySubscriptYSize=o.readShort(i,a),a+=2,s.ySubscriptXOffset=o.readShort(i,a),a+=2,s.ySubscriptYOffset=o.readShort(i,a),a+=2,s.ySuperscriptXSize=o.readShort(i,a),a+=2,s.ySuperscriptYSize=o.readShort(i,a),a+=2,s.ySuperscriptXOffset=o.readShort(i,a),a+=2,s.ySuperscriptYOffset=o.readShort(i,a),a+=2,s.yStrikeoutSize=o.readShort(i,a),a+=2,s.yStrikeoutPosition=o.readShort(i,a),a+=2,s.sFamilyClass=o.readShort(i,a),a+=2,s.panose=o.readBytes(i,a,10),a+=10,s.ulUnicodeRange1=o.readUint(i,a),a+=4,s.ulUnicodeRange2=o.readUint(i,a),a+=4,s.ulUnicodeRange3=o.readUint(i,a),a+=4,s.ulUnicodeRange4=o.readUint(i,a),a+=4,s.achVendID=[o.readInt8(i,a),o.readInt8(i,a+1),o.readInt8(i,a+2),o.readInt8(i,a+3)],a+=4,s.fsSelection=o.readUshort(i,a),a+=2,s.usFirstCharIndex=o.readUshort(i,a),a+=2,s.usLastCharIndex=o.readUshort(i,a),a+=2,s.sTypoAscender=o.readShort(i,a),a+=2,s.sTypoDescender=o.readShort(i,a),a+=2,s.sTypoLineGap=o.readShort(i,a),a+=2,s.usWinAscent=o.readUshort(i,a),a+=2,s.usWinDescent=o.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,s){var o=e._bin;return a=e["OS/2"].version0(i,a,s),s.ulCodePageRange1=o.readUint(i,a),a+=4,s.ulCodePageRange2=o.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,s){var o=e._bin;return a=e["OS/2"].version1(i,a,s),s.sxHeight=o.readShort(i,a),a+=2,s.sCapHeight=o.readShort(i,a),a+=2,s.usDefault=o.readUshort(i,a),a+=2,s.usBreak=o.readUshort(i,a),a+=2,s.usMaxContext=o.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,s){var o=e._bin;return a=e["OS/2"].version2(i,a,s),s.usLowerOpticalPointSize=o.readUshort(i,a),a+=2,s.usUpperOpticalPointSize=o.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,s){var o=e._bin,l={};return l.version=o.readFixed(i,a),a+=4,l.italicAngle=o.readFixed(i,a),a+=4,l.underlinePosition=o.readShort(i,a),a+=2,l.underlineThickness=o.readShort(i,a),a+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var s=i.cmap,o=-1;if(s.p0e4!=null?o=s.p0e4:s.p3e1!=null?o=s.p3e1:s.p1e0!=null?o=s.p1e0:s.p0e3!=null&&(o=s.p0e3),o==-1)throw"no familiar platform and encoding!";var l=s.tables[o];if(l.format==0)return a>=l.map.length?0:l.map[a];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(a<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>a?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[a-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:a+l.idDelta[u])}if(l.format==12){if(a>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=a&&a<=f[1])return f[2]+(a-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,a){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var o=i.SVG.entries[a];return o==null?s:(typeof o=="string"&&(o=e.SVG.toPath(o),i.SVG.entries[a]=o),o)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=a;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],l,u,c,s)}else i.glyf&&e.U._drawGlyf(a,i,s);return s},e.U._drawGlyf=function(i,a,s){var o=a.glyf[i];o==null&&(o=a.glyf[i]=e.glyf._parseGlyf(a,i)),o!=null&&(o.noc>-1?e.U._simpleGlyph(o,s):e.U._compoGlyph(o,a,s))},e.U._simpleGlyph=function(i,a){for(var s=0;s<i.noc;s++){for(var o=s==0?0:i.endPts[s-1]+1,l=i.endPts[s],u=o;u<=l;u++){var c=u==o?l:u-1,f=u==l?o:u+1,h=1&i.flags[u],d=1&i.flags[c],g=1&i.flags[f],v=i.xs[u],y=i.ys[u];if(u==o)if(h){if(!d){e.U.P.moveTo(a,v,y);continue}e.U.P.moveTo(a,i.xs[c],i.ys[c])}else d?e.U.P.moveTo(a,i.xs[c],i.ys[c]):e.U.P.moveTo(a,(i.xs[c]+v)/2,(i.ys[c]+y)/2);h?d&&e.U.P.lineTo(a,v,y):g?e.U.P.qcurveTo(a,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(a,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,s){for(var o=0;o<i.parts.length;o++){var l={cmds:[],crds:[]},u=i.parts[o];e.U._drawGlyf(u.glyphIndex,a,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var h=l.crds[f],d=l.crds[f+1];s.crds.push(h*c.a+d*c.b+c.tx),s.crds.push(h*c.c+d*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)s.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,a){var s=e._lctf.getInterval(a,i);return s==-1?0:a[s+2]},e.U._applySubs=function(i,a,s,o){for(var l=i.length-a-1,u=0;u<s.tabs.length;u++)if(s.tabs[u]!=null){var c,f=s.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[a]))!=-1){if(s.ltype==1)i[a],f.fmt==1?i[a]=i[a]+f.delta:i[a]=f.newg[c];else if(s.ltype==4)for(var h=f.vals[c],d=0;d<h.length;d++){var g=h[d],v=g.chain.length;if(!(v>l)){for(var y=!0,x=0,w=0;w<v;w++){for(;i[a+x+(1+w)]==-1;)x++;g.chain[w]!=i[a+x+(1+w)]&&(y=!1)}if(y){for(i[a]=g.nglyph,w=0;w<v+x;w++)i[a+w+1]=-1;break}}}else if(s.ltype==5&&f.fmt==2)for(var _=e._lctf.getInterval(f.cDef,i[a]),S=f.cDef[_+2],b=f.scset[S],T=0;T<b.length;T++){var A=b[T],P=A.input;if(!(P.length>l)){for(y=!0,w=0;w<P.length;w++){var M=e._lctf.getInterval(f.cDef,i[a+1+w]);if(_==-1&&f.cDef[M+2]!=P[w]){y=!1;break}}if(y){var R=A.substLookupRecords;for(d=0;d<R.length;d+=2)R[d],R[d+1]}}}else if(s.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,a-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,a)||!e.U._glsCovered(i,f.ahedCvg,a+f.inptCvg.length))continue;var D=f.lookupRec;for(T=0;T<D.length;T+=2){_=D[T];var L=o[D[T+1]];e.U._applySubs(i,a+_,L,o)}}}}},e.U._glsCovered=function(i,a,s){for(var o=0;o<a.length;o++)if(e._lctf.coverageIndex(a[o],i[s+o])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,s){for(var o={cmds:[],crds:[]},l=0,u=0;u<a.length;u++){var c=a[u];if(c!=-1){for(var f=u<a.length-1&&a[u+1]!=-1?a[u+1]:0,h=e.U.glyphToPath(i,c),d=0;d<h.crds.length;d+=2)o.crds.push(h.crds[d]+l),o.crds.push(h.crds[d+1]);for(s&&o.cmds.push(s),d=0;d<h.cmds.length;d++)o.cmds.push(h.cmds[d]);s&&o.cmds.push("X"),l+=i.hmtx.aWidth[c],u<a.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return o},e.U.P={},e.U.P.moveTo=function(i,a,s){i.cmds.push("M"),i.crds.push(a,s)},e.U.P.lineTo=function(i,a,s){i.cmds.push("L"),i.crds.push(a,s)},e.U.P.curveTo=function(i,a,s,o,l,u,c){i.cmds.push("C"),i.crds.push(a,s,o,l,u,c)},e.U.P.qcurveTo=function(i,a,s,o,l){i.cmds.push("Q"),i.crds.push(a,s,o,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,s,o,l){for(var u=a.stack,c=a.nStems,f=a.haveWidth,h=a.width,d=a.open,g=0,v=a.x,y=a.y,x=0,w=0,_=0,S=0,b=0,T=0,A=0,P=0,M=0,R=0,D={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,D);var L=D.val;if(g+=D.size,L=="o1"||L=="o18")u.length%2!=0&&!f&&(h=u.shift()+o.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(L=="o3"||L=="o23")u.length%2!=0&&!f&&(h=u.shift()+o.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(L=="o4")u.length>1&&!f&&(h=u.shift()+o.nominalWidthX,f=!0),d&&e.U.P.closePath(l),y+=u.pop(),e.U.P.moveTo(l,v,y),d=!0;else if(L=="o5")for(;u.length>0;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);else if(L=="o6"||L=="o7")for(var B=u.length,G=L=="o6",z=0;z<B;z++){var Z=u.shift();G?v+=Z:y+=Z,G=!G,e.U.P.lineTo(l,v,y)}else if(L=="o8"||L=="o24"){B=u.length;for(var ee=0;ee+6<=B;)x=v+u.shift(),w=y+u.shift(),_=x+u.shift(),S=w+u.shift(),v=_+u.shift(),y=S+u.shift(),e.U.P.curveTo(l,x,w,_,S,v,y),ee+=6;L=="o24"&&(v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y))}else{if(L=="o11")break;if(L=="o1234"||L=="o1235"||L=="o1236"||L=="o1237")L=="o1234"&&(w=y,_=(x=v+u.shift())+u.shift(),R=S=w+u.shift(),T=S,P=y,v=(A=(b=(M=_+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,x,w,_,S,M,R),e.U.P.curveTo(l,b,T,A,P,v,y)),L=="o1235"&&(x=v+u.shift(),w=y+u.shift(),_=x+u.shift(),S=w+u.shift(),M=_+u.shift(),R=S+u.shift(),b=M+u.shift(),T=R+u.shift(),A=b+u.shift(),P=T+u.shift(),v=A+u.shift(),y=P+u.shift(),u.shift(),e.U.P.curveTo(l,x,w,_,S,M,R),e.U.P.curveTo(l,b,T,A,P,v,y)),L=="o1236"&&(x=v+u.shift(),w=y+u.shift(),_=x+u.shift(),R=S=w+u.shift(),T=S,A=(b=(M=_+u.shift())+u.shift())+u.shift(),P=T+u.shift(),v=A+u.shift(),e.U.P.curveTo(l,x,w,_,S,M,R),e.U.P.curveTo(l,b,T,A,P,v,y)),L=="o1237"&&(x=v+u.shift(),w=y+u.shift(),_=x+u.shift(),S=w+u.shift(),M=_+u.shift(),R=S+u.shift(),b=M+u.shift(),T=R+u.shift(),A=b+u.shift(),P=T+u.shift(),Math.abs(A-v)>Math.abs(P-y)?v=A+u.shift():y=P+u.shift(),e.U.P.curveTo(l,x,w,_,S,M,R),e.U.P.curveTo(l,b,T,A,P,v,y));else if(L=="o14"){if(u.length>0&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),u.length==4){var U=u.shift(),H=u.shift(),X=u.shift(),F=u.shift(),N=e.CFF.glyphBySE(s,X),V=e.CFF.glyphBySE(s,F);e.U._drawCFF(s.CharStrings[N],a,s,o,l),a.x=U,a.y=H,e.U._drawCFF(s.CharStrings[V],a,s,o,l)}d&&(e.U.P.closePath(l),d=!1)}else if(L=="o19"||L=="o20")u.length%2!=0&&!f&&(h=u.shift()+o.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,g+=c+7>>3;else if(L=="o21")u.length>2&&!f&&(h=u.shift()+o.nominalWidthX,f=!0),y+=u.pop(),v+=u.pop(),d&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),d=!0;else if(L=="o22")u.length>1&&!f&&(h=u.shift()+o.nominalWidthX,f=!0),v+=u.pop(),d&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),d=!0;else if(L=="o25"){for(;u.length>6;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);x=v+u.shift(),w=y+u.shift(),_=x+u.shift(),S=w+u.shift(),v=_+u.shift(),y=S+u.shift(),e.U.P.curveTo(l,x,w,_,S,v,y)}else if(L=="o26")for(u.length%2&&(v+=u.shift());u.length>0;)x=v,w=y+u.shift(),v=_=x+u.shift(),y=(S=w+u.shift())+u.shift(),e.U.P.curveTo(l,x,w,_,S,v,y);else if(L=="o27")for(u.length%2&&(y+=u.shift());u.length>0;)w=y,_=(x=v+u.shift())+u.shift(),S=w+u.shift(),v=_+u.shift(),y=S,e.U.P.curveTo(l,x,w,_,S,v,y);else if(L=="o10"||L=="o29"){var Y=L=="o10"?o:s;if(u.length==0)console.debug("error: empty stack");else{var q=u.pop(),ae=Y.Subrs[q+Y.Bias];a.x=v,a.y=y,a.nStems=c,a.haveWidth=f,a.width=h,a.open=d,e.U._drawCFF(ae,a,s,o,l),v=a.x,y=a.y,c=a.nStems,f=a.haveWidth,h=a.width,d=a.open}}else if(L=="o30"||L=="o31"){var pe=u.length,ye=(ee=0,L=="o31");for(ee+=pe-(B=-3&pe);ee<B;)ye?(w=y,_=(x=v+u.shift())+u.shift(),y=(S=w+u.shift())+u.shift(),B-ee==5?(v=_+u.shift(),ee++):v=_,ye=!1):(x=v,w=y+u.shift(),_=x+u.shift(),S=w+u.shift(),v=_+u.shift(),B-ee==5?(y=S+u.shift(),ee++):y=S,ye=!0),e.U.P.curveTo(l,x,w,_,S,v,y),ee+=4}else{if((L+"").charAt(0)=="o")throw console.debug("Unknown operation: "+L,i),L;u.push(L)}}}a.x=v,a.y=y,a.nStems=c,a.haveWidth=f,a.width=h,a.open=d};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function IFe(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(L,B){for(var G=new n(31),z=0;z<31;++z)G[z]=B+=1<<L[z-1];var Z=new r(G[30]);for(z=1;z<30;++z)for(var ee=G[z];ee<G[z+1];++ee)Z[ee]=ee-G[z]<<5|z;return[G,Z]},l=o(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=o(a,0)[0],h=new n(32768),d=0;d<32768;++d){var g=(43690&d)>>>1|(21845&d)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,h[d]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(L,B,G){for(var z=L.length,Z=0,ee=new n(B);Z<z;++Z)++ee[L[Z]-1];var U,H=new n(B);for(Z=0;Z<B;++Z)H[Z]=H[Z-1]+ee[Z-1]<<1;{U=new n(1<<B);var X=15-B;for(Z=0;Z<z;++Z)if(L[Z])for(var F=Z<<4|L[Z],N=B-L[Z],V=H[L[Z]-1]++<<N,Y=V|(1<<N)-1;V<=Y;++V)U[h[V]>>>X]=F}return U},y=new e(288);for(d=0;d<144;++d)y[d]=8;for(d=144;d<256;++d)y[d]=9;for(d=256;d<280;++d)y[d]=7;for(d=280;d<288;++d)y[d]=8;var x=new e(32);for(d=0;d<32;++d)x[d]=5;var w=v(y,9),_=v(x,5),S=function(L){for(var B=L[0],G=1;G<L.length;++G)L[G]>B&&(B=L[G]);return B},b=function(L,B,G){var z=B/8|0;return(L[z]|L[z+1]<<8)>>(7&B)&G},T=function(L,B){var G=B/8|0;return(L[G]|L[G+1]<<8|L[G+2]<<16)>>(7&B)},A=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],P=function(L,B,G){var z=new Error(B||A[L]);if(z.code=L,Error.captureStackTrace&&Error.captureStackTrace(z,P),!G)throw z;return z},M=function(L,B,G){var z=L.length;if(!z||G&&!G.l&&z<5)return B||new e(0);var Z=!B||G,ee=!G||G.i;G||(G={}),B||(B=new e(3*z));var U,H=function(Xe){var ce=B.length;if(Xe>ce){var Be=new e(Math.max(2*ce,Xe));Be.set(B),B=Be}},X=G.f||0,F=G.p||0,N=G.b||0,V=G.l,Y=G.d,q=G.m,ae=G.n,pe=8*z;do{if(!V){G.f=X=b(L,F,1);var ye=b(L,F+1,3);if(F+=3,!ye){var ge=L[(qe=((U=F)/8|0)+(7&U&&1)+4)-4]|L[qe-3]<<8,Se=qe+ge;if(Se>z){ee&&P(0);break}Z&&H(N+ge),B.set(L.subarray(qe,Se),N),G.b=N+=ge,G.p=F=8*Se;continue}if(ye==1)V=w,Y=_,q=9,ae=5;else if(ye==2){var we=b(L,F,31)+257,W=b(L,F+10,15)+4,Pe=we+b(L,F+5,31)+1;F+=14;for(var ve=new e(Pe),Ie=new e(19),be=0;be<W;++be)Ie[s[be]]=b(L,F+3*be,7);F+=3*W;var Ae=S(Ie),Ne=(1<<Ae)-1,He=v(Ie,Ae);for(be=0;be<Pe;){var qe,Le=He[b(L,F,Ne)];if(F+=15&Le,(qe=Le>>>4)<16)ve[be++]=qe;else{var lt=0,Q=0;for(qe==16?(Q=3+b(L,F,3),F+=2,lt=ve[be-1]):qe==17?(Q=3+b(L,F,7),F+=3):qe==18&&(Q=11+b(L,F,127),F+=7);Q--;)ve[be++]=lt}}var K=ve.subarray(0,we),xe=ve.subarray(we);q=S(K),ae=S(xe),V=v(K,q),Y=v(xe,ae)}else P(1);if(F>pe){ee&&P(0);break}}Z&&H(N+131072);for(var Je=(1<<q)-1,De=(1<<ae)-1,Fe=F;;Fe=F){var tt=(lt=V[T(L,F)&Je])>>>4;if((F+=15&lt)>pe){ee&&P(0);break}if(lt||P(2),tt<256)B[N++]=tt;else{if(tt==256){Fe=F,V=null;break}var Ke=tt-254;if(tt>264){var Re=i[be=tt-257];Ke=b(L,F,(1<<Re)-1)+u[be],F+=Re}var ft=Y[T(L,F)&De],at=ft>>>4;if(ft||P(3),F+=15&ft,xe=f[at],at>3&&(Re=a[at],xe+=T(L,F)&(1<<Re)-1,F+=Re),F>pe){ee&&P(0);break}Z&&H(N+131072);for(var it=N+Ke;N<it;N+=4)B[N]=B[N-xe],B[N+1]=B[N+1-xe],B[N+2]=B[N+2-xe],B[N+3]=B[N+3-xe];N=it}}G.l=V,G.p=Fe,G.b=N,V&&(X=1,G.m=q,G.d=Y,G.n=ae)}while(!X);return N==B.length?B:function(Xe,ce,Be){(Be==null||Be>Xe.length)&&(Be=Xe.length);var ut=new(Xe instanceof n?n:Xe instanceof r?r:e)(Be-ce);return ut.set(Xe.subarray(ce,Be)),ut}(B,0,N)},R=new e(0),D=typeof TextDecoder<"u"&&new TextDecoder;try{D.decode(R,{stream:!0})}catch{}return t.convert_streams=function(L){var B=new DataView(L),G=0;function z(){var we=B.getUint16(G);return G+=2,we}function Z(){var we=B.getUint32(G);return G+=4,we}function ee(we){ge.setUint16(Se,we),Se+=2}function U(we){ge.setUint32(Se,we),Se+=4}for(var H={signature:Z(),flavor:Z(),length:Z(),numTables:z(),reserved:z(),totalSfntSize:Z(),majorVersion:z(),minorVersion:z(),metaOffset:Z(),metaLength:Z(),metaOrigLength:Z(),privOffset:Z(),privLength:Z()},X=0;Math.pow(2,X)<=H.numTables;)X++;X--;for(var F=16*Math.pow(2,X),N=16*H.numTables-F,V=12,Y=[],q=0;q<H.numTables;q++)Y.push({tag:Z(),offset:Z(),compLength:Z(),origLength:Z(),origChecksum:Z()}),V+=16;var ae,pe=new Uint8Array(12+16*Y.length+Y.reduce(function(we,W){return we+W.origLength+4},0)),ye=pe.buffer,ge=new DataView(ye),Se=0;return U(H.flavor),ee(H.numTables),ee(F),ee(X),ee(N),Y.forEach(function(we){U(we.tag),U(we.origChecksum),U(V),U(we.origLength),we.outOffset=V,(V+=we.origLength)%4!=0&&(V+=4-V%4)}),Y.forEach(function(we){var W,Pe=L.slice(we.offset,we.offset+we.compLength);if(we.compLength!=we.origLength){var ve=new Uint8Array(we.origLength);W=new Uint8Array(Pe,2),M(W,ve)}else ve=new Uint8Array(Pe);pe.set(ve,we.outOffset);var Ie=0;(V=we.outOffset+we.origLength)%4!=0&&(Ie=4-V%4),pe.set(new Uint8Array(Ie).buffer,we.outOffset+we.origLength),ae=V+Ie}),ye.slice(0,ae)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function LFe(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,s=4,o=8,l=16,u=32;let c;function f(A){if(!c){const P={R:a,L:i,D:s,C:l,U:u,T:o};c=new Map;for(let M in r){let R=0;r[M].split(",").forEach(D=>{let[L,B]=D.split("+");L=parseInt(L,36),B=B?parseInt(B,36):0,c.set(R+=L,P[M]);for(let G=B;G--;)c.set(++R,P[M])})}}return c.get(A)||u}const h=1,d=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function x(A){const P=new Uint8Array(A.length);let M=u,R=h,D=-1;for(let L=0;L<A.length;L++){const B=A.codePointAt(L);let G=f(B)|0,z=h;G&o||(M&(i|s|l)?G&(a|s|l)?(z=g,(R===h||R===g)&&P[D]++):G&(i|u)&&(R===d||R===v)&&P[D]--:M&(a|u)&&(R===d||R===v)&&P[D]--,R=P[L]=z,M=G,D=L,B>65535&&L++)}return P}function w(A,P){const M=[];for(let D=0;D<P.length;D++){const L=P.codePointAt(D);L>65535&&D++,M.push(t.U.codeToGlyph(A,L))}const R=A.GSUB;if(R){const{lookupList:D,featureList:L}=R;let B;const G=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,z=[];L.forEach(Z=>{if(G.test(Z.tag))for(let ee=0;ee<Z.tab.length;ee++){if(z[Z.tab[ee]])continue;z[Z.tab[ee]]=!0;const U=D[Z.tab[ee]],H=/^(isol|init|fina|medi)$/.test(Z.tag);H&&!B&&(B=x(P));for(let X=0;X<M.length;X++)(!B||!H||y[B[X]]===Z.tag)&&t.U._applySubs(M,X,U,D)}})}return M}function _(A,P){const M=new Int16Array(P.length*3);let R=0;for(;R<P.length;R++){const G=P[R];if(G===-1)continue;M[R*3+2]=A.hmtx.aWidth[G];const z=A.GPOS;if(z){const Z=z.lookupList;for(let ee=0;ee<Z.length;ee++){const U=Z[ee];for(let H=0;H<U.tabs.length;H++){const X=U.tabs[H];if(U.ltype===1){if(t._lctf.coverageIndex(X.coverage,G)!==-1&&X.pos){B(X.pos,R);break}}else if(U.ltype===2){let F=null,N=D();if(N!==-1){const V=t._lctf.coverageIndex(X.coverage,P[N]);if(V!==-1){if(X.fmt===1){const Y=X.pairsets[V];for(let q=0;q<Y.length;q++)Y[q].gid2===G&&(F=Y[q])}else if(X.fmt===2){const Y=t.U._getGlyphClass(P[N],X.classDef1),q=t.U._getGlyphClass(G,X.classDef2);F=X.matrix[Y][q]}if(F){F.val1&&B(F.val1,N),F.val2&&B(F.val2,R);break}}}}else if(U.ltype===4){const F=t._lctf.coverageIndex(X.markCoverage,G);if(F!==-1){const N=D(L),V=N===-1?-1:t._lctf.coverageIndex(X.baseCoverage,P[N]);if(V!==-1){const Y=X.markArray[F],q=X.baseArray[V][Y.markClass];M[R*3]=q.x-Y.x+M[N*3]-M[N*3+2],M[R*3+1]=q.y-Y.y+M[N*3+1];break}}}else if(U.ltype===6){const F=t._lctf.coverageIndex(X.mark1Coverage,G);if(F!==-1){const N=D();if(N!==-1){const V=P[N];if(S(A,V)===3){const Y=t._lctf.coverageIndex(X.mark2Coverage,V);if(Y!==-1){const q=X.mark1Array[F],ae=X.mark2Array[Y][q.markClass];M[R*3]=ae.x-q.x+M[N*3]-M[N*3+2],M[R*3+1]=ae.y-q.y+M[N*3+1];break}}}}}}}}else if(A.kern&&!A.cff){const Z=D();if(Z!==-1){const ee=A.kern.glyph1.indexOf(P[Z]);if(ee!==-1){const U=A.kern.rval[ee].glyph2.indexOf(G);U!==-1&&(M[Z*3+2]+=A.kern.rval[ee].vals[U])}}}}return M;function D(G){for(let z=R-1;z>=0;z--)if(P[z]!==-1&&(!G||G(P[z])))return z;return-1}function L(G){return S(A,G)===1}function B(G,z){for(let Z=0;Z<3;Z++)M[z*3+Z]+=G[Z]||0}}function S(A,P){const M=A.GDEF&&A.GDEF.glyphClassDef;return M?t.U._getGlyphClass(P,M):0}function b(...A){for(let P=0;P<A.length;P++)if(typeof A[P]=="number")return A[P]}function T(A){const P=Object.create(null),M=A["OS/2"],R=A.hhea,D=A.head.unitsPerEm,L=b(M&&M.sTypoAscender,R&&R.ascender,D),B={unitsPerEm:D,ascender:L,descender:b(M&&M.sTypoDescender,R&&R.descender,0),capHeight:b(M&&M.sCapHeight,L),xHeight:b(M&&M.sxHeight,L),lineGap:b(M&&M.sTypoLineGap,R&&R.lineGap),supportsCodePoint(G){return t.U.codeToGlyph(A,G)>0},forEachGlyph(G,z,Z,ee){let U=0;const H=1/B.unitsPerEm*z,X=w(A,G);let F=0;const N=_(A,X);return X.forEach((V,Y)=>{if(V!==-1){let q=P[V];if(!q){const{cmds:ae,crds:pe}=t.U.glyphToPath(A,V);let ye="",ge=0;for(let ve=0,Ie=ae.length;ve<Ie;ve++){const be=n[ae[ve]];ye+=ae[ve];for(let Ae=1;Ae<=be;Ae++)ye+=(Ae>1?",":"")+pe[ge++]}let Se,we,W,Pe;if(pe.length){Se=we=1/0,W=Pe=-1/0;for(let ve=0,Ie=pe.length;ve<Ie;ve+=2){let be=pe[ve],Ae=pe[ve+1];be<Se&&(Se=be),Ae<we&&(we=Ae),be>W&&(W=be),Ae>Pe&&(Pe=Ae)}}else Se=W=we=Pe=0;q=P[V]={index:V,advanceWidth:A.hmtx.aWidth[V],xMin:Se,yMin:we,xMax:W,yMax:Pe,path:ye}}ee.call(null,q,U+N[Y*3]*H,N[Y*3+1]*H,F),U+=N[Y*3+2]*H,Z&&(U+=Z*z)}F+=G.codePointAt(F)>65535?2:1}),U}};return B}return function(P){const M=new Uint8Array(P,0,4),R=t._bin.readASCII(M,0,4);if(R==="wOFF")P=e(P);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return T(t.parse(P)[0])}}const DFe=Fp({name:"Typr Font Parser",dependencies:[NFe,IFe,LFe],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function kFe(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(_){var S=_>>5;this.buckets.set(S,(this.buckets.get(S)||0)|1<<(31&_))},e.prototype.has=function(_){var S=this.buckets.get(_>>5);return S!==void 0&&(S&1<<(31&_))!=0},e.prototype.serialize=function(){var _=[];return this.buckets.forEach(function(S,b){_.push((+b).toString(36)+":"+S.toString(36))}),_.join(",")},e.prototype.deserialize=function(_){var S=this;this.buckets.clear(),_.split(",").forEach(function(b){var T=b.split(":");S.buckets.set(parseInt(T[0],36),parseInt(T[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function a(_){var S=function(T){return T&i}(_).toString(16),b=function(T){return(T&i)+n-1}(_).toString(16);return"codepoint-index/plane"+(_>>16)+"/"+S+"-"+b+".json"}function s(_,S){var b=_&r,T=S.codePointAt(b/6|0);return((T=(T||48)-48)&1<<b%6)!=0}function o(_,S){var b;(b=_,b.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(T){return T.split("-").map(function(A){return parseInt(A.trim(),16)})})).forEach(function(T){var A=T[0],P=T[1];P===void 0&&(P=A),S(A,P)})}function l(_,S){o(_,function(b,T){for(var A=b;A<=T;A++)S(A)})}var u={},c={},f=new WeakMap,h="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function d(_){var S=f.get(_);return S||(S=new e,l(_.ranges,function(b){return S.add(b)}),f.set(_,S)),S}var g,v=new Map;function y(_,S,b){return _[S]?S:_[b]?b:function(T){for(var A in T)return A}(_)}function x(_,S){var b=S;if(!_.includes(b)){b=1/0;for(var T=0;T<_.length;T++)Math.abs(_[T]-S)<Math.abs(b-S)&&(b=_[T])}return b}function w(_){return g||(g=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(S){g.add(S)})),g.has(_)}return t.CodePointSet=e,t.clearCache=function(){u={},c={}},t.getFontsForString=function(_,S){S===void 0&&(S={});var b,T=S.lang;T===void 0&&(T=new RegExp("\\p{Script=Hangul}","u").test(b=_)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(b)?"ja":"en");var A=S.category;A===void 0&&(A="sans-serif");var P=S.style;P===void 0&&(P="normal");var M=S.weight;M===void 0&&(M=400);var R=(S.dataUrl||h).replace(/\/$/g,""),D=new Map,L=new Uint8Array(_.length),B={},G={},z=new Array(_.length),Z=new Map,ee=!1;function U(F){var N=v.get(F);return N||(N=fetch(R+"/"+F).then(function(V){if(!V.ok)throw new Error(V.statusText);return V.json().then(function(Y){if(!Array.isArray(Y)||Y[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Y[0]);return Y[1]})}).catch(function(V){if(R!==h)return ee||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+R+'", trying default CDN. '+V.message),ee=!0),R=h,v.delete(F),U(F);throw V}),v.set(F,N)),N}for(var H=function(F){var N=_.codePointAt(F),V=a(N);z[F]=V,u[V]||Z.has(V)||Z.set(V,U(V).then(function(Y){u[V]=Y})),N>65535&&(F++,X=F)},X=0;X<_.length;X++)H(X);return Promise.all(Z.values()).then(function(){Z.clear();for(var F=function(V){var Y=_.codePointAt(V),q=null,ae=u[z[V]],pe=void 0;for(var ye in ae){var ge=G[ye];if(ge===void 0&&(ge=G[ye]=new RegExp(ye).test(T||"en")),ge){for(var Se in pe=ye,ae[ye])if(s(Y,ae[ye][Se])){q=Se;break}break}}if(!q){e:for(var we in ae)if(we!==pe){for(var W in ae[we])if(s(Y,ae[we][W])){q=W;break e}}}q||(console.debug("No font coverage for U+"+Y.toString(16)),q="latin"),z[V]=q,c[q]||Z.has(q)||Z.set(q,U("font-meta/"+q+".json").then(function(Pe){c[q]=Pe})),Y>65535&&(V++,N=V)},N=0;N<_.length;N++)F(N);return Promise.all(Z.values())}).then(function(){for(var F,N=null,V=0;V<_.length;V++){var Y=_.codePointAt(V);if(N&&(w(Y)||d(N).has(Y)))L[V]=L[V-1];else{N=c[z[V]];var q=B[N.id];if(!q){var ae=N.typeforms,pe=y(ae,A,"sans-serif"),ye=y(ae[pe],P,"normal"),ge=x((F=ae[pe])===null||F===void 0?void 0:F[ye],M);q=B[N.id]=R+"/font-files/"+N.id+"/"+pe+"."+ye+"."+ge+".woff"}var Se=D.get(q);Se==null&&(Se=D.size,D.set(q,Se)),L[V]=Se}Y>65535&&(V++,L[V]=L[V-1])}return{fontUrls:Array.from(D.keys()),chars:L}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function FFe(t,e){const n=Object.create(null),r=Object.create(null);function i(s,o){const l=u=>{console.error(`Failure loading font ${s}`,u)};try{const u=new XMLHttpRequest;u.open("get",s,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const c=t(u.response);c.src=s,o(c)}catch(c){l(c)}},u.onerror=l,u.send()}catch(u){l(u)}}function a(s,o){let l=n[s];l?o(l):r[s]?r[s].push(o):(r[s]=[o],i(s,u=>{u.src=s,n[s]=u,r[s].forEach(c=>c(u)),delete r[s]}))}return function(s,o,{lang:l,fonts:u=[],style:c="normal",weight:f="normal",unicodeFontsURL:h}={}){const d=new Uint8Array(s.length),g=[];s.length||w();const v=new Map,y=[];if(c!=="italic"&&(c="normal"),typeof f!="number"&&(f=f==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(S=>!S.lang||S.lang.test(l)).reverse(),u.length){let A=0;(function P(M=0){for(let R=M,D=s.length;R<D;R++){const L=s.codePointAt(R);if(A===1&&g[d[R-1]].supportsCodePoint(L)||R>0&&/\s/.test(s[R]))d[R]=d[R-1],A===2&&(y[y.length-1][1]=R);else for(let B=d[R],G=u.length;B<=G;B++)if(B===G){const z=A===2?y[y.length-1]:y[y.length]=[R,R];z[1]=R,A=2}else{d[R]=B;const{src:z,unicodeRange:Z}=u[B];if(!Z||_(L,Z)){const ee=n[z];if(!ee){a(z,()=>{P(R)});return}if(ee.supportsCodePoint(L)){let U=v.get(ee);typeof U!="number"&&(U=g.length,g.push(ee),v.set(ee,U)),d[R]=U,A=1;break}}}L>65535&&R+1<D&&(d[R+1]=d[R],R++,A===2&&(y[y.length-1][1]=R))}x()})()}else y.push([0,s.length-1]),x();function x(){if(y.length){const S=y.map(b=>s.substring(b[0],b[1]+1)).join(`
`);e.getFontsForString(S,{lang:l||void 0,style:c,weight:f,dataUrl:h}).then(({fontUrls:b,chars:T})=>{const A=g.length;let P=0;y.forEach(R=>{for(let D=0,L=R[1]-R[0];D<=L;D++)d[R[0]+D]=T[P++]+A;P++});let M=0;b.forEach((R,D)=>{a(R,L=>{g[D+A]=L,++M===b.length&&w()})})})}else w()}function w(){o({chars:d,fonts:g})}function _(S,b){for(let T=0;T<b.length;T++){const[A,P=A]=b[T];if(A<=S&&S<=P)return!0}return!1}}}const UFe=Fp({name:"FontResolver",dependencies:[FFe,DFe,kFe],init(t,e,n){return t(e,n())}});function BFe(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:g,lang:v,fonts:y,style:x,weight:w,preResolvedFonts:_,unicodeFontsURL:S},b){const T=({chars:A,fonts:P})=>{let M,R;const D=[];for(let L=0;L<A.length;L++)A[L]!==R?(R=A[L],D.push(M={start:L,end:L,fontObj:P[A[L]]})):M.end=L;b(D)};_?T(_):t(g,T,{lang:v,fonts:y,style:x,weight:w,unicodeFontsURL:S})}function o({text:g="",font:v,lang:y,sdfGlyphSize:x=64,fontSize:w=400,fontWeight:_=1,fontStyle:S="normal",letterSpacing:b=0,lineHeight:T="normal",maxWidth:A=1/0,direction:P,textAlign:M="left",textIndent:R=0,whiteSpace:D="normal",overflowWrap:L="normal",anchorX:B=0,anchorY:G=0,metricsOnly:z=!1,unicodeFontsURL:Z,preResolvedFonts:ee=null,includeCaretPositions:U=!1,chunkedBoundsSize:H=8192,colorRanges:X=null},F){const N=f(),V={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,b=+b,A=+A,T=T||"normal",R=+R,s({text:g,lang:y,style:S,weight:_,fonts:typeof v=="string"?[{src:v}]:v,unicodeFontsURL:Z,preResolvedFonts:ee},Y=>{V.fontLoad=f()-N;const q=isFinite(A);let ae=null,pe=null,ye=null,ge=null,Se=null,we=null,W=null,Pe=null,ve=0,Ie=0,be=D!=="nowrap";const Ae=new Map,Ne=f();let He=R,qe=0,Le=new h;const lt=[Le];Y.forEach(De=>{const{fontObj:Fe}=De,{ascender:tt,descender:Ke,unitsPerEm:Re,lineGap:ft,capHeight:at,xHeight:it}=Fe;let Xe=Ae.get(Fe);if(!Xe){const ze=w/Re,Oe=T==="normal"?(tt-Ke+ft)*ze:T*w,st=(Oe-(tt-Ke)*ze)/2,nt=Math.min(Oe,(tt-Ke)*ze),vt=(tt+Ke)/2*ze+nt/2;Xe={index:Ae.size,src:Fe.src,fontObj:Fe,fontSizeMult:ze,unitsPerEm:Re,ascender:tt*ze,descender:Ke*ze,capHeight:at*ze,xHeight:it*ze,lineHeight:Oe,baseline:-st-tt*ze,caretTop:vt,caretBottom:vt-nt},Ae.set(Fe,Xe)}const{fontSizeMult:ce}=Xe,Be=g.slice(De.start,De.end+1);let ut,de;Fe.forEachGlyph(Be,w,b,(ze,Oe,st,nt)=>{Oe+=qe,nt+=De.start,ut=Oe,de=ze;const vt=g.charAt(nt),Mt=ze.advanceWidth*ce,Ct=Le.count;let Et;if("isEmpty"in ze||(ze.isWhitespace=!!vt&&new RegExp(i).test(vt),ze.canBreakAfter=!!vt&&a.test(vt),ze.isEmpty=ze.xMin===ze.xMax||ze.yMin===ze.yMax||r.test(vt)),!ze.isWhitespace&&!ze.isEmpty&&Ie++,be&&q&&!ze.isWhitespace&&Oe+Mt+He>A&&Ct){if(Le.glyphAt(Ct-1).glyphObj.canBreakAfter)Et=new h,He=-Oe;else for(let Qt=Ct;Qt--;)if(Qt===0&&L==="break-word"){Et=new h,He=-Oe;break}else if(Le.glyphAt(Qt).glyphObj.canBreakAfter){Et=Le.splitAt(Qt+1);const Gt=Et.glyphAt(0).x;He-=Gt;for(let Nn=Et.count;Nn--;)Et.glyphAt(Nn).x-=Gt;break}Et&&(Le.isSoftWrapped=!0,Le=Et,lt.push(Le),ve=A)}let Tt=Le.glyphAt(Le.count);Tt.glyphObj=ze,Tt.x=Oe+He,Tt.y=st,Tt.width=Mt,Tt.charIndex=nt,Tt.fontData=Xe,vt===`
`&&(Le=new h,lt.push(Le),He=-(Oe+Mt+b*w)+R)}),qe=ut+de.advanceWidth*ce+b*w});let Q=0;lt.forEach(De=>{let Fe=!0;for(let tt=De.count;tt--;){const Ke=De.glyphAt(tt);Fe&&!Ke.glyphObj.isWhitespace&&(De.width=Ke.x+Ke.width,De.width>ve&&(ve=De.width),Fe=!1);let{lineHeight:Re,capHeight:ft,xHeight:at,baseline:it}=Ke.fontData;Re>De.lineHeight&&(De.lineHeight=Re);const Xe=it-De.baseline;Xe<0&&(De.baseline+=Xe,De.cap+=Xe,De.ex+=Xe),De.cap=Math.max(De.cap,De.baseline+ft),De.ex=Math.max(De.ex,De.baseline+at)}De.baseline-=Q,De.cap-=Q,De.ex-=Q,Q+=De.lineHeight});let K=0,xe=0;if(B&&(typeof B=="number"?K=-B:typeof B=="string"&&(K=-ve*(B==="left"?0:B==="center"?.5:B==="right"?1:u(B)))),G&&(typeof G=="number"?xe=-G:typeof G=="string"&&(xe=G==="top"?0:G==="top-baseline"?-lt[0].baseline:G==="top-cap"?-lt[0].cap:G==="top-ex"?-lt[0].ex:G==="middle"?Q/2:G==="bottom"?Q:G==="bottom-baseline"?-lt[lt.length-1].baseline:u(G)*Q)),!z){const De=e.getEmbeddingLevels(g,P);ae=new Uint16Array(Ie),pe=new Uint8Array(Ie),ye=new Float32Array(Ie*2),ge={},W=[1/0,1/0,-1/0,-1/0],Pe=[],U&&(we=new Float32Array(g.length*4)),X&&(Se=new Uint8Array(Ie*3));let Fe=0,tt=-1,Ke=-1,Re,ft;if(lt.forEach((at,it)=>{let{count:Xe,width:ce}=at;if(Xe>0){let Be=0;for(let nt=Xe;nt--&&at.glyphAt(nt).glyphObj.isWhitespace;)Be++;let ut=0,de=0;if(M==="center")ut=(ve-ce)/2;else if(M==="right")ut=ve-ce;else if(M==="justify"&&at.isSoftWrapped){let nt=0;for(let vt=Xe-Be;vt--;)at.glyphAt(vt).glyphObj.isWhitespace&&nt++;de=(ve-ce)/nt}if(de||ut){let nt=0;for(let vt=0;vt<Xe;vt++){let Mt=at.glyphAt(vt);const Ct=Mt.glyphObj;Mt.x+=ut+nt,de!==0&&Ct.isWhitespace&&vt<Xe-Be&&(nt+=de,Mt.width+=de)}}const ze=e.getReorderSegments(g,De,at.glyphAt(0).charIndex,at.glyphAt(at.count-1).charIndex);for(let nt=0;nt<ze.length;nt++){const[vt,Mt]=ze[nt];let Ct=1/0,Et=-1/0;for(let Tt=0;Tt<Xe;Tt++)if(at.glyphAt(Tt).charIndex>=vt){let Qt=Tt,Gt=Tt;for(;Gt<Xe;Gt++){let Nn=at.glyphAt(Gt);if(Nn.charIndex>Mt)break;Gt<Xe-Be&&(Ct=Math.min(Ct,Nn.x),Et=Math.max(Et,Nn.x+Nn.width))}for(let Nn=Qt;Nn<Gt;Nn++){const _r=at.glyphAt(Nn);_r.x=Et-(_r.x+_r.width-Ct)}break}}let Oe;const st=nt=>Oe=nt;for(let nt=0;nt<Xe;nt++){const vt=at.glyphAt(nt);Oe=vt.glyphObj;const Mt=Oe.index,Ct=De.levels[vt.charIndex]&1;if(Ct){const Et=e.getMirroredCharacter(g[vt.charIndex]);Et&&vt.fontData.fontObj.forEachGlyph(Et,0,0,st)}if(U){const{charIndex:Et,fontData:Tt}=vt,Qt=vt.x+K,Gt=vt.x+vt.width+K;we[Et*4]=Ct?Gt:Qt,we[Et*4+1]=Ct?Qt:Gt,we[Et*4+2]=at.baseline+Tt.caretBottom+xe,we[Et*4+3]=at.baseline+Tt.caretTop+xe;const Nn=Et-tt;Nn>1&&c(we,tt,Nn),tt=Et}if(X){const{charIndex:Et}=vt;for(;Et>Ke;)Ke++,X.hasOwnProperty(Ke)&&(ft=X[Ke])}if(!Oe.isWhitespace&&!Oe.isEmpty){const Et=Fe++,{fontSizeMult:Tt,src:Qt,index:Gt}=vt.fontData,Nn=ge[Qt]||(ge[Qt]={});Nn[Mt]||(Nn[Mt]={path:Oe.path,pathBounds:[Oe.xMin,Oe.yMin,Oe.xMax,Oe.yMax]});const _r=vt.x+K,Di=vt.y+at.baseline+xe;ye[Et*2]=_r,ye[Et*2+1]=Di;const wr=_r+Oe.xMin*Tt,ki=Di+Oe.yMin*Tt,J=_r+Oe.xMax*Tt,le=Di+Oe.yMax*Tt;wr<W[0]&&(W[0]=wr),ki<W[1]&&(W[1]=ki),J>W[2]&&(W[2]=J),le>W[3]&&(W[3]=le),Et%H===0&&(Re={start:Et,end:Et,rect:[1/0,1/0,-1/0,-1/0]},Pe.push(Re)),Re.end++;const te=Re.rect;if(wr<te[0]&&(te[0]=wr),ki<te[1]&&(te[1]=ki),J>te[2]&&(te[2]=J),le>te[3]&&(te[3]=le),ae[Et]=Mt,pe[Et]=Gt,X){const ie=Et*3;Se[ie]=ft>>16&255,Se[ie+1]=ft>>8&255,Se[ie+2]=ft&255}}}}}),we){const at=g.length-tt;at>1&&c(we,tt,at)}}const Je=[];Ae.forEach(({index:De,src:Fe,unitsPerEm:tt,ascender:Ke,descender:Re,lineHeight:ft,capHeight:at,xHeight:it})=>{Je[De]={src:Fe,unitsPerEm:tt,ascender:Ke,descender:Re,lineHeight:ft,capHeight:at,xHeight:it}}),V.typesetting=f()-Ne,F({glyphIds:ae,glyphFontIndices:pe,glyphPositions:ye,glyphData:ge,fontData:Je,caretPositions:we,glyphColors:Se,chunkedBounds:Pe,fontSize:w,topBaseline:xe+lt[0].baseline,blockBounds:[K,xe-Q,K+ve,xe],visibleBounds:W,timings:V})})}function l(g,v){o({...g,metricsOnly:!0},y=>{const[x,w,_,S]=y.blockBounds;v({width:_-x,height:S-w})})}function u(g){let v=g.match(/^([\d.]+)%$/),y=v?parseFloat(v[1]):NaN;return isNaN(y)?0:y/100}function c(g,v,y){const x=g[v*4],w=g[v*4+1],_=g[v*4+2],S=g[v*4+3],b=(w-x)/y;for(let T=0;T<y;T++){const A=(v+T)*4;g[A]=x+b*T,g[A+1]=x+b*(T+1),g[A+2]=_,g[A+3]=S}}function f(){return(self.performance||Date).now()}function h(){this.data=[]}const d=["glyphObj","x","y","width","charIndex","fontData"];return h.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/d.length)},glyphAt(g){let v=h.flyweight;return v.data=this.data,v.index=g,v},splitAt(g){let v=new h;return v.data=this.data.splice(g*d.length),v}},h.flyweight=d.reduce((g,v,y,x)=>(Object.defineProperty(g,v,{get(){return this.data[this.index*d.length+y]},set(w){this.data[this.index*d.length+y]=w}}),g),{data:null,index:0}),{typeset:o,measure:l}}const uf=()=>(self.performance||Date).now(),yb=kV();let JB;function zFe(t,e,n,r,i,a,s,o,l,u,c=!0){return c?HFe(t,e,n,r,i,a,s,o,l,u).then(null,f=>(JB||(console.warn("WebGL SDF generation failed, falling back to JS",f),JB=!0),e5(t,e,n,r,i,a,s,o,l,u))):e5(t,e,n,r,i,a,s,o,l,u)}const O1=[],jFe=5;let jC=0;function UV(){const t=uf();for(;O1.length&&uf()-t<jFe;)O1.shift()();jC=O1.length?setTimeout(UV,0):0}const HFe=(...t)=>new Promise((e,n)=>{O1.push(()=>{const r=uf();try{yb.webgl.generateIntoCanvas(...t),e({timing:uf()-r})}catch(i){n(i)}}),jC||(jC=setTimeout(UV,0))}),WFe=4,GFe=2e3,QB={};let VFe=0;function e5(t,e,n,r,i,a,s,o,l,u){const c="TroikaTextSDFGenerator_JS_"+VFe++%WFe;let f=QB[c];return f||(f=QB[c]={workerModule:Fp({name:c,workerId:c,dependencies:[kV,uf],init(h,d){const g=h().javascript.generate;return function(...v){const y=d();return{textureData:g(...v),timing:d()-y}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,a).then(({textureData:h,timing:d})=>{const g=uf(),v=new Uint8Array(h.length*4);for(let y=0;y<h.length;y++)v[y*4+u]=h[y];return yb.webglUtils.renderImageData(s,v,o,l,t,e,1<<3-u),d+=uf()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{SFe(c)},GFe)),{timing:d}})}function $Fe(t){t._warm||(yb.webgl.isSupported(t),t._warm=!0)}const XFe=yb.webglUtils.resizeWebGLCanvasWithoutClearing,K0={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},YFe=new _t;function Bh(){return(self.performance||Date).now()}const t5=Object.create(null);function BV(t,e){t=ZFe({},t);const n=Bh(),r=[];if(t.font&&r.push({label:"user",src:JFe(t.font)}),t.font=r,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||K0.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||K0.unicodeFontsURL,t.colorRanges!=null){let h={};for(let d in t.colorRanges)if(t.colorRanges.hasOwnProperty(d)){let g=t.colorRanges[d];typeof g!="number"&&(g=YFe.set(g).getHex()),h[d]=g}t.colorRanges=h}Object.freeze(t);const{textureWidth:i,sdfExponent:a}=K0,{sdfGlyphSize:s}=t,o=i/s*4;let l=t5[s];if(!l){const h=document.createElement("canvas");h.width=i,h.height=s*256/o,l=t5[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:h,sdfTexture:new cr(h,void 0,void 0,void 0,Zn,Zn),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,qFe(l)}const{sdfTexture:u,sdfCanvas:c}=l;HV(t).then(h=>{const{glyphIds:d,glyphFontIndices:g,fontData:v,glyphPositions:y,fontSize:x,timings:w}=h,_=[],S=new Float32Array(d.length*4);let b=0,T=0;const A=Bh(),P=v.map(B=>{let G=l.glyphsByFont.get(B.src);return G||l.glyphsByFont.set(B.src,G=new Map),G});d.forEach((B,G)=>{const z=g[G],{src:Z,unitsPerEm:ee}=v[z];let U=P[z].get(B);if(!U){const{path:V,pathBounds:Y}=h.glyphData[Z][B],q=Math.max(Y[2]-Y[0],Y[3]-Y[1])/s*(K0.sdfMargin*s+.5),ae=l.glyphCount++,pe=[Y[0]-q,Y[1]-q,Y[2]+q,Y[3]+q];P[z].set(B,U={path:V,atlasIndex:ae,sdfViewBox:pe}),_.push(U)}const{sdfViewBox:H}=U,X=y[T++],F=y[T++],N=x/ee;S[b++]=X+H[0]*N,S[b++]=F+H[1]*N,S[b++]=X+H[2]*N,S[b++]=F+H[3]*N,d[G]=U.atlasIndex}),w.quads=(w.quads||0)+(Bh()-A);const M=Bh();w.sdf={};const R=c.height,D=Math.ceil(l.glyphCount/o),L=Math.pow(2,Math.ceil(Math.log2(D*s)));L>R&&(console.info(`Increasing SDF texture size ${R}->${L}`),XFe(c,i,L),u.dispose()),Promise.all(_.map(B=>zV(B,l,t.gpuAccelerateSDF).then(({timing:G})=>{w.sdf[B.atlasIndex]=G}))).then(()=>{_.length&&!l.contextLost&&(jV(l),u.needsUpdate=!0),w.sdfTotal=Bh()-M,w.total=Bh()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:s,sdfExponent:a,glyphBounds:S,glyphAtlasIndices:d,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{l.contextLost||$Fe(c)})}function zV({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},s){if(a)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:l}=K0,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(o/r)*r,h=Math.floor(c/(o/r))*r,d=e%4;return zFe(r,r,t,n,u,l,i,f,h,d,s)}function qFe(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(a=>{r.push(zV(a,t,!0))})}),Promise.all(r).then(()=>{jV(t),t.sdfTexture.needsUpdate=!0})})}function KFe({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;BV({font:t,sdfGlyphSize:n,text:i},r)}function ZFe(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let n1;function JFe(t){return n1||(n1=typeof document>"u"?{}:document.createElement("a")),n1.href=t,n1.href}function jV(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,a=t.sdfCanvas.getContext("webgl");let s=n.image.data;(!s||s.length!==r*i*4)&&(s=new Uint8Array(r*i*4),n.image={width:r,height:i,data:s},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,s)}}const QFe=Fp({name:"Typesetter",dependencies:[BFe,UFe,EFe],init(t,e,n){return t(e,n())}}),HV=Fp({name:"Typesetter",dependencies:[QFe],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});HV.onMainThread;const n5={};function eUe(t){let e=n5[t];return e||(e=n5[t]=new Ju(1,1,t,t).translate(.5,.5,0)),e}const tUe="aTroikaGlyphBounds",r5="aTroikaGlyphIndex",nUe="aTroikaGlyphColor";class rUe extends aR{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ms,this.boundingBox=new As}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=eUe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,a){this.updateAttributeData(tUe,e,4),this.updateAttributeData(r5,n,1),this.updateAttributeData(nUe,a,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:a,min:s,max:o,sin:l,cos:u}=Math,c=i/2,f=i*2,h=Math.abs(n),d=e[0]/h,g=e[2]/h,v=a((d+c)/f)!==a((g+c)/f)?-h:s(l(d)*h,l(g)*h),y=a((d-c)/f)!==a((g-c)/f)?h:o(l(d)*h,l(g)*h),x=a((d+i)/f)!==a((g+i)/f)?h*2:o(h-u(d)*h,h-u(g)*h);r.min.set(v,e[1],n<0?-x:0),r.max.set(y,e[3],n<0?0:x)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(r5).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let a=r[i].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new Af(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const iUe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,aUe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,sUe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,oUe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function lUe(t){const e=zC(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Qe},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new gn(0,0,0,0)},uTroikaClipRect:{value:new gn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Qe},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new _t},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Vt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:iUe,vertexTransform:aUe,fragmentDefs:sUe,fragmentColorTransform:oUe,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(FV,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const dR=new zl({color:16777215,side:qs,transparent:!0}),i5=8421504,a5=new Ut,r1=new se,gT=new se,z0=[],uUe=new se,vT="+x+y";function s5(t){return Array.isArray(t)?t[0]:t}let WV=()=>{const t=new Pr(new Ju(1,1),dR);return WV=()=>t,t},GV=()=>{const t=new Pr(new Ju(1,1,32,1),dR);return GV=()=>t,t};const cUe={type:"syncstart"},fUe={type:"synccomplete"},VV=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],hUe=VV.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let $V=class extends Pr{constructor(){const e=new rUe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=i5,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=vT,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(cUe),BV({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(fUe),e&&e()})))}onBeforeRender(e,n,r,i,a,s){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return lUe(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=dR.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return s5(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return s5(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:o,blockBounds:l}=i;r.uTroikaSDFTexture.value=o,r.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,h,d,g,v=0,y=0;if(n){let{outlineWidth:w,outlineOffsetX:_,outlineOffsetY:S,outlineBlur:b,outlineOpacity:T}=this;u=this._parsePercent(w)||0,c=Math.max(0,this._parsePercent(b)||0),h=T,v=this._parsePercent(_)||0,y=this._parsePercent(S)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??i5),d=this.strokeOpacity,d==null&&(d=1)),h=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=d,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let x=this.clipRect;if(x&&Array.isArray(x)&&x.length===4)r.uTroikaClipRect.value.fromArray(x);else{const w=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-w,l[1]-w,l[2]+w,l[3]+w)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=n?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const o=e.hasOwnProperty("color")?e.color:e.color=new _t;(a!==o._input||typeof a=="object")&&o.set(o._input=a)}let s=this.orientation||vT;if(s!==e._orientation){let o=r.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let l=s!==vT&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,h]=l;r1.set(0,0,0)[c]=u==="-"?1:-1,gT.set(0,0,0)[h]=f==="-"?-1:1,a5.lookAt(uUe,r1.cross(gT),gT),o.setFromMatrix4(a5)}else o.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Qe){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new Qe){return r1.copy(e),this.localPositionToTextCoords(this.worldToLocal(r1),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const a=r.blockBounds,s=i?GV():WV(),o=s.geometry,{position:l,uv:u}=o.attributes;for(let c=0;c<u.count;c++){let f=a[0]+u.getX(c)*(a[2]-a[0]);const h=a[1]+u.getY(c)*(a[3]-a[1]);let d=0;i&&(d=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,h,d)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,z0.length=0,s.raycast(e,z0);for(let c=0;c<z0.length;c++)z0[c].object=this,n.push(z0[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,hUe.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};VV.forEach(t=>{const e="_private_"+t;Object.defineProperty($V.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new As;new _t;const dUe=fe.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:a,characters:s,onSync:o,...l},u)=>{const c=nl(({invalidate:g})=>g),[f]=fe.useState(()=>new $V),[h,d]=fe.useMemo(()=>{const g=[];let v="";return fe.Children.forEach(a,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[a]);return wke(()=>new Promise(g=>KFe({font:r,characters:s},g)),["troika-text",r,s]),fe.useLayoutEffect(()=>void f.sync(()=>{c(),o&&o(f)})),fe.useEffect(()=>()=>f.dispose(),[f]),fe.createElement("primitive",U_({object:f,ref:u,font:r,text:d,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),h)}),pUe=fe.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:l,...u},c)=>{const f=nl(T=>T.invalidate),h=nl(T=>T.camera),d=nl(T=>T.gl),g=nl(T=>T.events),v=nl(T=>T.setEvents),y=nl(T=>T.set),x=nl(T=>T.get),w=nl(T=>T.performance),_=e||h,S=r||g.connected||d.domElement,b=fe.useMemo(()=>new vFe(_),[_]);return Hke(()=>{b.enabled&&b.update()},-1),fe.useEffect(()=>(a&&b.connect(a===!0?S:a),b.connect(S),()=>void b.dispose()),[a,S,n,b,f]),fe.useEffect(()=>{const T=M=>{f(),n&&w.regress(),s&&s(M)},A=M=>{o&&o(M)},P=M=>{l&&l(M)};return b.addEventListener("change",T),b.addEventListener("start",A),b.addEventListener("end",P),()=>{b.removeEventListener("start",A),b.removeEventListener("end",P),b.removeEventListener("change",T)}},[s,o,l,b,f,v]),fe.useEffect(()=>{if(t){const T=x().controls;return y({controls:b}),()=>y({controls:T})}},[t,b]),fe.createElement("primitive",U_({ref:c,object:b,enableDamping:i},u))}),mUe=({x:t,color:e,r:n,label:r})=>O.jsxs("mesh",{position:[t,0,0],children:[O.jsx("cylinderGeometry",{args:[n,n,.2,32]}),O.jsx("meshStandardMaterial",{color:e,metalness:.2,roughness:.4,emissive:r?"#052f2f":"#000000"}),r&&O.jsx(dUe,{position:[0,-n-.6,0],fontSize:.4,color:"#e6eef8",anchorX:"center",anchorY:"middle",children:r})]}),gUe=({r:t,color:e})=>O.jsxs("mesh",{children:[O.jsx("cylinderGeometry",{args:[t,t,.25,64]}),O.jsx("meshStandardMaterial",{color:e,transparent:!0,opacity:.18,metalness:.1,roughness:.6})]}),vUe=({cores:t=3,sheathColor:e="#06b6d4",coreColor:n="#fb923c",size:r=20})=>{const i=Math.max(.8,Math.sqrt(r)*.18);let a=[];t===1?a=[0]:t===2?a=[-i*2.4,i*2.4]:t===3?a=[-i*2,0,i*2]:a=Array.from({length:t},(o,l)=>(l-(t-1)/2)*i*2.2);const s=i*(t>2?2.6:2.8);return O.jsx("div",{style:{width:"100%",height:"100%"},children:O.jsxs(uFe,{camera:{position:[0,0,10],fov:45},children:[O.jsx("ambientLight",{intensity:.5}),O.jsx("directionalLight",{position:[5,5,5],intensity:.8}),O.jsx("pointLight",{position:[-5,-5,-5],intensity:.2}),O.jsxs("group",{rotation:[Math.PI/2,0,0],children:[O.jsx(gUe,{r:s,color:e}),a.map((o,l)=>O.jsx(mUe,{x:o,color:n,r:i,label:`${l+1}`},l))]}),O.jsx(pUe,{enablePan:!0,enableZoom:!0,enableRotate:!0})]})})},yUe=({children:t,defaultX:e=20,defaultY:n=20})=>{const r=fe.useRef(null),[i,a]=fe.useState({x:e,y:n}),s=fe.useRef(!1),o=fe.useRef({x:0,y:0});fe.useEffect(()=>{const u=f=>{s.current&&a({x:f.clientX-o.current.x,y:f.clientY-o.current.y})},c=()=>{s.current=!1};return window.addEventListener("mousemove",u),window.addEventListener("mouseup",c),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",c)}},[]);const l=u=>{const c=r.current;if(!c)return;s.current=!0;const f=c.getBoundingClientRect();o.current={x:u.clientX-f.left,y:u.clientY-f.top}};return O.jsx("div",{ref:r,style:{position:"fixed",left:i.x,top:i.y,zIndex:60,cursor:"grab"},className:"shadow-2xl",children:O.jsx("div",{onMouseDown:l,className:"cursor-grab",children:t})})},xUe=()=>{const[t,e]=fe.useState("input"),[n,r]=fe.useState("IEC"),[i,a]=fe.useState([{id:"1",cableNumber:"CB-001",description:"Feeder Main Supply",loadKw:100,loadKva:125,voltage:415,pf:.9,efficiency:.95,length:50,runs:3,cableType:"C",fromEquipment:"Transformer",toEquipment:"Panel A"}]),[s,o]=fe.useState([]),[l,u]=fe.useState(new Set),[c,f]=fe.useState(!1),[h,d]=fe.useState(null),g=fe.useRef(null),[v,y]=fe.useState(0),[x,w]=fe.useState(["cable_number","flc","derated_current","selected_size","voltage_drop","sc_check","status"]),[_,S]=fe.useState(!1);fe.useEffect(()=>{try{const z=localStorage.getItem("cable_sizing_visible_columns");if(z){const Z=JSON.parse(z);Array.isArray(Z)&&w(Z)}}catch{}},[]),fe.useEffect(()=>{try{localStorage.setItem("cable_sizing_visible_columns",JSON.stringify(x))}catch{}},[x]);const b=async z=>{var U;const Z=(U=z.target.files)==null?void 0:U[0];if(!Z)return;f(!0),y(0);const ee=new FormData;ee.append("file",Z);try{const H=await Fn.post("/api/v1/cable/bulk_excel",ee,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:X=>{y(Math.round(X.loaded/X.total*100))}});H.data.results&&H.data.results.length>0&&(o(H.data.results),e("results"),alert(` Imported ${H.data.cables_imported} cables`)),H.data.errors&&H.data.errors.length>0&&alert(` Errors: ${H.data.errors.join(", ")}`)}catch(H){alert(" Upload failed: "+H.message)}finally{f(!1),y(0),g.current&&(g.current.value="")}},T=async()=>{f(!0);try{const z=await Fn.post("/api/v1/cable/bulk",i.map(Z=>({cable_number:Z.cableNumber,description:Z.description,load_kw:Z.loadKw,load_kva:Z.loadKva,voltage:Z.voltage,pf:Z.pf,efficiency:Z.efficiency,length:Z.length,runs:Z.runs,cable_type:Z.cableType,from_equipment:Z.fromEquipment,to_equipment:Z.toEquipment})));o(z.data),e("results")}catch(z){alert(" Calculation failed: "+z.message)}finally{f(!1)}},A=(z,Z)=>{o(s.map(ee=>ee.id===z?{...ee,status:Z}:ee))},P=z=>{const Z=new Set(l);Z.has(z)?Z.delete(z):Z.add(z),u(Z)},M=()=>{l.forEach(z=>A(z,"approved")),u(new Set)},R=()=>{l.forEach(z=>A(z,"hold")),u(new Set)},D=()=>{const z=["Cable Number","FLC (A)","Derated (A)","Size (mm)","V-drop %","SC Check","Status"],Z=s.filter(F=>!Array.from(x).includes("hidden")||F.status!=="hidden").map(F=>[F.cable_number,F.flc,F.derated_current,F.selected_size,F.voltage_drop,F.sc_check?"PASS":"FAIL",F.status]),ee=[z,...Z].map(F=>F.join(",")).join(`
`),U=new Blob([ee],{type:"text/csv"}),H=URL.createObjectURL(U),X=document.createElement("a");X.href=H,X.download=`cable_sizing_${new Date().toISOString().split("T")[0]}.csv`,X.click()},L=()=>{const z={exported_at:new Date().toISOString(),standard:n,total_cables:s.length,cables:s},Z=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),ee=URL.createObjectURL(Z),U=document.createElement("a");U.href=ee,U.download=`cable_sizing_${new Date().toISOString().split("T")[0]}.json`,U.click()},B=()=>{const z=s.filter(H=>l.has(H.id));if(z.length===0){alert("No cables selected");return}const Z=z.map(H=>({cable_number:H.cable_number,flc:H.flc,derated_current:H.derated_current,selected_size:H.selected_size,voltage_drop:H.voltage_drop,sc_check:H.sc_check?"PASS":"FAIL",status:H.status})),ee=TE.json_to_sheet(Z),U=TE.book_new();TE.book_append_sheet(U,ee,"Cables"),fOe(U,`cable_sizing_selected_${new Date().toISOString().split("T")[0]}.xlsx`)},G=({cable:z})=>O.jsxs("div",{className:"card-glow p-6 rounded-xl",style:{width:360},children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Cable Specification"}),O.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-8 mb-6",children:[O.jsx("div",{className:"flex items-center justify-center mb-6",children:O.jsx("div",{className:"w-40 h-40",children:O.jsx(vUe,{cores:z.cores,size:z.size})})}),O.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-500",children:"Cable Size"}),O.jsxs("p",{className:"text-lg font-bold text-cyan-400",children:[z.size," mm"]})]}),O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-500",children:"Outer Diameter"}),O.jsxs("p",{className:"text-lg font-bold text-cyan-400",children:[z.od," mm"]})]}),O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-500",children:"Cores"}),O.jsx("p",{className:"text-lg font-bold text-cyan-400",children:z.cores})]}),O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-500",children:"Type"}),O.jsx("p",{className:"text-lg font-bold text-cyan-400",children:"XLPE"})]})]}),O.jsxs("div",{className:"border-t border-gray-600 pt-4 mt-4",children:[O.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Connection Route"}),O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("div",{className:"px-3 py-2 rounded bg-slate-800 border border-cyan-500/30",children:O.jsx("p",{className:"text-xs font-mono text-cyan-300",children:z.fromEquipment})}),O.jsx("div",{className:"flex-1 mx-2 h-0.5 bg-gradient-to-r from-cyan-500 to-blue-500"}),O.jsx("div",{className:"px-3 py-2 rounded bg-slate-800 border border-cyan-500/30",children:O.jsx("p",{className:"text-xs font-mono text-cyan-300",children:z.toEquipment})})]})]})]}),O.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[O.jsx("p",{children:" Insulation: Cross-linked Polyethylene (XLPE)"}),O.jsx("p",{children:" Sheath: PVC"}),O.jsx("p",{children:" Armor: Steel Wire"}),O.jsx("p",{children:" Temperature Rating: 90C"})]})]});return O.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[O.jsxs("div",{className:"mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Cable Sizing Module"}),O.jsx("p",{className:"text-gray-400",children:"Design and calculate cable specifications with IEC/IS standards"})]}),O.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-700",children:[O.jsx("button",{onClick:()=>e("input"),className:`px-4 py-3 font-medium transition-colors ${t==="input"?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Input Data"}),O.jsxs("button",{onClick:()=>e("results"),className:`px-4 py-3 font-medium transition-colors ${t==="results"?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:["Results (",s.length,")"]})]}),t==="input"&&O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"card-glow p-6 rounded-xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Standard"}),O.jsx("div",{className:"flex gap-3",children:["IEC","IS"].map(z=>O.jsx("button",{onClick:()=>r(z),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===z?"bg-cyan-500/30 text-cyan-400 border border-cyan-500":"bg-slate-800/40 text-gray-400 border border-gray-600 hover:border-cyan-500"}`,children:z==="IEC"?"IEC 60287":"IS 1554"},z))})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Import Data"}),O.jsxs("div",{className:"flex gap-3",children:[O.jsx("input",{ref:g,type:"file",accept:".xlsx,.xls",onChange:b,className:"hidden",disabled:c}),O.jsxs("button",{onClick:()=>{var z;return(z=g.current)==null?void 0:z.click()},disabled:c,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors disabled:opacity-50",children:[O.jsx($0,{className:"w-4 h-4"}),O.jsx("span",{children:c?`Uploading ${v}%`:"Excel"})]})]})]})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cable Input Data"}),O.jsxs("button",{onClick:()=>a([...i,{id:String(i.length+1),cableNumber:`CB-${String(i.length+1).padStart(3,"0")}`,description:"",loadKw:0,loadKva:0,voltage:415,pf:.9,efficiency:.95,length:0,runs:1,cableType:"C",fromEquipment:"",toEquipment:""}]),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:[O.jsx(qO,{className:"w-4 h-4"}),"Add Cable"]})]}),O.jsx("div",{className:"overflow-x-auto mb-6",children:O.jsxs("table",{className:"w-full text-sm",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"border-b border-gray-600",children:[O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Cable No."}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Description"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"kW"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"V"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"PF"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Length"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Runs"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Actions"})]})}),O.jsx("tbody",{children:i.map(z=>O.jsxs("tr",{className:"border-b border-gray-700 hover:bg-cyan-500/10",children:[O.jsx("td",{className:"py-3 px-4 text-gray-300",children:z.cableNumber}),O.jsx("td",{className:"py-3 px-4 text-gray-400",children:z.description}),O.jsx("td",{className:"py-3 px-4 text-gray-300",children:z.loadKw}),O.jsx("td",{className:"py-3 px-4 text-gray-300",children:z.voltage}),O.jsx("td",{className:"py-3 px-4 text-gray-300",children:z.pf}),O.jsx("td",{className:"py-3 px-4 text-gray-300",children:z.length}),O.jsx("td",{className:"py-3 px-4 text-gray-300",children:z.runs}),O.jsxs("td",{className:"py-3 px-4 flex gap-2",children:[O.jsx("button",{className:"text-gray-500 hover:text-cyan-400",children:O.jsx(a7,{className:"w-4 h-4"})}),O.jsx("button",{onClick:()=>a(i.filter(Z=>Z.id!==z.id)),className:"text-gray-500 hover:text-red-400",children:O.jsx(s7,{className:"w-4 h-4"})})]})]},z.id))})]})}),O.jsxs("button",{onClick:T,disabled:c,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold hover:from-cyan-600 hover:to-blue-600 transition-all disabled:opacity-50",children:[O.jsx(Ag,{className:"w-5 h-5"}),c?"Calculating...":"Calculate Cables"]})]})]}),t==="results"&&O.jsxs("div",{className:"space-y-6",children:[h&&O.jsx(yUe,{defaultX:40,defaultY:120,children:O.jsx(G,{cable:h})}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Cable Sizing Results"}),O.jsxs("p",{className:"text-sm text-gray-400",children:[s.length," cables  ",s.filter(z=>z.status==="approved").length," approved"]})]}),O.jsxs("div",{className:"flex gap-3",children:[l.size>0&&O.jsxs(O.Fragment,{children:[O.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30",children:[O.jsx(Qk,{className:"w-4 h-4"}),"Approve (",l.size,")"]}),O.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30",children:[O.jsx(g1,{className:"w-4 h-4"}),"Hold"]})]}),O.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500/20 text-blue-400 hover:bg-blue-500/30",children:[O.jsx(dE,{className:"w-4 h-4"}),"CSV"]}),O.jsx("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-700/20 text-slate-200 hover:bg-slate-700/30",children:"Columns"}),O.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-indigo-500/20 text-indigo-400 hover:bg-indigo-500/30",children:[O.jsx(dE,{className:"w-4 h-4"}),"XLSX"]}),O.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-purple-500/20 text-purple-400 hover:bg-purple-500/30",children:[O.jsx(dE,{className:"w-4 h-4"}),"JSON"]})]})]}),O.jsx("div",{className:"overflow-x-auto",children:O.jsxs("table",{className:"w-full text-sm",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"border-b border-gray-600",children:[O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:O.jsx("input",{type:"checkbox",onChange:z=>{z.target.checked?u(new Set(s.map(Z=>Z.id))):u(new Set)},className:"rounded"})}),x.includes("cable_number")&&O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Cable"}),x.includes("flc")&&O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"FLC (A)"}),x.includes("derated_current")&&O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Derated (A)"}),x.includes("selected_size")&&O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Size"}),x.includes("voltage_drop")&&O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"V-drop %"}),x.includes("sc_check")&&O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"SC"}),x.includes("status")&&O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Status"}),O.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Actions"})]})}),O.jsx("tbody",{children:s.filter(z=>z.status!=="hidden").map(z=>O.jsxs("tr",{className:"border-b border-gray-700 hover:bg-cyan-500/10",children:[O.jsx("td",{className:"py-3 px-4",children:O.jsx("input",{type:"checkbox",checked:l.has(z.id),onChange:()=>P(z.id),className:"rounded"})}),x.includes("cable_number")&&O.jsx("td",{className:"py-3 px-4 text-gray-300 font-medium",children:z.cable_number}),x.includes("flc")&&O.jsx("td",{className:"py-3 px-4 text-gray-300",children:z.flc}),x.includes("derated_current")&&O.jsx("td",{className:"py-3 px-4 text-gray-300",children:z.derated_current}),x.includes("selected_size")&&O.jsxs("td",{className:"py-3 px-4 text-cyan-400 font-semibold cursor-pointer hover:text-cyan-300",onClick:()=>d({cableId:z.id,cores:z.cores,size:z.selected_size,od:z.od,fromEquipment:"",toEquipment:""}),children:[z.selected_size," mm"]}),x.includes("voltage_drop")&&O.jsx("td",{className:"py-3 px-4",children:O.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${z.voltage_drop<5?"bg-green-500/20 text-green-400":z.voltage_drop<8?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"}`,children:[z.voltage_drop,"%"]})}),x.includes("sc_check")&&O.jsx("td",{className:"py-3 px-4",children:z.sc_check?O.jsx("span",{className:"text-green-400",children:""}):O.jsx("span",{className:"text-red-400",children:""})}),x.includes("status")&&O.jsx("td",{className:"py-3 px-4",children:O.jsxs("select",{value:z.status,onChange:Z=>A(z.id,Z.target.value),className:"bg-slate-800 border border-gray-600 rounded px-2 py-1 text-gray-300 text-xs",children:[O.jsx("option",{value:"pending",children:"Pending"}),O.jsx("option",{value:"approved",children:"Approved"}),O.jsx("option",{value:"modified",children:"Modified"}),O.jsx("option",{value:"hold",children:"Hold"}),O.jsx("option",{value:"hidden",children:"Hidden"})]})}),O.jsxs("td",{className:"py-3 px-4 flex gap-2",children:[O.jsx("button",{onClick:()=>A(z.id,"approved"),className:"text-gray-500 hover:text-green-400",title:"Approve",children:O.jsx(Qk,{className:"w-4 h-4"})}),O.jsx("button",{onClick:()=>A(z.id,"hold"),className:"text-gray-500 hover:text-red-400",title:"Hold",children:O.jsx(g1,{className:"w-4 h-4"})})]})]},z.id))})]})})]})]}),_&&O.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center",children:O.jsxs("div",{className:"bg-slate-900 rounded-md p-4 w-96",children:[O.jsxs("div",{className:"flex items-center justify-between mb-3",children:[O.jsx("div",{className:"text-lg font-semibold",children:"Visible Columns"}),O.jsx("button",{onClick:()=>S(!1),className:"p-1 text-slate-300 hover:text-white",children:O.jsx(g1,{size:18})})]}),O.jsx("div",{className:"space-y-2",children:[{key:"cable_number",label:"Cable"},{key:"flc",label:"FLC (A)"},{key:"derated_current",label:"Derated (A)"},{key:"selected_size",label:"Selected Size"},{key:"voltage_drop",label:"V-drop (%)"},{key:"sc_check",label:"Short-circuit"},{key:"status",label:"Status"}].map(z=>O.jsxs("label",{className:"flex items-center gap-3",children:[O.jsx("input",{type:"checkbox",checked:x.includes(z.key),onChange:()=>{w(Z=>Z.includes(z.key)?Z.filter(ee=>ee!==z.key):[...Z,z.key])}}),O.jsx("span",{className:"text-sm",children:z.label})]},z.key))}),O.jsx("div",{className:"flex justify-end mt-4",children:O.jsx("button",{className:"px-3 py-1 bg-slate-700 rounded",onClick:()=>S(!1),children:"Close"})})]})})]})},_Ue=()=>{const[t,e]=fe.useState("L-03 Expansion"),[n,r]=fe.useState("Coal"),[i,a]=fe.useState("IS / IEC / NEC"),[s,o]=fe.useState("Normal");return O.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Project Setup"}),O.jsx("p",{className:"text-gray-400 mb-8",children:"Configure project details and standards"}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Project Information"}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Name"}),O.jsx("input",{type:"text",value:t,onChange:l=>e(l.target.value),className:"w-full bg-slate-800/50 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:border-cyan-500 focus:outline-none"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Plant Type"}),O.jsxs("select",{value:n,onChange:l=>r(l.target.value),className:"w-full bg-slate-800/50 border border-gray-600 rounded-lg px-4 py-2 text-white focus:border-cyan-500 focus:outline-none",children:[O.jsx("option",{children:"Coal"}),O.jsx("option",{children:"Gas"}),O.jsx("option",{children:"Hydro"}),O.jsx("option",{children:"Nuclear"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Standards Used"}),O.jsxs("select",{value:i,onChange:l=>a(l.target.value),className:"w-full bg-slate-800/50 border border-gray-600 rounded-lg px-4 py-2 text-white focus:border-cyan-500 focus:outline-none",children:[O.jsx("option",{children:"IS / IEC / NEC"}),O.jsx("option",{children:"IEC Only"}),O.jsx("option",{children:"IS Only"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Service Condition"}),O.jsxs("select",{value:s,onChange:l=>o(l.target.value),className:"w-full bg-slate-800/50 border border-gray-600 rounded-lg px-4 py-2 text-white focus:border-cyan-500 focus:outline-none",children:[O.jsx("option",{children:"Normal"}),O.jsx("option",{children:"Severe"})]})]})]})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Data Validation"}),O.jsxs("div",{className:"space-y-3",children:[O.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:[O.jsx(fm,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),O.jsxs("div",{children:[O.jsx("p",{className:"text-sm font-medium text-red-400",children:"88 missing fields"}),O.jsx("p",{className:"text-xs text-gray-400",children:"Complete all required fields"})]})]}),O.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-orange-500/10 border border-orange-500/30",children:[O.jsx(fm,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),O.jsxs("div",{children:[O.jsx("p",{className:"text-sm font-medium text-orange-400",children:"32 mismatched tray IDs"}),O.jsx("p",{className:"text-xs text-gray-400",children:"Check tray naming conventions"})]})]}),O.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:[O.jsx(fm,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),O.jsxs("div",{children:[O.jsx("p",{className:"text-sm font-medium text-red-400",children:"119 missing cable ODs"}),O.jsx("p",{className:"text-xs text-gray-400",children:"Update cable catalog"})]})]})]})]})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl mt-8",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Data Import Wizard"}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[O.jsxs("button",{className:"flex items-center justify-center gap-3 p-6 rounded-lg bg-slate-800/40 border border-gray-600 hover:border-cyan-500 hover:bg-cyan-500/10 transition-colors",children:[O.jsx($0,{className:"w-6 h-6 text-cyan-400"}),O.jsxs("div",{className:"text-left",children:[O.jsx("p",{className:"font-medium text-white",children:"Import Load List"}),O.jsx("p",{className:"text-sm text-gray-400",children:"Excel / CSV"})]})]}),O.jsxs("button",{className:"flex items-center justify-center gap-3 p-6 rounded-lg bg-slate-800/40 border border-gray-600 hover:border-cyan-500 hover:bg-cyan-500/10 transition-colors",children:[O.jsx($0,{className:"w-6 h-6 text-cyan-400"}),O.jsxs("div",{className:"text-left",children:[O.jsx("p",{className:"font-medium text-white",children:"Import Cable Schedule"}),O.jsx("p",{className:"text-sm text-gray-400",children:"Excel / CSV"})]})]}),O.jsxs("button",{className:"flex items-center justify-center gap-3 p-6 rounded-lg bg-slate-800/40 border border-gray-600 hover:border-cyan-500 hover:bg-cyan-500/10 transition-colors",children:[O.jsx($0,{className:"w-6 h-6 text-cyan-400"}),O.jsxs("div",{className:"text-left",children:[O.jsx("p",{className:"font-medium text-white",children:"Import Tray/Conduit/Ductbank"}),O.jsx("p",{className:"text-sm text-gray-400",children:"Excel / CSV"})]})]}),O.jsxs("button",{className:"flex items-center justify-center gap-3 p-6 rounded-lg bg-slate-800/40 border border-gray-600 hover:border-cyan-500 hover:bg-cyan-500/10 transition-colors",children:[O.jsx($0,{className:"w-6 h-6 text-cyan-400"}),O.jsxs("div",{className:"text-left",children:[O.jsx("p",{className:"font-medium text-white",children:"Import AutoCAD Layout"}),O.jsx("p",{className:"text-sm text-gray-400",children:"DXF / IFC"})]})]})]})]})]})},o5=t=>{if(!t||typeof t.fill!="number")return 18;const e=t.fill;return Math.min(36,18+Math.floor(e/3))},wUe=t=>{if(!t||typeof t.fill!="number")return"#94a3b8";const e=t.fill;return e>=90?"#f87171":e>=70?"#fb923c":e>=50?"#facc15":"#34d399"},SUe=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState([]);fe.useEffect(()=>{(async()=>{try{const l=await Fn.get("/api/v1/routing/graph");e(l.data.nodes||[]),r(l.data.edges||[])}catch(l){console.error("Failed to fetch graph",l)}})()},[]);const a=(()=>{const c=t.length;return t.map((f,h)=>{const d=h/Math.max(1,c)*Math.PI*2;return{id:f.id,x:200+Math.cos(d)*160,y:160+Math.sin(d)*160,meta:f.meta}})})(),s={};return a.forEach(o=>s[o.id]=o),O.jsx("div",{className:"bg-slate-800/30 rounded p-4",children:O.jsxs("svg",{width:420,height:340,children:[O.jsx("defs",{children:O.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"6",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:O.jsx("path",{d:"M0,0 L6,3 L0,6 L2,3 z",fill:"#94a3b8"})})}),n.map((o,l)=>{const u=s[o.source],c=s[o.target];return!u||!c?null:O.jsx("g",{children:O.jsx("line",{x1:u.x,y1:u.y,x2:c.x,y2:c.y,stroke:"#64748b",strokeWidth:Math.max(1,4-Math.log1p(o.weight)),markerEnd:"url(#arrow)",opacity:.9})},l)}),a.map(o=>O.jsxs("g",{transform:`translate(${o.x},${o.y})`,children:[O.jsx("circle",{r:o5(o.meta),fill:wUe(o.meta),stroke:"#0f172a",strokeWidth:2}),O.jsx("text",{x:0,y:o5(o.meta)+14,textAnchor:"middle",fontSize:12,fill:"#e6eef8",children:o.id})]},o.id))]})})},bUe=()=>{const[t,e]=fe.useState({source:"",target:"",algorithm:"shortest"}),[n,r]=fe.useState(null),[i,a]=fe.useState([]),[s,o]=fe.useState(!1);fe.useEffect(()=>{(async()=>{try{const f=await Fn.get("/api/v1/routing/trays");a(f.data.trays||[])}catch(f){console.error("Failed to fetch trays:",f)}})()},[]);const l=async()=>{if(!t.source||!t.target){alert("Please select both source and target equipment");return}o(!0);try{const c=t.algorithm==="shortest"?"/api/v1/routing/auto":"/api/v1/routing/optimize",f=await Fn.post(c,{source:t.source,target:t.target});r(f.data)}catch(c){alert("Routing calculation failed"),console.error(c)}finally{o(!1)}},u=c=>c>=90?"bg-red-500":c>=70?"bg-orange-500":c>=50?"bg-yellow-500":"bg-green-500";return O.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[O.jsxs("div",{className:"mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Cable Routing"}),O.jsx("p",{className:"text-gray-400",children:"Optimal cable path planning with tray fill consideration"})]}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[O.jsxs("div",{className:"lg:col-span-2 card-glow p-6 rounded-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Route Configuration"}),O.jsxs("div",{className:"space-y-4 mb-6",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Source Equipment"}),O.jsxs("select",{value:t.source,onChange:c=>e({...t,source:c.target.value}),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-cyan-400",children:[O.jsx("option",{value:"",children:"Select source..."}),O.jsx("option",{value:"DB-01",children:"DB-01 (Main Distribution)"}),O.jsx("option",{value:"DB-02",children:"DB-02 (Secondary Dist.)"}),O.jsx("option",{value:"EQ-01",children:"EQ-01 (Equipment 1)"}),O.jsx("option",{value:"EQ-02",children:"EQ-02 (Equipment 2)"}),O.jsx("option",{value:"EQ-03",children:"EQ-03 (Equipment 3)"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Equipment"}),O.jsxs("select",{value:t.target,onChange:c=>e({...t,target:c.target.value}),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-cyan-400",children:[O.jsx("option",{value:"",children:"Select target..."}),O.jsx("option",{value:"DB-01",children:"DB-01 (Main Distribution)"}),O.jsx("option",{value:"DB-02",children:"DB-02 (Secondary Dist.)"}),O.jsx("option",{value:"EQ-01",children:"EQ-01 (Equipment 1)"}),O.jsx("option",{value:"EQ-02",children:"EQ-02 (Equipment 2)"}),O.jsx("option",{value:"EQ-03",children:"EQ-03 (Equipment 3)"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Routing Algorithm"}),O.jsxs("div",{className:"flex gap-4",children:[O.jsxs("label",{className:"flex items-center gap-2",children:[O.jsx("input",{type:"radio",value:"shortest",checked:t.algorithm==="shortest",onChange:c=>e({...t,algorithm:c.target.value}),className:"w-4 h-4"}),O.jsx("span",{className:"text-gray-300",children:"Shortest Path"})]}),O.jsxs("label",{className:"flex items-center gap-2",children:[O.jsx("input",{type:"radio",value:"least-fill",checked:t.algorithm==="least-fill",onChange:c=>e({...t,algorithm:c.target.value}),className:"w-4 h-4"}),O.jsx("span",{className:"text-gray-300",children:"Least Fill"})]})]})]})]}),O.jsxs("button",{onClick:l,disabled:s,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-cyan-500 text-gray-900 font-semibold hover:bg-cyan-400 disabled:opacity-50",children:[O.jsx(tSe,{className:"w-5 h-5"}),s?"Calculating Route...":"Calculate Route"]})]}),n&&O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Route Result"}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Path"}),O.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:n.path.map((c,f)=>O.jsxs(Te.Fragment,{children:[O.jsx("span",{className:"px-3 py-1 rounded-full bg-cyan-500/20 text-cyan-400 text-sm",children:c}),f<n.path.length-1&&O.jsx(Wwe,{className:"w-4 h-4 text-gray-500"})]},f))})]}),O.jsxs("div",{className:"pt-4 border-t border-slate-600",children:[O.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total Length"}),O.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[n.total_length.toFixed(1)," m"]})]}),O.jsxs("div",{className:"pt-4 border-t border-slate-600",children:[O.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Tray Status"}),O.jsx("div",{className:"px-3 py-2 rounded-lg bg-green-500/20 text-green-400 text-sm",children:n.tray_fill_status})]}),n.warnings.length>0&&O.jsxs("div",{className:"pt-4 border-t border-slate-600",children:[O.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Warnings"}),n.warnings.map((c,f)=>O.jsxs("div",{className:"flex gap-2 text-sm text-yellow-400 mb-2",children:[O.jsx(fm,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),O.jsx("span",{children:c})]},f))]})]})]})]}),O.jsxs("div",{className:"mt-8 card-glow p-6 rounded-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Tray Fill Overview"}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[O.jsx("div",{children:O.jsx(SUe,{})}),O.jsx("div",{children:O.jsx("div",{className:"space-y-4",children:i.map(c=>O.jsxs("div",{className:"p-4 rounded-lg bg-slate-700/50 border border-slate-600",children:[O.jsxs("div",{className:"flex items-center justify-between mb-2",children:[O.jsx("p",{className:"text-sm font-medium text-gray-300",children:c.name}),O.jsxs("p",{className:"text-sm font-semibold text-white",children:[c.fill_percentage,"%"]})]}),O.jsx("div",{className:"mb-2",children:O.jsx("div",{className:"h-2 rounded-full bg-slate-600 overflow-hidden",children:O.jsx("div",{className:`h-full ${u(c.fill_percentage)} transition-all`,style:{width:`${c.fill_percentage}%`}})})}),O.jsxs("p",{className:"text-xs text-gray-500",children:[c.capacity," circuits available"]})]},c.name))})})]})]})]})},EUe=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(null),[i,a]=fe.useState(!1);fe.useEffect(()=>{s()},[]);const s=async()=>{try{const g=(await Fn.get("/api/v1/routing/trays")).data.trays||[];e(g.map(v=>({name:v.name,fill_percentage:v.fill_percentage,capacity:v.capacity,used:Math.round(v.fill_percentage/100*v.capacity),warnings:v.fill_percentage>=80?["Approaching capacity limit","Consider load balancing"]:v.fill_percentage>=50?["Medium utilization"]:[]})))}catch(d){console.error("Failed to fetch tray data:",d)}},o=async()=>{a(!0);try{const d=t.find(g=>g.fill_percentage>80);d&&r({tray:d.name,previous_fill:d.fill_percentage,new_fill:d.fill_percentage-15,cables_moved:3,improvement:15})}finally{a(!1)}},l=d=>d>=90?{label:"Critical",color:"text-red-400",bg:"bg-red-500/20",borderColor:"border-red-500/50"}:d>=80?{label:"High",color:"text-orange-400",bg:"bg-orange-500/20",borderColor:"border-orange-500/50"}:d>=50?{label:"Medium",color:"text-yellow-400",bg:"bg-yellow-500/20",borderColor:"border-yellow-500/50"}:{label:"Low",color:"text-green-400",bg:"bg-green-500/20",borderColor:"border-green-500/50"},u=d=>d>=90?"bg-red-500":d>=80?"bg-orange-500":d>=50?"bg-yellow-500":"bg-green-500",c=t.reduce((d,g)=>d+g.capacity,0),f=t.reduce((d,g)=>d+g.used,0),h=c>0?Math.round(f/c*100):0;return O.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[O.jsxs("div",{className:"mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Tray Fill Management"}),O.jsx("p",{className:"text-gray-400",children:"Monitor and optimize cable tray utilization"})]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Total Capacity"}),O.jsx("p",{className:"text-3xl font-bold text-white",children:c}),O.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"circuits"})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Cables Routed"}),O.jsx("p",{className:"text-3xl font-bold text-white",children:f}),O.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"cables"})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Overall Fill"}),O.jsxs("p",{className:`text-3xl font-bold ${h>=80?"text-orange-400":"text-cyan-400"}`,children:[h,"%"]}),O.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"average"})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Available Slots"}),O.jsx("p",{className:"text-3xl font-bold text-green-400",children:c-f}),O.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"remaining"})]})]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(d=>{const g=l(d.fill_percentage);return O.jsxs("div",{className:`card-glow p-6 rounded-xl border ${g.borderColor}`,children:[O.jsxs("div",{className:"flex items-start justify-between mb-4",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"text-lg font-semibold text-white",children:d.name}),O.jsx("p",{className:`text-sm font-medium ${g.color}`,children:g.label})]}),O.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g.bg} ${g.color}`,children:[d.fill_percentage,"%"]})]}),O.jsxs("div",{className:"mb-4",children:[O.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-2",children:[O.jsx("span",{children:"Fill Level"}),O.jsxs("span",{children:[d.used," / ",d.capacity]})]}),O.jsx("div",{className:"h-3 rounded-full bg-slate-600 overflow-hidden",children:O.jsx("div",{className:`h-full ${u(d.fill_percentage)} transition-all rounded-full`,style:{width:`${d.fill_percentage}%`}})})]}),d.warnings.length>0&&O.jsx("div",{className:"space-y-2 pt-4 border-t border-slate-600",children:d.warnings.map((v,y)=>O.jsxs("div",{className:"flex gap-2 text-xs text-yellow-400",children:[O.jsx(Jk,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),O.jsx("span",{children:v})]},y))})]},d.name)})}),O.jsxs("div",{className:"card-glow p-6 rounded-xl mb-8",children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsxs("div",{children:[O.jsx("h2",{className:"text-xl font-semibold text-white",children:"Tray Optimization"}),O.jsx("p",{className:"text-sm text-gray-400",children:"Rebalance cables to optimize fill distribution"})]}),O.jsxs("button",{onClick:o,disabled:i,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-cyan-500 text-gray-900 font-semibold hover:bg-cyan-400 disabled:opacity-50",children:[O.jsx(Gwe,{className:"w-5 h-5"}),i?"Optimizing...":"Optimize Distribution"]})]}),n&&O.jsx("div",{className:"bg-slate-700/50 p-4 rounded-lg border border-slate-600",children:O.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Tray"}),O.jsx("p",{className:"text-lg font-semibold text-white",children:n.tray})]}),O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Previous Fill"}),O.jsxs("p",{className:"text-lg font-semibold text-orange-400",children:[n.previous_fill,"%"]})]}),O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Optimized Fill"}),O.jsxs("p",{className:"text-lg font-semibold text-green-400",children:[n.new_fill,"%"]})]}),O.jsxs("div",{children:[O.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Improvement"}),O.jsxs("p",{className:"text-lg font-semibold text-cyan-400",children:["+",n.improvement,"%"]})]}),O.jsx("div",{className:"md:col-span-4",children:O.jsxs("p",{className:"text-sm text-gray-300",children:[O.jsx(Ag,{className:"w-4 h-4 inline mr-2 text-yellow-400"}),n.cables_moved," cables rebalanced to optimize tray utilization"]})})]})})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recommendations"}),O.jsxs("div",{className:"space-y-3",children:[t.filter(d=>d.fill_percentage>=80).length>0&&O.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-orange-500/10 border border-orange-500/30",children:[O.jsx(Jk,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium text-orange-400",children:"Load Balancing Required"}),O.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:[t.filter(d=>d.fill_percentage>=80).length," tray(s) exceeding 80% capacity. Consider rebalancing cables."]})]})]}),O.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[O.jsx(Ag,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium text-blue-400",children:"Peak Efficiency"}),O.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Ideal tray utilization is 60-70%. Current average: ",h,"%"]})]})]})]})]})]})},TUe=()=>{const[t]=fe.useState("RW-01");return O.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[O.jsxs("div",{className:"mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Raceway Layout"}),O.jsx("p",{className:"text-gray-400",children:"2D and 3D visualization of raceway paths and cable arrangement"})]}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Raceways"}),O.jsx("div",{className:"space-y-2",children:["RW-01","RW-02","RW-03"].map(e=>O.jsx("button",{className:`w-full text-left px-4 py-2 rounded-lg transition ${t===e?"bg-cyan-500 text-gray-900 font-semibold":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:e},e))})]}),O.jsxs("div",{className:"lg:col-span-3 card-glow p-6 rounded-xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Layout View - ",t]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition",children:O.jsx(nSe,{className:"w-5 h-5 text-gray-400"})}),O.jsx("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition",children:O.jsx(YO,{className:"w-5 h-5 text-gray-400"})})]})]}),O.jsx("div",{className:"bg-slate-800 rounded-lg p-8 flex items-center justify-center min-h-96",children:O.jsxs("div",{className:"text-center",children:[O.jsx(Zwe,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),O.jsx("p",{className:"text-gray-400",children:"3D Raceway Visualization"}),O.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Interactive 3D view coming soon"})]})})]})]})]})},AUe=()=>{const[t,e]=fe.useState({cableLength:500,drumSize:"standard",wireType:"xlpe"}),r={compact:{diameter:500,width:300,capacity:100},standard:{diameter:1e3,width:500,capacity:500},large:{diameter:1500,width:750,capacity:1500}}[t.drumSize],i=Math.ceil(t.cableLength/r.capacity);return O.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[O.jsxs("div",{className:"mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Drum Estimation"}),O.jsx("p",{className:"text-gray-400",children:"Calculate optimal drum configuration for cable spools"})]}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Configuration"}),O.jsxs("div",{className:"space-y-4 mb-6",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Total Cable Length (m)"}),O.jsx("input",{type:"number",value:t.cableLength,onChange:a=>e({...t,cableLength:parseInt(a.target.value)}),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-cyan-400"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Drum Size"}),O.jsxs("select",{value:t.drumSize,onChange:a=>e({...t,drumSize:a.target.value}),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-cyan-400",children:[O.jsx("option",{value:"compact",children:"Compact (100m capacity)"}),O.jsx("option",{value:"standard",children:"Standard (500m capacity)"}),O.jsx("option",{value:"large",children:"Large (1500m capacity)"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Wire Type"}),O.jsxs("select",{value:t.wireType,onChange:a=>e({...t,wireType:a.target.value}),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white focus:outline-none focus:border-cyan-400",children:[O.jsx("option",{value:"xlpe",children:"XLPE Insulated"}),O.jsx("option",{value:"pvc",children:"PVC Insulated"}),O.jsx("option",{value:"armored",children:"Armored"})]})]})]}),O.jsxs("div",{className:"pt-6 border-t border-slate-600",children:[O.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Drum Specifications"}),O.jsxs("div",{className:"space-y-1 text-sm",children:[O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-gray-400",children:"Diameter"}),O.jsxs("span",{className:"text-white font-semibold",children:[r.diameter,"mm"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-gray-400",children:"Width"}),O.jsxs("span",{className:"text-white font-semibold",children:[r.width,"mm"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-gray-400",children:"Capacity"}),O.jsxs("span",{className:"text-cyan-400 font-semibold",children:[r.capacity,"m"]})]})]})]})]}),O.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Estimation Results"}),O.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[O.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[O.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Required Drums"}),O.jsx("p",{className:"text-4xl font-bold text-cyan-400",children:i})]}),O.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[O.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Drum Capacity"}),O.jsxs("p",{className:"text-4xl font-bold text-green-400",children:[i*r.capacity,"m"]})]})]}),O.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[O.jsxs("div",{className:"flex gap-2 mb-3",children:[O.jsx(iSe,{className:"w-5 h-5 text-orange-400 flex-shrink-0"}),O.jsx("p",{className:"font-medium text-white",children:"Drum Details"})]}),O.jsx("div",{className:"space-y-2 text-sm",children:Array.from({length:i}).map((a,s)=>{const o=Math.max(0,t.cableLength-s*r.capacity),l=Math.min(o,r.capacity),u=l/r.capacity*100;return O.jsxs("div",{className:"bg-slate-800 p-3 rounded",children:[O.jsxs("div",{className:"flex justify-between mb-1",children:[O.jsxs("span",{className:"text-gray-300",children:["Drum ",s+1]}),O.jsxs("span",{className:"text-cyan-400 font-semibold",children:[l,"m / ",r.capacity,"m"]})]}),O.jsx("div",{className:"h-2 rounded-full bg-slate-600 overflow-hidden",children:O.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${u}%`}})})]},s)})})]})]}),O.jsx("div",{className:"card-glow p-6 rounded-xl",children:O.jsxs("div",{className:"flex gap-3 text-sm text-blue-400",children:[O.jsx(Jwe,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium",children:"Optimization Tips"}),O.jsxs("ul",{className:"text-gray-300 mt-2 space-y-1 text-xs",children:[O.jsx("li",{children:" Select drum size based on available transport capacity"}),O.jsx("li",{children:" Consider weight limits for each drum type"}),O.jsx("li",{children:" Leave 10-15% headroom for safe handling"})]})]})]})})]})]})]})},MUe=()=>{const[t,e]=fe.useState([{id:"1",cableId:"CA-001",fromTerminal:"TP-A1",toTerminal:"TP-B1",quantity:1,status:"installed"},{id:"2",cableId:"CA-002",fromTerminal:"TP-A2",toTerminal:"TP-B2",quantity:3,status:"verified"}]),[n,r]=fe.useState({cableId:"",fromTerminal:"",toTerminal:"",quantity:1}),i=()=>{n.cableId&&n.fromTerminal&&n.toTerminal&&(e([...t,{id:Date.now().toString(),...n,status:"pending"}]),r({cableId:"",fromTerminal:"",toTerminal:"",quantity:1}))},a=(l,u)=>{e(t.map(c=>c.id===l?{...c,status:u}:c))},s=l=>{e(t.filter(u=>u.id!==l))},o=l=>{switch(l){case"pending":return"bg-yellow-500/20 text-yellow-400";case"installed":return"bg-blue-500/20 text-blue-400";case"verified":return"bg-green-500/20 text-green-400";default:return"bg-gray-500/20 text-gray-400"}};return O.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[O.jsxs("div",{className:"mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Termination Manager"}),O.jsx("p",{className:"text-gray-400",children:"Manage cable termination schedule and verification"})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl mb-8",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Add New Termination"}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[O.jsx("input",{type:"text",placeholder:"Cable ID",value:n.cableId,onChange:l=>r({...n,cableId:l.target.value}),className:"px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-400"}),O.jsx("input",{type:"text",placeholder:"From Terminal",value:n.fromTerminal,onChange:l=>r({...n,fromTerminal:l.target.value}),className:"px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-400"}),O.jsx("input",{type:"text",placeholder:"To Terminal",value:n.toTerminal,onChange:l=>r({...n,toTerminal:l.target.value}),className:"px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-400"}),O.jsx("input",{type:"number",min:"1",placeholder:"Quantity",value:n.quantity,onChange:l=>r({...n,quantity:parseInt(l.target.value)}),className:"px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-400"}),O.jsxs("button",{onClick:i,className:"px-4 py-2 rounded-lg bg-cyan-500 text-gray-900 font-semibold hover:bg-cyan-400 flex items-center justify-center gap-2",children:[O.jsx(qO,{className:"w-4 h-4"}),"Add"]})]})]}),O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Termination Schedule"}),O.jsx("div",{className:"overflow-x-auto",children:O.jsxs("table",{className:"w-full",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"border-b border-slate-600",children:[O.jsx("th",{className:"text-left px-4 py-3 text-gray-300 font-medium",children:"Cable ID"}),O.jsx("th",{className:"text-left px-4 py-3 text-gray-300 font-medium",children:"From Terminal"}),O.jsx("th",{className:"text-left px-4 py-3 text-gray-300 font-medium",children:"To Terminal"}),O.jsx("th",{className:"text-center px-4 py-3 text-gray-300 font-medium",children:"Quantity"}),O.jsx("th",{className:"text-center px-4 py-3 text-gray-300 font-medium",children:"Status"}),O.jsx("th",{className:"text-center px-4 py-3 text-gray-300 font-medium",children:"Actions"})]})}),O.jsx("tbody",{children:t.map(l=>O.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[O.jsx("td",{className:"px-4 py-3 text-white",children:l.cableId}),O.jsx("td",{className:"px-4 py-3 text-gray-300",children:l.fromTerminal}),O.jsx("td",{className:"px-4 py-3 text-gray-300",children:l.toTerminal}),O.jsx("td",{className:"px-4 py-3 text-center text-white",children:l.quantity}),O.jsx("td",{className:"px-4 py-3 text-center",children:O.jsxs("select",{value:l.status,onChange:u=>a(l.id,u.target.value),className:`px-3 py-1 rounded-full text-xs font-medium cursor-pointer outline-none ${o(l.status)}`,children:[O.jsx("option",{value:"pending",children:"Pending"}),O.jsx("option",{value:"installed",children:"Installed"}),O.jsx("option",{value:"verified",children:"Verified"})]})}),O.jsx("td",{className:"px-4 py-3 text-center",children:O.jsxs("div",{className:"flex gap-2 justify-center",children:[O.jsx("button",{className:"p-1 hover:bg-slate-700 rounded transition",children:O.jsx(a7,{className:"w-4 h-4 text-blue-400"})}),O.jsx("button",{onClick:()=>s(l.id),className:"p-1 hover:bg-slate-700 rounded transition",children:O.jsx(s7,{className:"w-4 h-4 text-red-400"})})]})})]},l.id))})]})}),O.jsx("div",{className:"mt-6 pt-6 border-t border-slate-600",children:O.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[O.jsxs("div",{className:"text-center",children:[O.jsx("p",{className:"text-gray-400 text-sm",children:"Total Terminations"}),O.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]}),O.jsxs("div",{className:"text-center",children:[O.jsx("p",{className:"text-gray-400 text-sm",children:"Pending Verification"}),O.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:t.filter(l=>l.status==="pending").length})]}),O.jsxs("div",{className:"text-center",children:[O.jsx("p",{className:"text-gray-400 text-sm",children:"Verified"}),O.jsx("p",{className:"text-2xl font-bold text-green-400",children:t.filter(l=>l.status==="verified").length})]})]})})]})]})},CUe=()=>{const[t]=fe.useState([{id:"1",name:"Cable Sizing Report - L-03",description:"Complete cable sizing for Project L-03 with all calculations and derating factors",generated:"2025-12-05",type:"sizing"},{id:"2",name:"Tray Fill Analysis",description:"Comprehensive tray fill report with heatmap and utilization metrics",generated:"2025-12-04",type:"tray"},{id:"3",name:"Cable Routing Schedule",description:"Optimal cable routing paths with tray assignments and length estimates",generated:"2025-12-03",type:"routing"}]);return O.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[O.jsxs("div",{className:"mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Reports & Export"}),O.jsx("p",{className:"text-gray-400",children:"Generate and download engineering reports"})]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>O.jsxs("div",{className:"card-glow p-6 rounded-xl",children:[O.jsxs("div",{className:"flex items-start justify-between mb-4",children:[O.jsx(qwe,{className:"w-6 h-6 text-cyan-400"}),O.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-500/20 text-cyan-400",children:e.type})]}),O.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e.name}),O.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),O.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Generated: ",e.generated]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 text-sm",children:[O.jsx(Ywe,{className:"w-4 h-4"}),"Preview"]}),O.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 text-sm",children:[O.jsx(YO,{className:"w-4 h-4"}),"Download"]})]})]},e.id))})]})},PUe=({isOpen:t})=>{const e=dp(),[n,r]=Te.useState(null),i=[{label:"Dashboard",icon:Qwe,path:"/"},{label:"Quick Access",icon:eSe,submenu:[{label:"Cable Sizing",path:"/cable-sizing"},{label:"Cable Routing",path:"/cable-routing"},{label:"Tray Fill",path:"/tray-fill"},{label:"Ductbank Fill",path:"/ductbank-fill"},{label:"Conduit Fill",path:"/conduit-fill"},{label:"Raceway Layout",path:"/raceway-layout"},{label:"GA Layout",path:"/ga-layout"},{label:"Equipment Library",path:"/equipment-library"},{label:"Termination Manager",path:"/termination"},{label:"Drum Estimation",path:"/drum-estimation"},{label:"Cable Specifications",path:"/cable-spec"},{label:"Cable Schedule",path:"/cable-schedule"},{label:"ICS",path:"/ics"},{label:"Reports",path:"/reports"}]},{label:"Project Setup",icon:rSe,path:"/project-setup"}],a=s=>e.pathname===s;return O.jsxs("div",{className:`${t?"w-64":"w-20"} bg-slate-900/50 border-r border-cyan-500/20 h-screen overflow-y-auto transition-all duration-300 flex flex-col`,children:[O.jsx("div",{className:"p-6 border-b border-cyan-500/20",children:O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-400 to-blue-500 flex items-center justify-center",children:O.jsx(Ag,{className:"w-6 h-6 text-white"})}),t&&O.jsx("span",{className:"font-bold text-white text-sm",children:"SCEAP"})]})}),O.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map((s,o)=>O.jsxs("div",{children:[s.submenu?O.jsxs("button",{onClick:()=>r(n===s.label?null:s.label),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${n===s.label?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400 hover:bg-cyan-500/10"}`,children:[O.jsx(s.icon,{className:"w-5 h-5 flex-shrink-0"}),t&&O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"flex-1 text-sm font-medium text-left",children:s.label}),O.jsx($we,{className:`w-4 h-4 transition-transform ${n===s.label?"rotate-180":""}`})]})]}):O.jsxs(r4,{to:s.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${a(s.path)?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400 hover:bg-cyan-500/10"}`,children:[O.jsx(s.icon,{className:"w-5 h-5 flex-shrink-0"}),t&&O.jsx("span",{className:"text-sm font-medium",children:s.label})]}),t&&n===s.label&&s.submenu&&O.jsx("div",{className:"ml-6 mt-2 space-y-1 border-l border-cyan-500/20 pl-3",children:s.submenu.map((l,u)=>O.jsx(r4,{to:l.path,className:`block px-3 py-2 rounded-lg text-xs transition-colors ${a(l.path)?"bg-cyan-500/20 text-cyan-300":"text-gray-500 hover:text-cyan-400"}`,children:l.label},u))})]},o))}),t&&O.jsx("div",{className:"p-4 border-t border-cyan-500/20 space-y-2",children:O.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors text-sm font-medium",children:[O.jsx(qO,{className:"w-4 h-4"}),"New Cable"]})})]})};function OUe(){const[t]=fe.useState(!0);return O.jsx(Kq,{children:O.jsxs("div",{className:"flex h-screen bg-slate-950",children:[O.jsx(PUe,{isOpen:t}),O.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:O.jsx("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900",children:O.jsxs(Wq,{children:[O.jsx(Fs,{path:"/",element:O.jsx(aSe,{})}),O.jsx(Fs,{path:"/cable-sizing",element:O.jsx(xUe,{})}),O.jsx(Fs,{path:"/project-setup",element:O.jsx(_Ue,{})}),O.jsx(Fs,{path:"/cable-routing",element:O.jsx(bUe,{})}),O.jsx(Fs,{path:"/tray-fill",element:O.jsx(EUe,{})}),O.jsx(Fs,{path:"/raceway-layout",element:O.jsx(TUe,{})}),O.jsx(Fs,{path:"/drum-estimation",element:O.jsx(AUe,{})}),O.jsx(Fs,{path:"/termination",element:O.jsx(MUe,{})}),O.jsx(Fs,{path:"/reports",element:O.jsx(CUe,{})}),O.jsx(Fs,{path:"*",element:O.jsx(jq,{to:"/",replace:!0})})]})})})]})})}yT.createRoot(document.getElementById("root")).render(O.jsx(Te.StrictMode,{children:O.jsx(OUe,{})}));
